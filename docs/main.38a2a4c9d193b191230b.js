(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("EY2u"),i=n("LRne"),o=n("z6cu");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return yo})),n.d(e,"b",(function(){return $a})),n.d(e,"c",(function(){return Ha})),n.d(e,"d",(function(){return Ua})),n.d(e,"e",(function(){return qa})),n.d(e,"f",(function(){return Mu})),n.d(e,"g",(function(){return Tu})),n.d(e,"h",(function(){return Xi})),n.d(e,"i",(function(){return iu})),n.d(e,"j",(function(){return Ps})),n.d(e,"k",(function(){return Za})),n.d(e,"l",(function(){return Ds})),n.d(e,"m",(function(){return Tn})),n.d(e,"n",(function(){return Ea})),n.d(e,"o",(function(){return J})),n.d(e,"p",(function(){return d})),n.d(e,"q",(function(){return W})),n.d(e,"r",(function(){return bo})),n.d(e,"s",(function(){return Xs})),n.d(e,"t",(function(){return ta})),n.d(e,"u",(function(){return Ja})),n.d(e,"v",(function(){return lt})),n.d(e,"w",(function(){return ju})),n.d(e,"x",(function(){return ct})),n.d(e,"y",(function(){return Ou})),n.d(e,"z",(function(){return au})),n.d(e,"A",(function(){return p})),n.d(e,"B",(function(){return Ga})),n.d(e,"C",(function(){return Ka})),n.d(e,"D",(function(){return Vs})),n.d(e,"E",(function(){return Ls})),n.d(e,"F",(function(){return Ms})),n.d(e,"G",(function(){return Us})),n.d(e,"H",(function(){return gr})),n.d(e,"I",(function(){return m})),n.d(e,"J",(function(){return Nu})),n.d(e,"K",(function(){return ia})),n.d(e,"L",(function(){return gu})),n.d(e,"M",(function(){return eo})),n.d(e,"N",(function(){return Hs})),n.d(e,"O",(function(){return qs})),n.d(e,"P",(function(){return sa})),n.d(e,"Q",(function(){return yt})),n.d(e,"R",(function(){return Eu})),n.d(e,"S",(function(){return Kn})),n.d(e,"T",(function(){return P})),n.d(e,"U",(function(){return Bn})),n.d(e,"V",(function(){return Ru})),n.d(e,"W",(function(){return yu})),n.d(e,"X",(function(){return Wa})),n.d(e,"Y",(function(){return no})),n.d(e,"Z",(function(){return vs})),n.d(e,"ab",(function(){return dr})),n.d(e,"bb",(function(){return Zn})),n.d(e,"cb",(function(){return Rn})),n.d(e,"db",(function(){return Mn})),n.d(e,"eb",(function(){return qn})),n.d(e,"fb",(function(){return Fn})),n.d(e,"gb",(function(){return Vn})),n.d(e,"hb",(function(){return Un})),n.d(e,"ib",(function(){return gs})),n.d(e,"jb",(function(){return Du})),n.d(e,"kb",(function(){return ms})),n.d(e,"lb",(function(){return bs})),n.d(e,"mb",(function(){return Ln})),n.d(e,"nb",(function(){return U})),n.d(e,"ob",(function(){return jo})),n.d(e,"pb",(function(){return Go})),n.d(e,"qb",(function(){return Ko})),n.d(e,"rb",(function(){return ps})),n.d(e,"sb",(function(){return ee})),n.d(e,"tb",(function(){return A})),n.d(e,"ub",(function(){return Dn})),n.d(e,"vb",(function(){return _o})),n.d(e,"wb",(function(){return Jt})),n.d(e,"xb",(function(){return As})),n.d(e,"yb",(function(){return Lr})),n.d(e,"zb",(function(){return Po})),n.d(e,"Ab",(function(){return ns})),n.d(e,"Bb",(function(){return Ra})),n.d(e,"Cb",(function(){return Ot})),n.d(e,"Db",(function(){return jt})),n.d(e,"Eb",(function(){return w})),n.d(e,"Fb",(function(){return _})),n.d(e,"Gb",(function(){return St})),n.d(e,"Hb",(function(){return At})),n.d(e,"Ib",(function(){return Mo})),n.d(e,"Jb",(function(){return zo})),n.d(e,"Kb",(function(){return Ho})),n.d(e,"Lb",(function(){return qo})),n.d(e,"Mb",(function(){return Bo})),n.d(e,"Nb",(function(){return En})),n.d(e,"Ob",(function(){return ls})),n.d(e,"Pb",(function(){return ot})),n.d(e,"Qb",(function(){return Vo})),n.d(e,"Rb",(function(){return Fa})),n.d(e,"Sb",(function(){return $o})),n.d(e,"Tb",(function(){return La})),n.d(e,"Ub",(function(){return Zo})),n.d(e,"Vb",(function(){return ya})),n.d(e,"Wb",(function(){return va})),n.d(e,"Xb",(function(){return wa})),n.d(e,"Yb",(function(){return Fo})),n.d(e,"Zb",(function(){return Yo})),n.d(e,"ac",(function(){return Qo})),n.d(e,"bc",(function(){return Da})),n.d(e,"cc",(function(){return Lo})),n.d(e,"dc",(function(){return _e})),n.d(e,"ec",(function(){return mr})),n.d(e,"fc",(function(){return br})),n.d(e,"gc",(function(){return Tt})),n.d(e,"hc",(function(){return Ro})),n.d(e,"ic",(function(){return Va})),n.d(e,"jc",(function(){return as})),n.d(e,"kc",(function(){return us})),n.d(e,"lc",(function(){return cs}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("oB13"),u=n("x+ZX");function c(){return new r.a}function l(t){return{toString:t}.toString()}const h="__parameters__";function f(t,e,n){return l(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(h)?t[h]:Object.defineProperty(t,h,{value:[]})[h];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const d=f("Inject",t=>({token:t})),p=f("Optional"),g=f("Self"),m=f("SkipSelf");var b=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function y(t){for(let e in t)if(t[e]===y)return e;throw Error("Could not find renamed property on target object.")}function v(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function O(t){return E(t,t[I])||E(t,t[x])}function E(t,e){return e&&e.token===t?e:null}function C(t){return t&&(t.hasOwnProperty(S)||t.hasOwnProperty(j))?t[S]:null}const I=y({"\u0275prov":y}),S=y({"\u0275inj":y}),T=y({"\u0275provFallback":y}),x=y({ngInjectableDef:y}),j=y({ngInjectorDef:y});function A(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(A).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function k(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const N=y({__forward_ref__:y});function P(t){return t.__forward_ref__=P,t.toString=function(){return A(this())},t}function D(t){return R(t)?t():t}function R(t){return"function"==typeof t&&t.hasOwnProperty(N)&&t.__forward_ref__===P}const L="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,F="undefined"!=typeof global&&global,U=L||F||M||V,q=y({"\u0275cmp":y}),H=y({"\u0275dir":y}),z=y({"\u0275pipe":y}),B=y({"\u0275mod":y}),K=y({"\u0275loc":y}),G=y({"\u0275fac":y}),$=y({__NG_ELEMENT_ID__:y});class W{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const J=new W("INJECTOR",-1),Z={},Y=/\n/gm,Q="__source",X=y({provide:String,useValue:y});let tt,et=void 0;function nt(t){const e=et;return et=t,e}function rt(t){const e=tt;return tt=t,e}function it(t,e=b.Default){if(void 0===et)throw new Error("inject() must be called from an injection context");return null===et?st(t,void 0,e):et.get(t,e&b.Optional?null:void 0,e)}function ot(t,e=b.Default){return(tt||it)(D(t),e)}function st(t,e,n){const r=O(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&b.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${A(t)}]`)}function at(t){const e=[];for(let n=0;n<t.length;n++){const r=D(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=b.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof p||"Optional"===i.ngMetadataName||i===p?n|=b.Optional:i instanceof m||"SkipSelf"===i.ngMetadataName||i===m?n|=b.SkipSelf:i instanceof g||"Self"===i.ngMetadataName||i===g?n|=b.Self:t=i instanceof d||i===d?i.token:i}e.push(ot(t,n))}else e.push(ot(r))}return e}class ut{get(t,e=Z){if(e===Z){const e=new Error(`NullInjectorError: No provider for ${A(t)}!`);throw e.name="NullInjectorError",e}return e}}class ct{}class lt{}function ht(t,e){t.forEach(t=>Array.isArray(t)?ht(t,e):e(t))}function ft(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pt(t,e,n){let r=mt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function gt(t,e){const n=mt(t,e);if(n>=0)return t[1|n]}function mt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var bt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),yt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const vt={},wt=[];let _t=0;function Ot(t){return l(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||wt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||yt.Emulated,id:"c",styles:t.styles||wt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=_t++,n.inputs=xt(t.inputs,e),n.outputs=xt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ct):null,n})}function Et(t){return kt(t)||function(t){return t[H]||null}(t)}function Ct(t){return function(t){return t[z]||null}(t)}const It={};function St(t){const e={type:t.type,bootstrap:t.bootstrap||wt,declarations:t.declarations||wt,imports:t.imports||wt,exports:t.exports||wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&l(()=>{It[t.id]=t.type}),e}function Tt(t,e){return l(()=>{const n=Pt(t,!0);n.declarations=e.declarations||wt,n.imports=e.imports||wt,n.exports=e.exports||wt})}function xt(t,e){if(null==t)return vt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const jt=Ot;function At(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function kt(t){return t[q]||null}function Nt(t,e){return t.hasOwnProperty(G)?t[G]:null}function Pt(t,e){const n=t[B]||null;if(!n&&!0===e)throw new Error(`Type ${A(t)} does not have '\u0275mod' property.`);return n}const Dt=20,Rt=10;function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Mt(t){return Array.isArray(t)&&!0===t[1]}function Vt(t){return 0!=(8&t.flags)}function Ft(t){return 2==(2&t.flags)}function Ut(t){return 1==(1&t.flags)}function qt(t){return null!==t.template}function Ht(t){return 0!=(512&t[2])}function zt(t){return"string"==typeof t?t:null==t?"":""+t}function Bt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():zt(t)}const Kt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(U))();function Gt(t){return t instanceof Function?t():t}function $t(t,e){const n=e?" in "+e:"";throw new Error(`No provider for ${Bt(t)} found${n}`)}class Wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Jt(){return Zt}function Zt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Qt),Yt}function Yt(){const t=Xt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===vt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Qt(t,e,n,r){const i=Xt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:vt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Wt(u&&u.currentValue,e,s===vt),t[r]=e}function Xt(t){return t.__ngSimpleChanges__||null}Jt.ngInherit=!0;let te=void 0;function ee(t){te=t}function ne(){return void 0!==te?te:"undefined"!=typeof document?document:void 0}function re(t){return!!t.listen}const ie={createRenderer:(t,e)=>ne()};function oe(t){for(;Array.isArray(t);)t=t[0];return t}function se(t,e){return oe(e[t+Dt])}function ae(t,e){return oe(e[t.index])}function ue(t,e){return t.data[e+Dt]}function ce(t,e){return t[e+Dt]}function le(t,e){const n=e[t];return Lt(n)?n:n[0]}function he(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function fe(t){return 4==(4&t[2])}function de(t){return 128==(128&t[2])}function pe(t,e){return null===t||null==e?null:t[e]}function ge(t){t[18]=0}function me(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const be={lFrame:Le(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ye(){return be.bindingsEnabled}function ve(){return be.lFrame.lView}function we(){return be.lFrame.tView}function _e(t){be.lFrame.contextLView=t}function Oe(){return be.lFrame.currentTNode}function Ee(t,e){be.lFrame.currentTNode=t,be.lFrame.isParent=e}function Ce(){return be.lFrame.isParent}function Ie(){return be.isInCheckNoChangesMode}function Se(t){be.isInCheckNoChangesMode=t}function Te(){const t=be.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function xe(){return be.lFrame.bindingIndex++}function je(t,e){const n=be.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ae(e)}function Ae(t){be.lFrame.currentDirectiveIndex=t}function ke(){return be.lFrame.currentQueryIndex}function Ne(t){be.lFrame.currentQueryIndex=t}function Pe(t,e){const n=Re();be.lFrame=n,n.currentTNode=e,n.lView=t}function De(t){const e=Re(),n=t[1];be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Re(){const t=be.lFrame,e=null===t?null:t.child;return null===e?Le(t):e}function Le(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Me(){const t=be.lFrame;return be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ve=Me;function Fe(){const t=Me();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ue(){return be.lFrame.selectedIndex}function qe(t){be.lFrame.selectedIndex=t}function He(){const t=be.lFrame;return ue(t.tView,t.selectedIndex)}function ze(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Be(t,e,n){$e(t,e,3,n)}function Ke(t,e,n,r){(3&t[2])===n&&$e(t,e,n,r)}function Ge(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function $e(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(We(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function We(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Je=-1;class Ze{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ye(t,e,n){const r=re(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Xe(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Qe(t){return 3===t||4===t||6===t}function Xe(t){return 64===t.charCodeAt(0)}function tn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||en(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function en(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function nn(t){return t!==Je}function rn(t){return 32767&t}function on(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let sn=!0;function an(t){const e=sn;return sn=t,e}let un=0;function cn(t,e){const n=hn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ln(r.data,t),ln(e,null),ln(r.blueprint,null));const i=fn(t,e),o=t.injectorIndex;if(nn(i)){const t=rn(i),n=on(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function ln(t,e){t.push(0,0,0,0,0,0,0,0,e)}function hn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function fn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Je;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Je}function dn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty($)&&(r=n[$]),null==r&&(r=n[$]=un++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function pn(t,e,n,r=b.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty($)?t[$]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Pe(e,t);try{const t=i();if(null!=t||r&b.Optional)return t;$t(n)}finally{Ve()}}else if("number"==typeof i){if(-1===i)return new _n(t,e);let o=null,s=hn(t,e),a=Je,u=r&b.Host?e[16][6]:null;for((-1===s||r&b.SkipSelf)&&(a=-1===s?fn(t,e):e[s+8],a!==Je&&wn(r,!1)?(o=e[1],s=rn(a),e=on(a,e)):s=-1);-1!==s;){const t=e[1];if(vn(i,s,t.data)){const t=mn(s,e,n,o,r,u);if(t!==gn)return t}a=e[s+8],a!==Je&&wn(r,e[1].data[s+8]===u)&&vn(i,s,e)?(o=t,s=rn(a),e=on(a,e)):s=-1}}}if(r&b.Optional&&void 0===i&&(i=null),0==(r&(b.Self|b.Host))){const t=e[9],o=rt(void 0);try{return t?t.get(n,i,r&b.Optional):st(n,i,r&b.Optional)}finally{rt(o)}}if(r&b.Optional)return i;$t(n,"NodeInjector")}const gn={};function mn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=bn(a,s,n,null==r?Ft(a)&&sn:r!=s&&2===a.type,i&b.Host&&o===a);return null!==u?yn(e,s,u,a):gn}function bn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&qt(t)&&t.type===n)return u}return null}function yn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ze){const s=i;s.resolving&&function(t,e){throw new Error("Circular dependency in DI detected for "+t)}(Bt(o[n]));const a=an(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?rt(s.injectImpl):null;Pe(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Zt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&rt(u),an(a),s.resolving=!1,Ve()}}return i}function vn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function wn(t,e){return!(t&b.Self||t&b.Host&&e)}class _n{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return pn(this._tNode,this._lView,t,void 0,e)}}function On(t){const e=t;if(R(t))return()=>{const t=On(D(e));return t?t():null};let n=Nt(e);if(null===n){const t=C(e);n=t&&t.factory}return n||null}function En(t){return l(()=>{const e=t.prototype.constructor,n=e[G]||On(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[G]||On(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Cn(t){return t.ngDebugContext}function In(t){return t.ngOriginalError}function Sn(t,...e){t.error(...e)}class Tn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Sn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Cn(t)?Cn(t):this._findContext(In(t)):null}_findOriginalError(t){let e=In(t);for(;e&&In(e);)e=In(e);return e}}class xn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class jn extends xn{getTypeName(){return"HTML"}}class An extends xn{getTypeName(){return"Style"}}class kn extends xn{getTypeName(){return"Script"}}class Nn extends xn{getTypeName(){return"URL"}}class Pn extends xn{getTypeName(){return"ResourceURL"}}function Dn(t){return t instanceof xn?t.changingThisBreaksApplicationSecurity:t}function Rn(t,e){const n=Ln(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Ln(t){return t instanceof xn&&t.getTypeName()||null}function Mn(t){return new jn(t)}function Vn(t){return new An(t)}function Fn(t){return new kn(t)}function Un(t){return new Nn(t)}function qn(t){return new Pn(t)}let Hn=!0,zn=!1;function Bn(){return zn=!0,Hn}function Kn(){if(zn)throw new Error("Cannot enable prod mode after platform setup.");Hn=!1}class Gn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class $n{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zn(t){return(t=String(t)).match(Wn)||t.match(Jn)?t:(Bn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Yn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Qn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Xn=Yn("area,br,col,hr,img,wbr"),tr=Yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Yn("rp,rt"),nr=Qn(er,tr),rr=Qn(Xn,Qn(tr,Yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qn(er,Yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Yn("srcset"),sr=Qn(ir,or,Yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Yn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!sr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ir[o]&&(s=Zn(s)),or[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Xn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(lr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fr;function dr(t,e){let n=null;try{fr=fr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Gn:new $n(t)}(t);let r=e?String(e):"";n=fr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=fr.getInertBodyElement(r)}while(r!==o);const s=new ur,a=s.sanitizeChildren(pr(n)||n);return Bn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=yr();return e?e.sanitize(gr.HTML,t)||"":Rn(t,"HTML")?Dn(t):dr(ne(),zt(t))}function br(t){const e=yr();return e?e.sanitize(gr.URL,t)||"":Rn(t,"URL")?Dn(t):Zn(zt(t))}function yr(){const t=ve();return t&&t[12]}function vr(t,e){t.__ngContext__=e}function wr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const _r="ng-template";function Or(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==wr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Er(t){return 0===t.type&&t.tagName!==_r}function Cr(t,e,n){return e===(0!==t.type||n?t.tagName:_r)}function Ir(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Qe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Cr(t,u,n)||""===u&&1===e.length){if(Sr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Or(t.attrs,c,n)){if(Sr(r))return!1;s=!0}continue}const l=Tr(8&r?"class":u,i,Er(t),n);if(-1===l){if(Sr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==wr(e,c,0)||2&r&&c!==t){if(Sr(r))return!1;s=!0}}}}else{if(!s&&!Sr(r)&&!Sr(u))return!1;if(s&&Sr(u))continue;s=!1,r=u|1&r}}return Sr(r)||s}function Sr(t){return 0==(1&t)}function Tr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function xr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ir(t,e[r],n))return!0;return!1}function jr(t,e){return t?":not("+e.trim()+")":e}function Ar(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Sr(s)||(e+=jr(o,i),i=""),r=s,o=o||!Sr(r);n++}return""!==i&&(e+=jr(o,i)),e}const kr={};function Nr(t){const e=t[3];return Mt(e)?e[3]:e}function Pr(t){return Rr(t[13])}function Dr(t){return Rr(t[4])}function Rr(t){for(;null!==t&&!Mt(t);)t=t[4];return t}function Lr(t){Mr(we(),ve(),Ue()+t,Ie())}function Mr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Be(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ke(e,r,0,n)}qe(n)}function Vr(t,e){return t<<17|e<<2}function Fr(t){return t>>17&32767}function Ur(t){return 2|t}function qr(t){return(131068&t)>>2}function Hr(t,e){return-131069&t|e<<2}function zr(t){return 1|t}function Br(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Ne(i),n.contentQueries(2,e[o],o)}}}function Kr(t,e,n){return re(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Gr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ge(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function $r(t,e,n,r,i){const o=e+Dt,s=t.data[o]||function(t,e,n,r,i){const o=Oe(),s=Ce(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return Ee(s,!0),s}function Wr(t,e,n){De(e);try{const r=t.viewQuery;null!==r&&Ci(1,r,n);const i=t.template;null!==i&&Yr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Br(t,e),t.staticViewQueries&&Ci(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)vi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Fe()}}function Jr(t,e,n,r){const i=e[2];if(256==(256&i))return;De(e);const o=Ie();try{ge(e),be.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Yr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Be(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ke(e,n,0,null),Ge(e,0)}if(function(t){for(let e=Pr(t);null!==e;e=Dr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&me(r,1),n[2]|=1024}}}(e),function(t){for(let e=Pr(t);null!==e;e=Dr(e))for(let t=Rt;t<e.length;t++){const n=e[t],r=n[1];de(n)&&Jr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Br(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Be(e,n)}else{const n=t.contentHooks;null!==n&&Ke(e,n,1),Ge(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,qe(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(je(r,i),s(2,e[i])),i++)}}}finally{qe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)yi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ci(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Be(e,n)}else{const n=t.viewHooks;null!==n&&Ke(e,n,2),Ge(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,me(e[3],-1))}finally{Fe()}}function Zr(t,e,n,r){const i=e[10],o=!Ie(),s=fe(e);try{o&&!s&&i.begin&&i.begin(),s&&Wr(t,e,r),Jr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Yr(t,e,n,r,i){const o=Ue();try{qe(-1),2&r&&e.length>Dt&&Mr(t,e,0,Ie()),n(r,i)}finally{qe(o)}}function Qr(t,e,n){ye()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||cn(n,e),vr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=qt(r);o&&pi(e,n,r);const u=yn(e,t,a,n);vr(u,e),null!==s&&gi(0,a-i,u,r,0,s),o&&(le(n.index,e)[8]=u)}}(t,e,n,ae(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-Dt,u=be.lFrame.currentDirectiveIndex;try{qe(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ae(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ui(r,i):s&&o.push(null)}}finally{qe(-1),Ae(u)}}(t,e,n))}function Xr(t,e,n=ae){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ti(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ei(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ei(t,e,n,r,i,o,s,a,u,c){const l=Dt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:kr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ni(t,e,n,r){const i=Si(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ri(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ii(t,e,n,r,i,o,s,a){const u=ae(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(xi(t,n,c,r,i),Ft(e)&&function(t,e){const n=le(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,re(o)?o.setProperty(u,r,i):Xe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function oi(t,e,n,r){let i=!1;if(ye()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];xr(n,s.selectors,!1)&&(i||(i=[]),dn(cn(n,e),t,s.type),qt(s)?(li(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,fi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}ci(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=tn(n.mergedAttrs,c.hostAttrs),di(t,e,c),hi(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Dt),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Dt),u=!0),si(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Er(e)?null:mi(n,i);o.push(c),s=ri(n,u,s),a=ri(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),ai(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=tn(n.mergedAttrs,n.attrs),i}function si(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ai(t,e,n){for(let r=0;r<n;r++)e.push(kr),t.blueprint.push(kr),t.data.push(null)}function ui(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ci(t,e,n){const r=Dt-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function li(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function hi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qt(e)&&(n[""]=t)}}function fi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function di(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Nt(n.type)),i=new Ze(r,qt(n),null);t.blueprint.push(i),e.push(i)}function pi(t,e,n){const r=ae(e,t),i=ti(n),o=t[10],s=wi(t,Gr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function gi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function mi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function bi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function yi(t,e){const n=le(e,t);if(de(n)){const t=n[1];80&n[2]?Jr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Pr(e);null!==r;r=Dr(r))for(let e=Rt;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Jr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=le(n[r],e);de(i)&&i[5]>0&&t(i)}}(n)}}function vi(t,e){const n=le(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Wr(r,n,n[8])}function wi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function _i(t){for(;t;){t[2]|=64;const e=Nr(t);if(Ht(t)&&!e)return t;t=e}return null}function Oi(t,e,n){const r=e[10];r.begin&&r.begin();try{Jr(t,e,t.template,n)}catch(i){throw Ti(e,i),i}finally{r.end&&r.end()}}function Ei(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=he(n),i=r[1];Zr(i,r,i.template,n)}}(t[8])}function Ci(t,e,n){Ne(0),e(t,n)}const Ii=(()=>Promise.resolve(null))();function Si(t){return t[7]||(t[7]=[])}function Ti(t,e){const n=t[9],r=n?n.get(Tn,null):null;r&&r.handleError(e)}function xi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ji(t,e,n,r,i){if(null!=r){let o,s=!1;Mt(r)?o=r:Lt(r)&&(s=!0,r=r[0]);const a=oe(r);0===t&&null!==n?null==i?Ri(e,n,a):Di(e,n,a,i||null):1===t&&null!==n?Di(e,n,a,i||null):2===t?function(t,e,n){const r=Mi(t,e);r&&function(t,e,n,r){re(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==oe(n)&&ji(e,t,r,o,i);for(let s=Rt;s<n.length;s++){const i=n[s];Ui(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ai(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,me(i,-1)),n.splice(r,1)}function ki(t,e){if(t.length<=Rt)return;const n=Rt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ai(o,r),e>0&&(t[n-1][4]=r[4]);const s=dt(t,Rt+e);Ui(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ni(t,e){if(!(256&e[2])){const n=e[11];re(n)&&n.destroyNode&&Ui(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Pi(t[1],t);for(;e;){let n=null;if(Lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&Pi(e[1],e),e=e[3];null===e&&(e=t),Lt(e)&&Pi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Pi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ze)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):oe(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&re(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Mt(e[3])){n!==e[3]&&Ai(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Di(t,e,n,r){re(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ri(t,e,n){re(t)?t.appendChild(e,n):e.appendChild(n)}function Li(t,e,n,r){null!==r?Di(t,e,n,r):Ri(t,e,n)}function Mi(t,e){return re(t)?t.parentNode(e):e.parentNode}function Vi(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return ae(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==yt.ShadowDom&&n!==yt.Native)return null}return ae(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){return 3===t.type||4===t.type?ae(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Li(t,i,n[e],o);else Li(t,i,n,o)}}function Fi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&vr(oe(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Fi(t,e,n.child,r,i,o,!1),ji(e,t,i,a,o)):1===u?qi(t,e,r,n,i,o):ji(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Ui(t,e,n,r,i,o){Fi(n,r,t.firstChild,e,i,o,!1)}function qi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)ji(e,t,i,a[u],o);else Fi(t,e,a,s[3],i,o,!0)}function Hi(t,e,n){re(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function zi(t,e,n){re(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Bi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(oe(s)),Mt(s))for(let e=Rt;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Nr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ni(this._lView[1],this._lView)}onDestroy(t){ni(this._lView[1],this._lView,null,t)}markForCheck(){_i(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Oi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Se(!0);try{Oi(t,e,n)}finally{Se(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ui(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ki extends Bi{constructor(t){super(t),this._view=t}detectChanges(){Ei(this._view)}checkNoChanges(){!function(t){Se(!0);try{Ei(t)}finally{Se(!1)}}(this._view)}get context(){return null}}let Gi,$i,Wi;function Ji(t,e,n){return Gi||(Gi=class extends t{}),new Gi(ae(e,n))}function Zi(t,e,n,r){return $i||($i=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Gr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Wr(e,n,t),new Bi(n)}}),0===n.type?new $i(r,n,Ji(e,n,r)):null}function Yi(t,e,n,r){let i;Wi||(Wi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Ji(e,this._hostTNode,this._hostView)}get injector(){return new _n(this._hostTNode,this._hostView)}get parentInjector(){const t=fn(this._hostTNode,this._hostView);if(nn(t)){const e=on(t,this._hostView),n=rn(t);return new _n(e[1].data[n+8],e)}return new _n(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ct,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Mt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Wi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Rt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Rt?(e[4]=n[i],ft(n,Rt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=Rt+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return ae(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Mt(e)?t(-1,e):oe(e)}}{const t=n[16],i=t[6],o=Nr(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],u=Mi(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Ui(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),ft(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ki(this._lContainer,e);n&&(dt(this._lContainer[8],e),Ni(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ki(this._lContainer,e);return n&&null!=dt(this._lContainer[8],e)?new Bi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Mt(o))i=o;else{let t;if(3===n.type)t=oe(o);else if(t=r[11].createComment(""),Ht(r)){const e=r[11],i=ae(n,r);Di(e,Mi(e,i),t,function(t,e){return re(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Vi(r[1],r,t,n);r[n.index]=i=bi(o,r,t,n),wi(r,i)}return new Wi(i,n,r)}function Qi(t=!1){return function(t,e,n){if(!n&&Ft(t)){const n=le(t.index,e);return new Bi(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Bi(e[16],e):null}(Oe(),ve(),t)}let Xi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>to(),t})();const to=Qi,eo=Function,no=new W("Set Injector scope."),ro={},io={},oo=[];let so=void 0;function ao(){return void 0===so&&(so=new ut),so}function uo(t,e=null,n=null,r){return new co(t,n,e||ao(),r)}class co{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ht(e,n=>this.processProvider(n,t,e)),ht([t],t=>this.processInjectorType(t,[],i)),this.records.set(J,fo(void 0,this));const o=this.records.get(no);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:A(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Z,n=b.Default){this.assertNotDestroyed();const r=nt(this);try{if(!(n&b.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof W)&&O(t);e=n&&this.injectableDefInScope(n)?fo(lo(t),ro):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&b.Self?ao():this.parent).get(t,e=n&b.Optional&&e===Z?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(A(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Q]&&i.unshift(e[Q]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=A(e);if(Array.isArray(e))i=e.map(A).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):A(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Y,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{nt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(A(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=D(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ht(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ht(r,t=>this.processProvider(t,n,r||oo))}}this.injectorDefTypes.add(o),this.records.set(o,fo(r.factory,ro));const a=r.providers;if(null!=a&&!s){const e=t;ht(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=go(t=D(t))?t:D(t&&t.provide);const i=function(t,e,n){return po(t)?fo(void 0,t.useValue):fo(ho(t),ro)}(t);if(go(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=fo(void 0,ro,!0),e.factory=()=>at(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ro&&(e.value=io,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function lo(t){const e=O(t),n=null!==e?e.factory:Nt(t);if(null!==n)return n;const r=C(t);if(null!==r)return r.factory;if(t instanceof W)throw new Error(`Token ${A(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${A(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[x]||t[T]&&t[T]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ho(t,e,n){let r=void 0;if(go(t)){const e=D(t);return Nt(e)||lo(e)}if(po(t))r=()=>D(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...at(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ot(D(t.useExisting));else{const e=D(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Nt(e)||lo(e);r=()=>new e(...at(t.deps))}var i;return r}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function po(t){return null!==t&&"object"==typeof t&&X in t}function go(t){return"function"==typeof t}const mo=function(t,e,n){return function(t,e=null,n=null,r){const i=uo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let bo=(()=>{class t{static create(t,e){return Array.isArray(t)?mo(t,e,""):mo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Z,t.NULL=new ut,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>ot(J)}),t.__NG_ELEMENT_ID__=-1,t})();const yo=new W("AnalyzeForEntryComponents");function vo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=k(i,t):2==o&&(r=k(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function wo(t,e){const n=he(t)[1],r=n.data.length-1;ze(n,{directiveStart:r,directiveEnd:r+1})}function _o(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(qt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Oo(t.inputs),e.declaredInputs=Oo(t.declaredInputs),e.outputs=Oo(t.outputs);const n=i.hostBindings;n&&Io(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Eo(t,o),s&&Co(t,s),v(t.inputs,i.inputs),v(t.declaredInputs,i.declaredInputs),v(t.outputs,i.outputs),qt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===_o&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=tn(i.hostAttrs,n=tn(n,i.hostAttrs))}}(r)}function Oo(t){return t===vt?{}:t===wt?[]:t}function Eo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Co(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Io(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let So=null;function To(){if(!So){const t=U.Symbol;if(t&&t.iterator)So=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(So=n)}}}return So}class xo{constructor(t){this.wrapped=t}static wrap(t){return new xo(t)}static unwrap(t){return xo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof xo}}function jo(t){return!!Ao(t)&&(Array.isArray(t)||!(t instanceof Map)&&To()in t)}function Ao(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ko(t,e,n){return t[e]=n}function No(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Po(t,e,n,r){const i=ve();return No(i,xe(),e)&&(we(),function(t,e,n,r,i,o){const s=ae(t,e),a=e[11];if(null==r)re(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?zt(r):i(r,t.tagName||"",n);re(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(He(),i,t,e,n,r)),Po}function Do(t,e,n,r){return No(t,xe(),n)?e+zt(n)+r:kr}function Ro(t,e,n,r,i,o,s,a){const u=ve(),c=we(),l=t+Dt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=$r(e,t,0,s||null,pe(c,a));oi(e,n,l,pe(c,u)),ze(e,l);const h=l.tViews=ei(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];Ee(h,!1);const f=u[11].createComment("");Vi(c,u,f,h),vr(f,u),wi(u,u[l]=bi(f,u,f,h)),Ut(h)&&Qr(c,u,h),null!=s&&Xr(u,h,a)}function Lo(t){return ce(be.lFrame.contextLView,t)}function Mo(t,e=b.Default){const n=ve();return null===n?ot(t,e):pn(Oe(),n,D(t),e)}function Vo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Qe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Oe(),t)}function Fo(t,e,n){const r=ve();return No(r,xe(),e)&&ii(we(),He(),r,t,e,r[11],n,!1),Fo}function Uo(t,e,n,r,i){const o=i?"class":"style";xi(t,n,e.inputs[o],o,r)}function qo(t,e,n,r){const i=ve(),o=we(),s=Dt+t,a=i[11],u=i[s]=Kr(e,a,be.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=$r(e,t,2,i,pe(a,o));return oi(e,n,u,pe(a,s)),null!==u.attrs&&vo(u,u.attrs,!1),null!==u.mergedAttrs&&vo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];Ee(c,!0);const l=c.mergedAttrs;null!==l&&Ye(a,u,l);const h=c.classes;null!==h&&zi(a,u,h);const f=c.styles;null!==f&&Hi(a,u,f),Vi(o,i,u,c),0===be.lFrame.elementDepthCount&&vr(u,i),be.lFrame.elementDepthCount++,Ut(c)&&(Qr(o,i,c),function(t,e,n){if(Vt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Xr(i,c)}function Ho(){let t=Oe();Ce()?be.lFrame.isParent=!1:(t=t.parent,Ee(t,!1));const e=t;be.lFrame.elementDepthCount--;const n=we();n.firstCreatePass&&(ze(n,t),Vt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Uo(n,e,ve(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Uo(n,e,ve(),e.stylesWithoutHost,!1)}function zo(t,e,n,r){qo(t,e,n,r),Ho()}function Bo(){return ve()}function Ko(t){return!!t&&"function"==typeof t.then}function Go(t){return!!t&&"function"==typeof t.subscribe}function $o(t,e,n=!1,r){const i=ve(),o=we(),s=Oe();return function(t,e,n,r,i,o,s=!1,a){const u=Ut(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Si(e);let h=!0;if(2===r.type){const f=ae(r,e),d=a?a(f):vt,p=d.target||f,g=l.length,m=a?t=>a(oe(t[r.index])).target:r.index;if(re(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Jo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Jo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),$o}function Wo(t,e,n){try{return!1!==e(n)}catch(r){return Ti(t,r),!1}}function Jo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?le(t.index,e):e;0==(32&e[2])&&_i(s);let a=Wo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Wo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Zo(t=1){return function(t){return(be.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,be.lFrame.contextLView))[8]}(t)}function Yo(t,e,n){return Qo(t,"",e,"",n),Yo}function Qo(t,e,n,r,i){const o=ve(),s=Do(o,e,n,r);return s!==kr&&ii(we(),He(),o,t,s,o[11],i,!1),Qo}const Xo=[];function ts(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Fr(o):qr(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];es(t[a],e)&&(u=!0,t[a+1]=r?zr(n):Ur(n)),a=r?Fr(n):qr(n)}u&&(t[n+1]=r?Ur(o):zr(o))}function es(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mt(t,e)>=0}function ns(t,e){return function(t,e,n,r){const i=ve(),o=we(),s=function(t){const e=be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ue()+Dt],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=is(n=rs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=rs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==qr(r))return t[Fr(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=rs(null,t,e,n[1],r),n=is(n,e.attrs,r),function(t,e,n,r){t[Fr(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=is(r,t[o].hostAttrs,true);return is(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=Fr(s),u=qr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Fr(t[a+1]);t[r+1]=Vr(e,a),0!==e&&(t[e+1]=Hr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Vr(a,0),0!==a&&(t[a+1]=Hr(t[a+1],r)),a=r;else t[r+1]=Vr(u,0),0===a?a=r:t[u+1]=Hr(t[u+1],r),u=r;l&&(t[r+1]=Ur(t[r+1])),ts(t,c,r,!0),ts(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&mt(o,e)>=0&&(n[r+1]=zr(n[r+1]))}(e,c,t,r),s=Vr(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==kr&&No(i,s,e)&&function(t,e,n,r,i,o,s,a){if(2!==e.type)return;const u=t.data,c=u[a+1];ss(1==(1&c)?os(u,e,n,i,qr(c),s):void 0)||(ss(o)||function(t){return 2==(2&t)}(c)&&(o=os(u,null,n,i,a,s)),function(t,e,n,r,i){const o=re(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,se(Ue(),n),i,o))}(o,o.data[Ue()+Dt],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=A(Dn(t))),t}(e),true,s)}(t,e),ns}function rs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=is(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function is(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),pt(t,s,!!n||e[++o]))}return void 0===t?null:t}function os(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===kr&&(l=c?Xo:void 0);let h=c?gt(l,r):u===r?l:void 0;if(o&&!ss(h)&&(h=gt(e,r)),ss(h)&&(a=h,s))return a;const f=t[i+1];i=s?Fr(f):qr(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=gt(t,r))}return a}function ss(t){return void 0!==t}function as(t,e=""){const n=ve(),r=we(),i=t+Dt,o=r.firstCreatePass?$r(r,t,2,null,null):r.data[i],s=n[i]=function(t,e){return re(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Vi(r,n,s,o),Ee(o,!1)}function us(t){return cs("",t,""),us}function cs(t,e,n){const r=ve(),i=Do(r,t,e,n);return i!==kr&&function(t,e,n){const r=se(e,t),i=t[11];re(i)?i.setValue(r,n):r.textContent=n}(r,Ue(),i),cs}function ls(t,e,n){const r=ve();return No(r,xe(),e)&&ii(we(),He(),r,t,e,r[11],n,!0),ls}const hs=void 0;var fs=["en",[["a","p"],["AM","PM"],hs],[["AM","PM"],hs,hs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hs,"{1} 'at' {0}",hs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ds={};function ps(t,e,n){"string"!=typeof e&&(n=e,e=t[vs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ds[e]=t,n&&(ds[e][vs.ExtraData]=n)}function gs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ys(e);if(n)return n;const r=e.split("-")[0];if(n=ys(r),n)return n;if("en"===r)return fs;throw new Error(`Missing locale data for the locale "${t}".`)}function ms(t){return gs(t)[vs.CurrencyCode]||null}function bs(t){return gs(t)[vs.PluralCase]}function ys(t){return t in ds||(ds[t]=U.ng&&U.ng.common&&U.ng.common.locales&&U.ng.common.locales[t]),ds[t]}var vs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ws="en-US";let _s=ws;function Os(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(_s=t.toLowerCase().replace(/_/g,"-"))}function Es(t,e,n,r,i){if(t=D(t),Array.isArray(t))for(let o=0;o<t.length;o++)Es(t[o],e,n,r,i);else{const o=we(),s=ve();let a=go(t)?t:D(t.provide),u=ho(t);const c=Oe(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(go(t)||!t.multi){const r=new Ze(u,i,Mo),d=Ss(a,e,i?l:l+f,h);-1===d?(dn(cn(c,s),o,a),Cs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ss(a,e,l+f,h),p=Ss(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){dn(cn(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ze(t,n,Mo);return o.multi=[],o.index=e,o.componentProviders=0,Is(o,i,r&&!n),o}(i?xs:Ts,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Cs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Cs(o,t,d>-1?d:p,Is(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Cs(t,e,n,r){const i=go(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Is(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ss(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ts(t,e,n,r){return js(this.multi,[])}function xs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=yn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),js(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],js(i,o);return o}function js(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function As(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=we();if(r.firstCreatePass){const i=qt(t);Es(n,r.data,r.blueprint,i,!0),Es(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ks{}class Ns{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${A(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ps=(()=>{class t{}return t.NULL=new Ns,t})(),Ds=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Rs(t),t})();const Rs=function(t){return Ji(t,Oe(),ve())};class Ls{}var Ms=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Fs(),t})();const Fs=function(){const t=ve(),e=le(Oe().index,t);return function(t){const e=t[11];if(re(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Lt(e)?e:t)};let Us=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class qs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Hs=new qs("10.2.1");class zs{constructor(){}supports(t){return jo(t)}create(t){return new Ks(t)}}const Bs=(t,e)=>e;class Ks{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Bs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Js(n,r,i)?e:n,s=Js(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!jo(t))throw new Error(`Error trying to diff '${A(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[To()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Gs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ws),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ws),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Gs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $s{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ws{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new $s,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Js(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Zs{constructor(){}supports(t){return t instanceof Map||Ao(t)}create(){return new Ys}}class Ys{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ao(t)))throw new Error(`Error trying to diff '${A(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Qs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Qs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Xs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new m,new p]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>new t([new zs])}),t})(),ta=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new m,new p]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>new t([new Zs])}),t})();const ea=[new Zs],na=new Xs([new zs]),ra=new ta(ea);let ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>oa(t,Ds),t})();const oa=function(t,e){return Zi(t,e,Oe(),ve())};let sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>aa(t,Ds),t})();const aa=function(t,e){return Yi(t,e,Oe(),ve())},ua={};class ca extends Ps{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=kt(t);return new fa(e,this.ngModule)}}function la(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ha=new W("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Kt});class fa extends ks{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ar).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return la(this.componentDef.inputs)}get outputs(){return la(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ua,i);return o!==ua||r===ua?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ls,ie),s=i.get(Us,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(re(t))return t.selectRootElement(e,n===yt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Kr(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Kt,clean:Ii,playerHandler:null,flags:0},f=ei(0,null,null,1,0,null,null,null,null,null),d=Gr(null,f,h,l,null,null,o,a,s,i);let p,g;De(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=$r(s,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(vo(a,u,!0),null!==t&&(Ye(i,t,u),null!==a.classes&&zi(i,t,a.classes),null!==a.styles&&Hi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Gr(n,ti(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(dn(cn(a,n),s,e.type),li(s,a),fi(a,n.length,1)),wi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ye(a,c,["ng-version",Hs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Sr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ye(a,c,t),e&&e.length>0&&zi(a,c,e.join(" "))}if(g=ue(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Oe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ci(t,r,1),di(t,e,n));const i=yn(e,t,e.length-1,r);vr(i,e);const o=ae(r,e);return o&&vr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=Oe();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){qe(a.index-Dt);const t=n[1];si(t,e),ai(t,n,e.hostVars),ui(e,s)}return s}(t,this.componentDef,d,h,[wo]),Wr(f,d,null)}finally{Fe()}return new da(this.componentType,p,Ji(Ds,g,d),d,g)}}class da extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Ki(r),this.componentType=t}get injector(){return new _n(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const pa=new Map;class ga extends ct{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ca(this);const n=Pt(t),r=t[K]||null;r&&Os(r),this._bootstrapComponents=Gt(n.bootstrap),this._r3Injector=uo(t,e,[{provide:ct,useValue:this},{provide:Ps,useValue:this.componentFactoryResolver}],A(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=bo.THROW_IF_NOT_FOUND,n=b.Default){return t===bo||t===ct||t===J?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ma extends lt{constructor(t){super(),this.moduleType=t,null!==Pt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${A(e)} vs ${A(e.name)}`)})(t,pa.get(t),e),pa.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new ga(this.moduleType,t)}}function ba(t,e){const n=t[e];return n===kr?void 0:n}function ya(t,e){const n=we();let r;const i=t+Dt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Nt(r.type)),s=rt(Mo);try{const e=an(!1),r=o();return an(e),function(t,e,n,r){const i=n+Dt;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,ve(),t,r),r}finally{rt(s)}}function va(t,e,n){const r=ve(),i=ce(r,t);return Oa(r,_a(r,t)?function(t,e,n,r,i,o){const s=e+n;return No(t,s,i)?ko(t,s+1,o?r.call(o,i):r(i)):ba(t,s+1)}(r,Te(),e,i.transform,n,i):i.transform(n))}function wa(t,e,n,r){const i=ve(),o=ce(i,t);return Oa(i,_a(i,t)?function(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=No(t,e,n);return No(t,e+1,r)||i}(t,a,i,o)?ko(t,a+2,s?r.call(s,i,o):r(i,o)):ba(t,a+2)}(i,Te(),e,o.transform,n,r,o):o.transform(n,r))}function _a(t,e){return t[1].data[e+Dt].pure}function Oa(t,e){return xo.isWrapped(e)&&(e=xo.unwrap(e),t[be.lFrame.bindingIndex]=kr),e}const Ea=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Ca(){return this._results[To()]()}class Ia{constructor(){this.dirty=!0,this._results=[],this.changes=new Ea,this.length=0;const t=To(),e=Ia.prototype;e[t]||(e[t]=Ca)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Sa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Sa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ta{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ta(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ma(t,e).matches&&this.queries[e].setDirty()}}class xa{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class ja{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new ja(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Aa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Aa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,ka(e,i)),this.matchTNodeWithReadOption(t,e,bn(e,t,i,!1,!1))}else n===ia?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,bn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ds||r===sa||r===ia&&0===e.type)this.addMatch(e.index,-2);else{const n=bn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function ka(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Na(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?Ji(Ds,t,e):0===t.type?Zi(ia,Ds,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ds?Ji(Ds,e,t):n===ia?Zi(ia,Ds,e,t):n===sa?Yi(sa,Ds,e,t):void 0}(t,e,r):yn(t,t[1],n,e)}function Pa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Na(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Da(t){const e=ve(),n=we(),r=ke();Ne(r+1);const i=Ma(n,r);if(t.dirty&&fe(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Pa(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=Rt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Pa(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ra(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new ja),t.queries.track(new Aa(e,n))}(t,new xa(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Ia;ni(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ta),e[19].queries.push(new Sa(n))}(t,e)}(we(),ve(),e,n,r,0,Oe(),t)}function La(){return t=ve(),e=ke(),t[19].queries[e].queryList;var t,e}function Ma(t,e){return t.queries.getByIndex(e)}function Va(t,e){return Zi(ia,Ds,t,e)}function Fa(t=b.Default){const e=Qi(!0);if(null!=e||t&b.Optional)return e;$t("ChangeDetectorRef")}const Ua=new W("Application Initializer");let qa=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ko(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ot(Ua,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Ha=new W("AppId"),za={provide:Ha,useFactory:function(){return`${Ba()}${Ba()}${Ba()}`},deps:[]};function Ba(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ka=new W("Platform Initializer"),Ga=new W("Platform ID"),$a=new W("appBootstrapListener");let Wa=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Ja=new W("LocaleId"),Za=new W("DefaultCurrencyCode");class Ya{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Qa=function(t){return new ma(t)},Xa=Qa,tu=function(t){return Promise.resolve(Qa(t))},eu=function(t){const e=Qa(t),n=Gt(Pt(t).declarations).reduce((t,e)=>{const n=kt(e);return n&&t.push(new fa(n)),t},[]);return new Ya(e,n)},nu=eu,ru=function(t){return Promise.resolve(eu(t))};let iu=(()=>{class t{constructor(){this.compileModuleSync=Xa,this.compileModuleAsync=tu,this.compileModuleAndAllComponentsSync=nu,this.compileModuleAndAllComponentsAsync=ru}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const ou=(()=>Promise.resolve(0))();function su(t){"undefined"==typeof Zone?ou.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class au{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ea(!1),this.onMicrotaskEmpty=new Ea(!1),this.onStable=new Ea(!1),this.onError=new Ea(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=U.requestAnimationFrame,e=U.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(U,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hu(t),lu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return fu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),du(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return fu(t),e.invoke(r,i,o,s,a)}finally{du(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,hu(t),lu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!au.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(au.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,cu,uu,uu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function uu(){}const cu={};function lu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function fu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function du(t){t._nesting--,lu(t)}class pu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ea,this.onMicrotaskEmpty=new Ea,this.onStable=new Ea,this.onError=new Ea}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let gu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{au.assertNotInAngularZone(),su(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())su(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ot(au))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),mu=(()=>{class t{constructor(){this._applications=new Map,wu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return wu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class bu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function yu(t){wu=t}let vu,wu=new bu;const _u=new W("AllowMultipleToken");class Ou{constructor(t,e){this.name=t,this.token=e}}function Eu(t,e,n=[]){const r="Platform: "+e,i=new W(r);return(e=[])=>{let o=Cu();if(!o||o.injector.get(_u,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:no,useValue:"platform"});!function(t){if(vu&&!vu.destroyed&&!vu.injector.get(_u,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vu=t.get(Iu);const e=t.get(Ka,null);e&&e.forEach(t=>t())}(bo.create({providers:t,name:r}))}return function(t){const e=Cu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Cu(){return vu&&!vu.destroyed?vu:null}let Iu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new pu:("zone.js"===t?void 0:t)||new au({enableLongStackTrace:Bn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:au,useValue:n}];return n.run(()=>{const e=bo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Tn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>xu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Ko(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(qa);return t.runInitializers(),t.donePromise.then(()=>(Os(i.injector.get(Ja,ws)||ws),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Su({},e);return function(t,e,n){const r=new ma(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Tu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${A(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ot(bo))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Su(t,e){return Array.isArray(e)?e.reduce(Su,t):Object.assign(Object.assign({},t),e)}let Tu=(()=>{class t{constructor(t,e,n,r,i,l){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Bn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),f=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{au.assertNotInAngularZone(),su(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{au.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(h,f.pipe(t=>Object(u.a)()(Object(a.a)(c)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ks?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ct),i=n.create(bo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(gu,null);return o&&i.injector.get(mu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Bn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;xu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get($a,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),xu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ot(au),ot(Wa),ot(bo),ot(Tn),ot(Ps),ot(qa))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function xu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ju{}class Au{}const ku={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Nu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ku}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Pu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Pu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ot(iu),ot(Au,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Pu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Du=function(t){return null},Ru=Eu(null,"core",[{provide:Ga,useValue:"unknown"},{provide:Iu,deps:[bo]},{provide:mu,deps:[]},{provide:Wa,deps:[]}]),Lu=[{provide:Tu,useClass:Tu,deps:[au,Wa,bo,Tn,Ps,qa]},{provide:ha,deps:[au],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:qa,useClass:qa,deps:[[new p,Ua]]},{provide:iu,useClass:iu,deps:[]},za,{provide:Xs,useFactory:function(){return na},deps:[]},{provide:ta,useFactory:function(){return ra},deps:[]},{provide:Ja,useFactory:function(t){return Os(t=t||"undefined"!=typeof $localize&&$localize.locale||ws),t},deps:[[new d(Ja),new p,new m]]},{provide:Za,useValue:"USD"}];let Mu=(()=>{class t{constructor(t){}}return t.\u0275mod=St({type:t}),t.\u0275inj=_({factory:function(e){return new(e||t)(ot(Tu))},providers:Lu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(...t){return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oB13:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function l(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new h(r,e));const i=Object.create(n,u);return i.source=n,i.subjectFactory=r,i}}class h{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return g}));var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?y(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function y(t,e){return t.replace(v,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return C})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return O}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.q("angularfire2.app.options"),v=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:class{},useFactory:_,deps:[y,u.z,[new u.A,v]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[I]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new b(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyAJIaJEkilJd5W1cXFl2qT2BrRPnMuBfpU",authDomain:"dog-world-8eb5f.firebaseapp.com",databaseURL:"https://dog-world-8eb5f.firebaseio.com",projectId:"dog-world-8eb5f",storageBucket:"dog-world-8eb5f.appspot.com",messagingSenderId:"547092435255",appId:"1:547092435255:web:6b550969d01ef75a640ab2"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Pb)(a).location;return new w(Object(r.Pb)(u),e&&e.origin||"")}const v=new r.q("appBaseHref");let w=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(v,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(v,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(b),r.Pb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Pb)(b),Object(r.Pb)(u))}function C(t){return t.replace(/\/index.html$/,"")}var I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),S=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),T=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),x=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),j=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function A(t,e){return L(Object(r.ib)(t)[r.Z.DateFormat],e)}function k(t,e){return L(Object(r.ib)(t)[r.Z.TimeFormat],e)}function N(t,e){return L(Object(r.ib)(t)[r.Z.DateTimeFormat],e)}function P(t,e){const n=Object(r.ib)(t),i=n[r.Z.NumberSymbols][e];if(void 0===i){if(e===j.CurrencyDecimal)return n[r.Z.NumberSymbols][j.Decimal];if(e===j.CurrencyGroup)return n[r.Z.NumberSymbols][j.Group]}return i}const D=r.lb;function R(t){if(!t[r.Z.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.Z.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function L(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function M(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const V=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,F={},U=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var q=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),H=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),z=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function B(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function K(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function G(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case H.FullYear:return e.getFullYear();case H.Month:return e.getMonth();case H.Date:return e.getDate();case H.Hours:return e.getHours();case H.Minutes:return e.getMinutes();case H.Seconds:return e.getSeconds();case H.FractionalSeconds:return e.getMilliseconds();case H.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===H.Hours)0===a&&-12===n&&(a=12);else if(t===H.FractionalSeconds)return u=e,K(a,3).substr(0,u);var u;const c=P(s,j.MinusSign);return K(a,e,c,r,i)}}function $(t,e,n=S.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case z.Months:return function(t,e,n){const i=Object(r.ib)(t),o=L([i[r.Z.MonthsFormat],i[r.Z.MonthsStandalone]],e);return L(o,n)}(e,o,i)[t.getMonth()];case z.Days:return function(t,e,n){const i=Object(r.ib)(t),o=L([i[r.Z.DaysFormat],i[r.Z.DaysStandalone]],e);return L(o,n)}(e,o,i)[t.getDay()];case z.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(s){const t=function(t){const e=Object(r.ib)(t);return R(e),(e[r.Z.ExtraData][2]||[]).map(t=>"string"==typeof t?M(t):[M(t[0]),M(t[1])])}(e),n=function(t,e,n){const i=Object(r.ib)(t);R(i);const o=L([i[r.Z.ExtraData][0],i[r.Z.ExtraData][1]],e)||[];return L(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=Object(r.ib)(t),o=L([i[r.Z.DayPeriodsFormat],i[r.Z.DayPeriodsStandalone]],e);return L(o,n)}(e,o,i)[a<12?0:1];case z.Eras:return function(t,e){return L(Object(r.ib)(t)[r.Z.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,s,t,e,n,i)}}function W(t){return function(e,n,r){const i=-1*r,o=P(n,j.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case q.Short:return(i>=0?"+":"")+K(s,2,o)+K(Math.abs(i%60),2,o);case q.ShortGMT:return"GMT"+(i>=0?"+":"")+K(s,1,o);case q.Long:return"GMT"+(i>=0?"+":"")+K(s,2,o)+":"+K(Math.abs(i%60),2,o);case q.Extended:return 0===r?"Z":(i>=0?"+":"")+K(s,2,o)+":"+K(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function J(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}var o;return K(i,t,P(r,j.MinusSign))}}const Z={};function Y(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Q(t){return t instanceof Date&&!isNaN(t.valueOf())}class X{}let tt=(()=>{class t extends X{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(D(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function et(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class nt{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new nt(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new it(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new it(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class it{constructor(t,e){this.record=t,this.view=e}}let ot=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new st,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){at("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){at("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class st{constructor(){this.$implicit=null,this.ngIf=null}}function at(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}function ut(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(t)}'`)}class ct{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class lt{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const ht=new lt,ft=new ct;let dt=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return ht;if(Object(r.pb)(e))return ft;throw ut(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb())},t.\u0275pipe=r.Hb({name:"async",type:t,pure:!1}),t})(),pt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,o){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,i){let o=function(t){if(Q(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(V))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!Q(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Object(r.ib)(t)[r.Z.LocaleId]}(e);if(F[i]=F[i]||{},F[i][n])return F[i][n];let o="";switch(n){case"shortDate":o=A(e,x.Short);break;case"mediumDate":o=A(e,x.Medium);break;case"longDate":o=A(e,x.Long);break;case"fullDate":o=A(e,x.Full);break;case"shortTime":o=k(e,x.Short);break;case"mediumTime":o=k(e,x.Medium);break;case"longTime":o=k(e,x.Long);break;case"fullTime":o=k(e,x.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");o=B(N(e,x.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),s=t(e,"mediumDate");o=B(N(e,x.Medium),[i,s]);break;case"long":const a=t(e,"longTime"),u=t(e,"longDate");o=B(N(e,x.Long),[a,u]);break;case"full":const c=t(e,"fullTime"),l=t(e,"fullDate");o=B(N(e,x.Full),[c,l])}return o&&(F[i][n]=o),o}(n,e)||e;let s,a=[];for(;e;){if(s=U.exec(e),!s){a.push(e);break}{a=a.concat(s.slice(1));const t=a.pop();if(!t)break;e=t}}let u=o.getTimezoneOffset();i&&(u=Y(i,u),o=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Y(e,r)-r))}(o,i));let c="";return a.forEach(t=>{const e=function(t){if(Z[t])return Z[t];let e;switch(t){case"G":case"GG":case"GGG":e=$(z.Eras,T.Abbreviated);break;case"GGGG":e=$(z.Eras,T.Wide);break;case"GGGGG":e=$(z.Eras,T.Narrow);break;case"y":e=G(H.FullYear,1,0,!1,!0);break;case"yy":e=G(H.FullYear,2,0,!0,!0);break;case"yyy":e=G(H.FullYear,3,0,!1,!0);break;case"yyyy":e=G(H.FullYear,4,0,!1,!0);break;case"M":case"L":e=G(H.Month,1,1);break;case"MM":case"LL":e=G(H.Month,2,1);break;case"MMM":e=$(z.Months,T.Abbreviated);break;case"MMMM":e=$(z.Months,T.Wide);break;case"MMMMM":e=$(z.Months,T.Narrow);break;case"LLL":e=$(z.Months,T.Abbreviated,S.Standalone);break;case"LLLL":e=$(z.Months,T.Wide,S.Standalone);break;case"LLLLL":e=$(z.Months,T.Narrow,S.Standalone);break;case"w":e=J(1);break;case"ww":e=J(2);break;case"W":e=J(1,!0);break;case"d":e=G(H.Date,1);break;case"dd":e=G(H.Date,2);break;case"E":case"EE":case"EEE":e=$(z.Days,T.Abbreviated);break;case"EEEE":e=$(z.Days,T.Wide);break;case"EEEEE":e=$(z.Days,T.Narrow);break;case"EEEEEE":e=$(z.Days,T.Short);break;case"a":case"aa":case"aaa":e=$(z.DayPeriods,T.Abbreviated);break;case"aaaa":e=$(z.DayPeriods,T.Wide);break;case"aaaaa":e=$(z.DayPeriods,T.Narrow);break;case"b":case"bb":case"bbb":e=$(z.DayPeriods,T.Abbreviated,S.Standalone,!0);break;case"bbbb":e=$(z.DayPeriods,T.Wide,S.Standalone,!0);break;case"bbbbb":e=$(z.DayPeriods,T.Narrow,S.Standalone,!0);break;case"B":case"BB":case"BBB":e=$(z.DayPeriods,T.Abbreviated,S.Format,!0);break;case"BBBB":e=$(z.DayPeriods,T.Wide,S.Format,!0);break;case"BBBBB":e=$(z.DayPeriods,T.Narrow,S.Format,!0);break;case"h":e=G(H.Hours,1,-12);break;case"hh":e=G(H.Hours,2,-12);break;case"H":e=G(H.Hours,1);break;case"HH":e=G(H.Hours,2);break;case"m":e=G(H.Minutes,1);break;case"mm":e=G(H.Minutes,2);break;case"s":e=G(H.Seconds,1);break;case"ss":e=G(H.Seconds,2);break;case"S":e=G(H.FractionalSeconds,1);break;case"SS":e=G(H.FractionalSeconds,2);break;case"SSS":e=G(H.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=W(q.Short);break;case"ZZZZZ":e=W(q.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=W(q.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=W(q.Long);break;default:return null}return Z[t]=e,e}(t);c+=e?e(o,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(e,n,o||this.locale,i)}catch(s){throw ut(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.u))},t.\u0275pipe=r.Hb({name:"date",type:t,pure:!0}),t})(),gt=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:X,useClass:tt}]}),t})();function mt(t){return"browser"===t}function bt(t){return"server"===t}let yt=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new vt(Object(r.Pb)(a),window,Object(r.Pb)(r.m))}),t})();class vt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=wt(this.window.history)||wt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function wt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class _t extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new _t,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Et||(Et=document.querySelector("base"),Et)?Et.getAttribute("href"):null;return null==e?null:(n=e,Ot||(Ot=document.createElement("a")),Ot.setAttribute("href",n),"/"===Ot.pathname.charAt(0)?Ot.pathname:"/"+Ot.pathname);var n}resetBaseElement(){Et=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return et(document.cookie,t)}}let Ot,Et=null;const Ct=new r.q("TRANSITION_ID"),It=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Ct,a,r.r],multi:!0}];class St{static init(){Object(r.W)(new St)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Tt=new r.q("EventManagerPlugins");let xt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Tt),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class jt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let At=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),kt=(()=>{class t extends At{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Pt=/%COMP%/g;function Dt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Dt(t,i,n):(i=i.replace(Pt,t),n.push(i))}return n}function Rt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Lt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Mt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Vt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new Ft(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Dt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(xt),r.Pb(kt),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class Mt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Nt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Nt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Nt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Rt(n)):this.eventManager.addEventListener(t,e,Rt(n))}}class Vt extends Mt{constructor(t,e,n,r){super(t),this.component=n;const i=Dt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Pt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Pt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Ft extends Mt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=Dt(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ut=(()=>{class t extends jt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const qt=["alt","control","meta","shift"],Ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Kt=(()=>{class t extends jt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(qt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&zt.hasOwnProperty(e)&&(e=zt[e]))}return Ht[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),qt.forEach(r=>{r!=n&&(0,Bt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Gt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){_t.makeCurrent(),St.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],$t=Object(r.R)(r.V,"browser",Gt),Wt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Tt,useClass:Ut,multi:!0,deps:[a,r.z,r.B]},{provide:Tt,useClass:Kt,multi:!0,deps:[a]},[],{provide:Lt,useClass:Lt,deps:[xt,kt,r.c]},{provide:r.E,useExisting:Lt},{provide:At,useExisting:kt},{provide:kt,useClass:kt,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:xt,useClass:xt,deps:[Tt,r.z]},[]];let Jt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Ct,useExisting:r.c},It]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:Wt,imports:[gt,r.f]}),t})();function Zt(){return new Yt(Object(r.Pb)(a))}let Yt=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:Zt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var Qt=n("LRne"),Xt=n("Cfvw"),te=n("XNiG"),ee=n("9ppp");class ne extends te.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ee.a;return this._value}next(t){super.next(this._value=t)}}var re=n("z+Ro"),ie=n("DH7j"),oe=n("7o/Q");class se extends oe.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class ae extends oe.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ue=n("SeVD"),ce=n("HDdC");function le(t,e,n,r,i=new ae(t,n,r)){if(!i.closed)return e instanceof ce.a?e.subscribe(i):Object(ue.a)(e)(i)}var he=n("yCtX");const fe={};class de{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new pe(t,this.resultSelector))}}class pe extends se{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(fe),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(le(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===fe?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const ge=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var me=n("EY2u");function be(t){return new ce.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Xt.a)(n):Object(me.b)()).subscribe(e)})}var ye=n("lJxs"),ve=n("bHdf");function we(){return Object(ve.a)(1)}function _e(t,e){return function(n){return n.lift(new Oe(t,e))}}class Oe{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ee(t,this.predicate,this.thisArg))}}class Ee extends oe.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Ce=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ie(t){return function(e){return 0===t?Object(me.b)():e.lift(new Se(t))}}class Se{constructor(t){if(this.total=t,this.total<0)throw new Ce}call(t,e){return e.subscribe(new Te(t,this.total))}}class Te extends oe.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function xe(t=ke){return e=>e.lift(new je(t))}class je{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ae(t,this.errorFactory))}}class Ae extends oe.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Iw){t=Iw}this.destination.error(t)}}}function ke(){return new ge}function Ne(t=null){return e=>e.lift(new Pe(t))}class Pe{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new De(t,this.defaultValue))}}class De extends oe.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Re=n("SpAZ"),Le=n("zx2A");function Me(t,e){return"function"==typeof e?n=>n.pipe(Me((n,r)=>Object(Xt.a)(t(n,r)).pipe(Object(ye.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ve(t))}class Ve{constructor(t){this.project=t}call(t,e){return e.subscribe(new Fe(t,this.project))}}class Fe extends Le.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Le.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Le.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Ue(t){return e=>0===t?Object(me.b)():e.lift(new qe(t))}class qe{constructor(t){if(this.total=t,this.total<0)throw new Ce}call(t,e){return e.subscribe(new He(t,this.total))}}class He extends oe.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ze(...t){return we()(Object(Qt.a)(...t))}function Be(...t){const e=t[t.length-1];return Object(re.a)(e)?(t.pop(),n=>ze(t,n,e)):e=>ze(t,e)}function Ke(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ge(t,e,n))}}class Ge{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new $e(t,this.accumulator,this.seed,this.hasSeed))}}class $e extends oe.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function We(t){return function(e){const n=new Je(t),r=e.lift(n);return n.caught=r}}class Je{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ze(t,this.selector,this.caught))}}class Ze extends Le.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Le.a(this);this.add(r);const i=Object(Le.c)(n,r);i!==r&&this.add(i)}}}var Ye=n("5+tZ");function Qe(t,e){return Object(Ye.a)(t,e,1)}function Xe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?_e((e,n)=>t(e,n,r)):Re.a,Ue(1),n?Ne(e):xe(()=>new ge))}var tn=n("vkgz"),en=n("quSY");class nn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new rn(t,this.callback))}}class rn extends oe.a{constructor(t,e){super(t),this.add(new en.a(e))}}class on{constructor(t,e){this.id=t,this.url=e}}class sn extends on{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class an extends on{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class un extends on{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cn extends on{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ln extends on{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hn extends on{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fn extends on{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dn extends on{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pn extends on{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yn{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _n{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const On="primary";class En{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Cn(t){return new En(t)}function In(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Sn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Tn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!xn(t[i],e[i]))return!1;return!0}function xn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function jn(t){return Array.prototype.concat.apply([],t)}function An(t){return t.length>0?t[t.length-1]:null}function kn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Nn(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(Xt.a)(Promise.resolve(t)):Object(Qt.a)(t)}function Pn(t,e,n){return n?function(t,e){return Tn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Mn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xn(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Mn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Mn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Mn(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class Dn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return qn.serialize(this)}}class Rn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,kn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hn(this)}}class Ln{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Cn(this.parameters)),this._parameterMap}toString(){return Wn(this)}}function Mn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Vn(t,e){let n=[];return kn(t.children,(t,r)=>{r===On&&(n=n.concat(e(t,r)))}),kn(t.children,(t,r)=>{r!==On&&(n=n.concat(e(t,r)))}),n}class Fn{}class Un{parse(t){const e=new Xn(t);return new Dn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Hn(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return kn(e.children,(e,n)=>{n!==On&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Vn(e,(n,r)=>r===On?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Hn(e)}/${n[0]}`:`${Hn(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Bn(e)}=${Bn(t)}`).join("&"):`${Bn(e)}=${Bn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const qn=new Un;function Hn(t){return t.segments.map(t=>Wn(t)).join("/")}function zn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bn(t){return zn(t).replace(/%3B/gi,";")}function Kn(t){return zn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gn(t){return decodeURIComponent(t)}function $n(t){return Gn(t.replace(/\+/g,"%20"))}function Wn(t){return`${Kn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Kn(t)}=${Kn(e[t])}`).join("")}`;var e}const Jn=/^[^\/()?;=#]+/;function Zn(t){const e=t.match(Jn);return e?e[0]:""}const Yn=/^[^=?&#]+/,Qn=/^[^?&#]+/;class Xn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rn([],{}):new Rn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Rn(t,e)),n}parseSegment(){const t=Zn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ln(Gn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Zn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Zn(this.remaining);t&&(n=t,this.capture(n))}t[Gn(e)]=Gn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Yn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Qn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=$n(e),i=$n(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Zn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=On);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Rn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class tr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=er(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=er(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=nr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return nr(t,this._root).map(t=>t.value)}}function er(t,e){if(t===e.value)return e;for(const n of e.children){const e=er(t,n);if(e)return e}return null}function nr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=nr(t,n);if(r.length)return r.unshift(e),r}return[]}class rr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ir(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class or extends tr{constructor(t,e){super(t),this.snapshot=e,hr(this,t)}toString(){return this.snapshot.toString()}}function sr(t,e){const n=function(t,e){const n=new cr([],{},{},"",{},On,e,null,t.root,-1,{});return new lr("",new rr(n,[]))}(t,e),r=new ne([new Ln("",{})]),i=new ne({}),o=new ne({}),s=new ne({}),a=new ne(""),u=new ar(r,i,s,a,o,On,e,n.root);return u.snapshot=n.root,new or(new rr(u,[]),n)}class ar{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ye.a)(t=>Cn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ye.a)(t=>Cn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ur(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class cr{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lr extends tr{constructor(t,e){super(e),this.url=t,hr(this,e)}toString(){return fr(this._root)}}function hr(t,e){e.value._routerState=t,e.children.forEach(e=>hr(t,e))}function fr(t){const e=t.children.length>0?` { ${t.children.map(fr).join(", ")} } `:"";return`${t.value}${e}`}function dr(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Tn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Tn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Tn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Tn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function pr(t,e){return Tn(t.params,e.params)&&function(t,e){return Mn(t,e)&&t.every((t,n)=>Tn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||pr(t.parent,e.parent))}function gr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function mr(t,e,n,r,i){let o={};return r&&kn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Dn(n.root===t?e:function t(e,n,r){const i={};return kn(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Rn(e.segments,i)}(n.root,t,e),o,i)}class br{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&gr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==An(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function vr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function wr(t,e,n){if(t||(t=new Rn([],{})),0===t.segments.length&&t.hasChildren())return _r(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=vr(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Ir(s,a,e))return o;r+=2}else{if(!Ir(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Rn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Rn(t.segments.slice(r.pathIndex),t.children),_r(e,0,i)}return r.match&&0===i.length?new Rn(t.segments,{}):r.match&&!t.hasChildren()?Or(t,e,n):r.match?_r(t,0,i):Or(t,e,n)}function _r(t,e,n){if(0===n.length)return new Rn(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[On]:t}}(n),i={};return kn(r,(n,r)=>{null!==n&&(i[r]=wr(t.children[r],e,n))}),kn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Rn(t.segments,i)}}function Or(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=Er(n[i].outlets);return new Rn(r,t)}if(0===i&&gr(n[0])){r.push(new Ln(t.segments[e].path,n[0])),i++;continue}const o=vr(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&gr(s)?(r.push(new Ln(o,Cr(s))),i+=2):(r.push(new Ln(o,{})),i++)}return new Rn(r,{})}function Er(t){const e={};return kn(t,(t,n)=>{null!==t&&(e[n]=Or(new Rn([],{}),0,t))}),e}function Cr(t){const e={};return kn(t,(t,n)=>e[n]=""+t),e}function Ir(t,e,n){return t==n.path&&Tn(e,n.parameters)}class Sr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),dr(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=ir(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),kn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=ir(t),i=t.value.component?n.children:e;kn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=ir(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new wn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new yn(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(dr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Tr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Tr(t){dr(t.value),t.children.forEach(Tr)}class xr{constructor(t,e){this.routes=t,this.module=e}}function jr(t){return"function"==typeof t}function Ar(t){return t instanceof Dn}const kr=Symbol("INITIAL_VALUE");function Nr(){return Me(t=>function(...t){let e=void 0,n=void 0;return Object(re.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(ie.a)(t[0])&&(t=t[0]),Object(he.a)(t,n).lift(new de(e))}(...t.map(t=>t.pipe(Ue(1),Be(kr)))).pipe(Ke((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==kr)return t;if(r===kr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ar(r))return r}return t},t)},kr),_e(t=>t!==kr),Object(ye.a)(t=>Ar(t)?t:!0===t),Ue(1)))}class Pr{constructor(t){this.segmentGroup=t||null}}class Dr{constructor(t){this.urlTree=t}}function Rr(t){return new ce.a(e=>e.error(new Pr(t)))}function Lr(t){return new ce.a(e=>e.error(new Dr(t)))}function Mr(t){return new ce.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Vr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,On).pipe(Object(ye.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(We(t=>{if(t instanceof Dr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Pr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,On).pipe(Object(ye.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(We(t=>{if(t instanceof Pr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Rn([],{[On]:t}):t;return new Dn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ye.a)(t=>new Rn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Qt.a)({});const n=[],r=[],i={};return kn(t,(t,o)=>{const s=e(o,t).pipe(Object(ye.a)(t=>i[o]=t));o===On?n.push(s):r.push(s)}),Qt.a.apply(null,n.concat(r)).pipe(we(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?_e((e,n)=>t(e,n,r)):Re.a,Ie(1),n?Ne(e):xe(()=>new ge))}(),Object(ye.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(Qt.a)(...n).pipe(Qe(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(We(t=>{if(t instanceof Pr)return Object(Qt.a)(null);throw t}))),Xe(t=>!!t),We((t,n)=>{if(t instanceof ge||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Qt.a)(new Rn([],{}));throw new Pr(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Hr(r)!==o?Rr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Rr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Lr(i):this.lineralizeSegments(n,i).pipe(Object(Ye.a)(n=>{const i=new Rn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Fr(e,r,i);if(!s)return Rr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Lr(l):this.lineralizeSegments(r,l).pipe(Object(Ye.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(ye.a)(t=>(n._loadedConfig=t,new Rn(r,{})))):Object(Qt.a)(new Rn(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Fr(e,n,r);if(!i)return Rr(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(Ye.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>qr(t,e,n)&&Hr(n)!==On)}(t,n,r)?{segmentGroup:Ur(new Rn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Hr(r)!==On&&(n[Hr(r)]=new Rn([],{}));return n}(r,new Rn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>qr(t,e,n))}(t,n,r)?{segmentGroup:Ur(new Rn(t.segments,function(t,e,n,r){const i={};for(const o of n)qr(t,e,o)&&!r[Hr(o)]&&(i[Hr(o)]=new Rn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(ye.a)(t=>new Rn(o,t))):0===r.length&&0===s.length?Object(Qt.a)(new Rn(o,{})):this.expandSegment(n,i,r,s,On,!0).pipe(Object(ye.a)(t=>new Rn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Qt.a)(new xr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Qt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Ye.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(ye.a)(t=>(e._loadedConfig=t,t))):function(t){return new ce.a(e=>e.error(In(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Qt.a)(new xr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Qt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&jr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!jr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Nn(o)});return Object(Qt.a)(i).pipe(Nr(),Object(tn.a)(t=>{if(!Ar(t))return;const e=In(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(ye.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Qt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Mr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Dn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return kn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return kn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Rn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Fr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Sn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ur(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Rn(t.segments.concat(e.segments),e.children)}return t}function qr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Hr(t){return t.outlet||On}class zr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Br{constructor(t,e){this.component=t,this.route=e}}function Kr(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=ir(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Mn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Mn(t.url,e.url)||!Tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pr(t,e)||!Tn(t.queryParams,e.queryParams);case"paramsChange":default:return!pr(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new zr(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new Br(u.outlet.component,a))}else a&&$r(n,u,o),o.canActivateChecks.push(new zr(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),kn(s,(t,e)=>$r(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Gr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function $r(t,e,n){const r=ir(t),i=t.value;kn(r,(t,r)=>{$r(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Br(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Wr(t,e){return null!==t&&e&&e(new vn(t)),Object(Qt.a)(!0)}function Jr(t,e){return null!==t&&e&&e(new bn(t)),Object(Qt.a)(!0)}function Zr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Qt.a)(!0);const i=r.map(r=>be(()=>{const i=Gr(r,e,n);let o;if(function(t){return t&&jr(t.canActivate)}(i))o=Nn(i.canActivate(e,t));else{if(!jr(i))throw new Error("Invalid CanActivate guard");o=Nn(i(e,t))}return o.pipe(Xe())}));return Object(Qt.a)(i).pipe(Nr())}function Yr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>be(()=>{const i=e.guards.map(i=>{const o=Gr(i,e.node,n);let s;if(function(t){return t&&jr(t.canActivateChild)}(o))s=Nn(o.canActivateChild(r,t));else{if(!jr(o))throw new Error("Invalid CanActivateChild guard");s=Nn(o(r,t))}return s.pipe(Xe())});return Object(Qt.a)(i).pipe(Nr())}));return Object(Qt.a)(i).pipe(Nr())}class Qr{}class Xr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=ni(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,On),n=new cr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},On,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new rr(n,e),i=new lr(this.url,r);return this.inheritParamsAndData(i._root),Object(Qt.a)(i)}catch(Iw){return new ce.a(e=>e.error(Iw))}}inheritParamsAndData(t){const e=t.value,n=ur(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Vn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===On?-1:e.value.outlet===On?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Iw){if(!(Iw instanceof Qr))throw Iw}if(this.noLeftoversInUrl(e,n,r))return[];throw new Qr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Qr;if((t.outlet||On)!==r)throw new Qr;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?An(n).parameters:{};i=new cr(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,oi(t),r,t.component,t,ti(e),ei(e)+n.length,si(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Qr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Sn)(n,t,e);if(!r)throw new Qr;const i={};kn(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new cr(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,oi(t),r,t.component,t,ti(e),ei(e)+o.length,si(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ni(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new rr(i,t)]}if(0===a.length&&0===c.length)return[new rr(i,[])];const l=this.processSegment(a,u,c,On);return[new rr(i,l)]}}function ti(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ei(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ni(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>ri(t,e,n)&&ii(n)!==On)}(t,n,r)){const i=new Rn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&ii(o)!==On){const n=new Rn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ii(o)]=n}return i}(t,e,r,new Rn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ri(t,e,n))}(t,n,r)){const o=new Rn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(ri(t,n,a)&&!i[ii(a)]){const n=new Rn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ii(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Rn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function ri(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ii(t){return t.outlet||On}function oi(t){return t.data||{}}function si(t){return t.resolve||{}}function ai(t){return function(e){return e.pipe(Me(e=>{const n=t(e);return n?Object(Xt.a)(n).pipe(Object(ye.a)(()=>e)):Object(Xt.a)([e])}))}}class ui extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let ci=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[Si]},encapsulation:2}),t})();function li(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];hi(r,fi(e,r))}}function hi(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==On)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&li(t.children,e)}function fi(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function di(t){const e=t.children&&t.children.map(di),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==On&&(n.component=ci),n}const pi=new r.q("ROUTES");class gi{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(ye.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new xr(jn(r.injector.get(pi)).map(di),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Xt.a)(this.loader.load(t)):Nn(t()).pipe(Object(Ye.a)(t=>t instanceof r.v?Object(Qt.a)(t):Object(Xt.a)(this.compiler.compileModuleAsync(t))))}}class mi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bi,this.attachRef=null}}class bi{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new mi,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class yi{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vi(t){throw t}function wi(t,e,n){return e.parse("/")}function _i(t,e){return Object(Qt.a)(null)}let Oi=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new te.a,this.errorHandler=vi,this.malformedUriErrorHandler=wi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_i,afterPreactivation:_i},this.urlHandlingStrategy=new yi,this.routeReuseStrategy=new ui,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Dn(new Rn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gi(s,a,t=>this.triggerEvent(new gn(t)),t=>this.triggerEvent(new mn(t))),this.routerState=sr(this.currentUrlTree,this.rootComponentType),this.transitions=new ne({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(_e(t=>0!==t.id),Object(ye.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Me(t=>{let n=!1,r=!1;return Object(Qt.a)(t).pipe(Object(tn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Me(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Qt.a)(t).pipe(Me(t=>{const n=this.transitions.getValue();return e.next(new sn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?me.a:[t]}),Me(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Me(t=>function(t,e,n,r,i){return new Vr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(ye.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(tn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Ye.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Xr(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(ye.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(tn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(tn.a)(t=>{const n=new ln(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new sn(n,this.serializeUrl(r),i,o);e.next(a);const u=sr(r,this.rootComponentType).snapshot;return Object(Qt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),me.a}),ai(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(tn.a)(t=>{const e=new hn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(ye.a)(t=>Object.assign(Object.assign({},t),{guards:Kr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Ye.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Qt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Xt.a)(t).pipe(Object(Ye.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Qt.a)(!0);const s=o.map(o=>{const s=Gr(o,e,i);let a;if(function(t){return t&&jr(t.canDeactivate)}(s))a=Nn(s.canDeactivate(t,e,n,r));else{if(!jr(s))throw new Error("Invalid CanDeactivate guard");a=Nn(s(t,e,n,r))}return a.pipe(Xe())});return Object(Qt.a)(s).pipe(Nr())}(t.component,t.route,n,e,r)),Xe(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Ye.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Xt.a)(e).pipe(Qe(e=>Object(Xt.a)([Jr(e.route.parent,r),Wr(e.route,r),Yr(t,e.path,n),Zr(t,e.route,n)]).pipe(we(),Xe(t=>!0!==t,!0))),Xe(t=>!0!==t,!0))}(r,o,t,e):Object(Qt.a)(n)),Object(ye.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(tn.a)(t=>{if(Ar(t.guardsResult)){const e=In(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(tn.a)(t=>{const e=new fn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),_e(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new un(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ai(t=>{if(t.guards.canActivateChecks.length)return Object(Qt.a)(t).pipe(Object(tn.a)(t=>{const e=new dn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Me(t=>{let n=!1;return Object(Qt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Ye.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Qt.a)(t);let o=0;return Object(Xt.a)(n).pipe(Qe(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Qt.a)({});const o={};return Object(Xt.a)(i).pipe(Object(Ye.a)(i=>function(t,e,n,r){const i=Gr(t,e,r);return Nn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(tn.a)(t=>{o[i]=t}))),Ie(1),Object(Ye.a)(()=>Object.keys(o).length===i.length?Object(Qt.a)(o):me.a))}(t._resolve,t,e,r).pipe(Object(ye.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ur(t,n).resolve),null)))}(t.route,e,r,i)),Object(tn.a)(()=>o++),Ie(1),Object(Ye.a)(e=>o===n.length?Object(Qt.a)(t):me.a))}))}),Object(tn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new un(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(tn.a)(t=>{const e=new pn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ai(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ye.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new rr(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new ar(new ne((i=n.value).url),new ne(i.params),new ne(i.queryParams),new ne(i.fragment),new ne(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new rr(r,o)}}var i}(t,e._root,n?n._root:void 0);return new or(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(tn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(ye.a)(t=>(new Sr(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(tn.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new un(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new nn(i))),We(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ar(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new un(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new cn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch($h){t.reject($h)}}var i;return me.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){li(t),this.config=t.map(di),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(r.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return mr(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new br(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return kn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new br(n,e,r)}(n);if(o.toRoot())return mr(e.root,new Rn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new yr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new yr(t,t===e.root,0)}const r=gr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new yr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?_r(s.segmentGroup,s.index,o.commands):wr(s.segmentGroup,s.index,o.commands);return mr(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Ar(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Iw){e=this.malformedUriErrorHandler(Iw,this.urlSerializer,t)}return e}isActive(t,e){if(Ar(t))return Pn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Pn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new an(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(Fn),r.Pb(bi),r.Pb(O),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Ei=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new te.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Ii(this.skipLocationChange),replaceUrl:Ii(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ii(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ii(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Oi),r.Ib(ar),r.Qb("tabindex"),r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Sb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})(),Ci=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new te.a,this.subscription=t.events.subscribe(t=>{t instanceof an&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Ii(this.skipLocationChange),replaceUrl:Ii(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ii(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ii(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Oi),r.Ib(ar),r.Ib(b))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Sb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(r.Ob("href",e.href,r.fc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Ii(t){return""===t||!!t}let Si=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||On,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ti(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(bi),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ti{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ar?this.route:t===bi?this.childContexts:this.parent.get(t,e)}}class xi{}class ji{preload(t,e){return Object(Qt.a)(null)}}let Ai=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new gi(e,n,e=>t.triggerEvent(new gn(e)),e=>t.triggerEvent(new mn(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(_e(t=>t instanceof an),Qe(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Xt.a)(n).pipe(Object(ve.a)(),Object(ye.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Ye.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Oi),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(xi))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),ki=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof sn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof an&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _n&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new _n(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Oi),r.Pb(yt),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Ni=new r.q("ROUTER_CONFIGURATION"),Pi=new r.q("ROUTER_FORROOT_GUARD"),Di=[O,{provide:Fn,useClass:Un},{provide:Oi,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Oi(null,t,e,n,r,i,o,jn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Fn,bi,O,r.r,r.w,r.i,pi,Ni,[class{},new r.A],[class{},new r.A]]},bi,{provide:ar,useFactory:function(t){return t.routerState.root},deps:[Oi]},{provide:r.w,useClass:r.J},Ai,ji,class{preload(t,e){return e().pipe(We(()=>Object(Qt.a)(null)))}},{provide:Ni,useValue:{enableTracing:!1}}];function Ri(){return new r.y("Router",Oi)}let Li=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Di,Ui(e),{provide:Pi,useFactory:Fi,deps:[[Oi,new r.A,new r.I]]},{provide:Ni,useValue:n||{}},{provide:b,useFactory:Vi,deps:[u,[new r.p(v),new r.A],Ni]},{provide:ki,useFactory:Mi,deps:[Oi,yt,Ni]},{provide:xi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ji},{provide:r.y,multi:!0,useFactory:Ri},[qi,{provide:r.d,multi:!0,useFactory:Hi,deps:[qi]},{provide:Bi,useFactory:zi,deps:[qi]},{provide:r.b,multi:!0,useExisting:Bi}]]}}static forChild(e){return{ngModule:t,providers:[Ui(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(Pi,8),r.Pb(Oi,8))}}),t})();function Mi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ki(t,e,n)}function Vi(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function Fi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ui(t){return[{provide:r.a,multi:!0,useValue:t},{provide:pi,multi:!0,useValue:t}]}let qi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new te.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Oi),r=this.injector.get(Ni);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Qt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Ni),n=this.injector.get(Ai),i=this.injector.get(ki),o=this.injector.get(Oi),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function Hi(t){return t.appInitializer.bind(t)}function zi(t){return t.bootstrapListener.bind(t)}const Bi=new r.q("Router Initializer");var Ki=n("XoHu");function Gi(t,e){return new ce.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(Xt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const $i=new r.q("NgValueAccessor"),Wi={provide:$i,useExisting:Object(r.T)(()=>Ji),multi:!0};let Ji=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([Wi])]}),t})();const Zi={provide:$i,useExisting:Object(r.T)(()=>Qi),multi:!0},Yi=new r.q("CompositionEventMode");let Qi=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Yi,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.xb([Zi])]}),t})(),Xi=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),to=(()=>{class t extends Xi{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return eo(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const eo=r.Nb(to);class no extends Xi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class ro{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let io=(()=>{class t extends ro{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(no,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),oo=(()=>{class t extends ro{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(to,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();function so(t){return null==t||0===t.length}function ao(t){return null!=t&&"number"==typeof t.length}const uo=new r.q("NgValidators"),co=new r.q("NgAsyncValidators"),lo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ho{static min(t){return e=>{if(so(e.value)||so(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(so(e.value)||so(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return so(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return so(t.value)||lo.test(t.value)?null:{email:!0}}static minLength(t){return e=>so(e.value)||!ao(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>ao(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return ho.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(so(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(fo);return 0==e.length?null:function(t){return go(mo(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(fo);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(ie.a)(e))return Gi(e,null);if(Object(Ki.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Gi(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Gi(t=1===t.length&&Object(ie.a)(t[0])?t[0]:t,null).pipe(Object(ye.a)(t=>e(...t)))}return Gi(t,null)}(mo(t,e).map(po)).pipe(Object(ye.a)(go))}}}function fo(t){return null!=t}function po(t){const e=Object(r.qb)(t)?Object(Xt.a)(t):t;return Object(r.pb)(e),e}function go(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function mo(t,e){return e.map(e=>e(t))}function bo(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const yo={provide:$i,useExisting:Object(r.T)(()=>vo),multi:!0};let vo=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([yo])]}),t})();const wo={provide:$i,useExisting:Object(r.T)(()=>Oo),multi:!0};let _o=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Oo=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(no),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(_o),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([wo])]}),t})();const Eo={provide:$i,useExisting:Object(r.T)(()=>Co),multi:!0};let Co=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([Eo])]}),t})();const Io={provide:$i,useExisting:Object(r.T)(()=>So),multi:!0};let So=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([Io])]}),t})();const To={provide:$i,useExisting:Object(r.T)(()=>xo),multi:!0};let xo=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([To])]}),t})();function jo(t,e){t.validator=ho.compose([t.validator,e.validator]),t.asyncValidator=ho.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ao(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ao(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Ao(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ko(t,e){t.validator=ho.compose([t.validator,e.validator]),t.asyncValidator=ho.composeAsync([t.asyncValidator,e.asyncValidator])}function No(t){return null!=t?ho.compose(bo(t)):null}function Po(t){return null!=t?ho.composeAsync(bo(t)):null}const Do=[Ji,Co,vo,So,xo,Oo],Ro="VALID",Lo="INVALID",Mo="PENDING",Vo="DISABLED";function Fo(t){return(zo(t)?t.validators:t)||null}function Uo(t){return Array.isArray(t)?No(t):t||null}function qo(t,e){return(zo(e)?e.asyncValidators:t)||null}function Ho(t){return Array.isArray(t)?Po(t):t||null}function zo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Bo{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Uo(this._rawValidators),this._composedAsyncValidatorFn=Ho(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ro}get invalid(){return this.status===Lo}get pending(){return this.status==Mo}get disabled(){return this.status===Vo}get enabled(){return this.status!==Vo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Uo(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ho(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Mo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vo,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ro,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ro&&this.status!==Mo||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vo:Ro}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Mo,this._hasOwnPendingAsyncValidator=!0;const e=po(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Go?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof $o&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Vo:this.errors?Lo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mo)?Mo:this._anyControlsHaveStatus(Lo)?Lo:Ro}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Ko extends Bo{constructor(t=null,e,n){super(Fo(e),qo(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Go extends Bo{constructor(t,e,n){super(Fo(e),qo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ko?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class $o extends Bo{constructor(t,e,n){super(Fo(e),qo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ko?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Wo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Jo=new r.q("NgModelWithFormControlWarning"),Zo={provide:to,useExisting:Object(r.T)(()=>Yo)};let Yo=(()=>{class t extends to{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return jo(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);ko(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);ko(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&jo(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=No(this._validators);this.form.validator=ho.compose([this.form.validator,t]);const e=Po(this._asyncValidators);this.form.asyncValidator=ho.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(uo,10),r.Ib(co,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Zo]),r.vb,r.wb]}),t})();const Qo={provide:no,useExisting:Object(r.T)(()=>Xo)};let Xo=(()=>{class t extends no{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Qi?n=t:(e=t,Do.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(e){var n,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(e,this.viewModel)&&(n=t,this,i=this._ngModelWarningConfig,Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return No(this._rawValidators)}get asyncValidator(){return Po(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(to,13),r.Ib(uo,10),r.Ib(co,10),r.Ib($i,10),r.Ib(Jo,8))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([Qo]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),ts=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),es=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Go(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Ko(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new $o(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Ko||t instanceof Go||t instanceof $o?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),ns=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Jo,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[es,_o],imports:[ts]}),t})();var rs=n("D0XW");function is(){return t=>t.lift(new os)}class os{call(t,e){return e.subscribe(new ss(t))}}class ss extends oe.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class as{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new us(t,this.compare,this.keySelector))}}class us extends oe.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var cs=n("pxpQ"),ls=n("spgP"),hs=n("Jgta"),fs=n("zIRd"),ds=n("q/0M"),ps=n("qOnz"),gs=function(t,e){return(gs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ms(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var bs,ys="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vs=vs||{},ws=ys||self;function _s(){}function Os(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Es(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Cs="closure_uid_"+(1e9*Math.random()>>>0),Is=0;function Ss(t,e,n){return t.call.apply(t.bind,arguments)}function Ts(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function xs(t,e,n){return(xs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ss:Ts).apply(null,arguments)}function js(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function As(){return Date.now()}function ks(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ns(){this.j=this.j,this.i=this.i}Ns.prototype.j=!1,Ns.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Cs)&&t[Cs]||(t[Cs]=++Is)}(this)},Ns.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ps=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ds=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Rs(t){return Array.prototype.concat.apply([],arguments)}function Ls(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ms(t){return/^[\s\xa0]*$/.test(t)}var Vs,Fs=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Us(t,e){return-1!=t.indexOf(e)}function qs(t,e){return t<e?-1:t>e?1:0}t:{var Hs=ws.navigator;if(Hs){var zs=Hs.userAgent;if(zs){Vs=zs;break t}}Vs=""}function Bs(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ks(t){var e={};for(var n in t)e[n]=t[n];return e}var Gs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $s(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Gs.length;o++)n=Gs[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ws(t){return Ws[" "](t),t}Ws[" "]=_s;var Js,Zs,Ys=Us(Vs,"Opera"),Qs=Us(Vs,"Trident")||Us(Vs,"MSIE"),Xs=Us(Vs,"Edge"),ta=Xs||Qs,ea=Us(Vs,"Gecko")&&!(Us(Vs.toLowerCase(),"webkit")&&!Us(Vs,"Edge"))&&!(Us(Vs,"Trident")||Us(Vs,"MSIE"))&&!Us(Vs,"Edge"),na=Us(Vs.toLowerCase(),"webkit")&&!Us(Vs,"Edge");function ra(){var t=ws.document;return t?t.documentMode:void 0}t:{var ia="",oa=(Zs=Vs,ea?/rv:([^\);]+)(\)|;)/.exec(Zs):Xs?/Edge\/([\d\.]+)/.exec(Zs):Qs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Zs):na?/WebKit\/(\S+)/.exec(Zs):Ys?/(?:Version)[ \/]?(\S+)/.exec(Zs):void 0);if(oa&&(ia=oa?oa[1]:""),Qs){var sa=ra();if(null!=sa&&sa>parseFloat(ia)){Js=String(sa);break t}}Js=ia}var aa={};function ua(t){return function(t,e){var n=aa;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Fs(String(Js)).split("."),r=Fs(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=qs(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||qs(0==s[2].length,0==a[2].length)||qs(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var ca=ws.document&&Qs&&(ra()||parseInt(Js,10))||void 0,la=!Qs||9<=Number(ca),ha=Qs&&!ua("9"),fa=function(){if(!ws.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ws.addEventListener("test",_s,e),ws.removeEventListener("test",_s,e)}catch(n){}return t}();function da(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function pa(t,e){if(da.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ea){t:{try{Ws(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ga[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}da.prototype.b=function(){this.defaultPrevented=!0},ks(pa,da);var ga={2:"touch",3:"pen",4:"mouse"};pa.prototype.b=function(){pa.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ha)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ma="closure_listenable_"+(1e6*Math.random()|0),ba=0;function ya(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ba,this.Y=this.Z=!1}function va(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function wa(t){this.src=t,this.a={},this.b=0}function _a(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ps(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(va(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Oa(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}wa.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Oa(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ya(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ea="closure_lm_"+(1e6*Math.random()|0),Ca={};function Ia(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Pa(r),e&&e[ma]?e.wa(n,r,Es(i)?!!i.capture:!!i,o):Sa(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ia(t,e[o],n,r,i);return null}return n=Pa(n),t&&t[ma]?t.va(e,n,Es(r)?!!r.capture:!!r,i):Sa(t,e,n,!1,r,i)}function Sa(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Es(i)?!!i.capture:!!i;if(s&&!la)return null;var a=ka(t);if(a||(t[Ea]=a=new wa(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Aa,e=la?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fa||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xa(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ta(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ma])_a(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ka(e))?(_a(n,t),0==n.b&&(n.src=null,e[Ea]=null)):va(t)}}}function xa(t){return t in Ca?Ca[t]:Ca[t]="on"+t}function ja(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ta(t),n.call(r,e)}function Aa(t,e){if(t.Y)return!0;if(!la){if(!e)t:{e=["window","event"];for(var n=ws,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ja(t,e=new pa(e,this))}return ja(t,new pa(e,this))}function ka(t){return(t=t[Ea])instanceof wa?t:null}var Na="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pa(t){return"function"==typeof t?t:(t[Na]||(t[Na]=function(e){return t.handleEvent(e)}),t[Na])}function Da(){Ns.call(this),this.c=new wa(this),this.J=this,this.C=null}function Ra(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new da(e,t);else if(e instanceof da)e.target=e.target||t;else{var i=e;$s(e=new da(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=La(s,r,!0,e)&&i}if(i=La(s=e.a=t,r,!0,e)&&i,i=La(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=La(s=e.a=n[o],r,!1,e)&&i}function La(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&_a(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ks(Da,Ns),Da.prototype[ma]=!0,(bs=Da.prototype).addEventListener=function(t,e,n,r){Ia(this,t,e,n,r)},bs.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=Es(i)?!!i.capture:!!i,r=Pa(r),e&&e[ma]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Oa(s=e.a[n],r,i,o))&&(va(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=ka(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Oa(n,r,i,o)),(r=-1<e?n[e]:null)&&Ta(r))}(this,t,e,n,r)},bs.G=function(){if(Da.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)va(n[r]);delete e.a[t],e.b--}}this.C=null},bs.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},bs.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ma=ws.JSON.stringify;function Va(){this.b=this.a=null}var Fa,Ua=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Ha}),(function(t){t.reset()}));function qa(){var t=Ga,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ha(){this.next=this.b=this.a=null}function za(t){ws.setTimeout((function(){throw t}),0)}function Ba(t,e){Fa||function(){var t=ws.Promise.resolve(void 0);Fa=function(){t.then($a)}}(),Ka||(Fa(),Ka=!0),Ga.add(t,e)}Va.prototype.add=function(t,e){var n=Ua.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ha.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ha.prototype.reset=function(){this.next=this.b=this.a=null};var Ka=!1,Ga=new Va;function $a(){for(var t;t=qa();){try{t.a.call(t.b)}catch(n){za(n)}var e=Ua;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ka=!1}function Wa(t,e){Da.call(this),this.b=t||1,this.a=e||ws,this.f=xs(this.Za,this),this.g=As()}function Ja(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Za(t,e,n){if("function"==typeof t)n&&(t=xs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xs(t.handleEvent,t)}return 2147483647<Number(e)?-1:ws.setTimeout(t,e||0)}function Ya(t){t.a=Za((function(){t.a=null,t.c&&(t.c=!1,Ya(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ks(Wa,Da),(bs=Wa.prototype).aa=!1,bs.M=null,bs.Za=function(){if(this.aa){var t=As()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ra(this,"tick"),this.aa&&(Ja(this),this.start()))}},bs.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=As())},bs.G=function(){Wa.X.G.call(this),Ja(this),delete this.a};var Qa=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}gs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ya(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ws.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ns);function Xa(t){Ns.call(this),this.b=t,this.a={}}ks(Xa,Ns);var tu=[];function eu(t,e,n,r){Array.isArray(n)||(n&&(tu[0]=n.toString()),n=tu);for(var i=0;i<n.length;i++){var o=Ia(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function nu(t){Bs(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ta(t)}),t),t.a={}}function ru(){this.a=!0}function iu(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ma(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Xa.prototype.G=function(){Xa.X.G.call(this),nu(this)},Xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ru.prototype.info=function(){};var ou={},su=null;function au(){return su=su||new Da}function uu(t){da.call(this,ou.Fa,t)}function cu(t){var e=au();Ra(e,new uu(e,t))}function lu(t,e){da.call(this,ou.STAT_EVENT,t),this.stat=e}function hu(t){var e=au();Ra(e,new lu(e,t))}function fu(t){da.call(this,ou.Ga,t)}function du(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ws.setTimeout((function(){t()}),e)}ou.Fa="serverreachability",ks(uu,da),ou.STAT_EVENT="statevent",ks(lu,da),ou.Ga="timingevent",ks(fu,da);var pu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},gu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function mu(){}function bu(){}mu.prototype.a=null;var yu,vu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function wu(){da.call(this,"d")}function _u(){da.call(this,"c")}function Ou(){}function Eu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Xa(this),this.P=Cu,this.R=new Wa(t=ta?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ks(wu,da),ks(_u,da),ks(Ou,mu),yu=new Ou;var Cu=45e3,Iu={},Su={};function Tu(t,e,n){t.H=1,t.i=Ju(zu(e)),t.j=n,t.I=!0,xu(t,null)}function xu(t,e){t.u=As(),ku(t),t.l=zu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),uc(n.b,"t",r),t.D=0,t.a=nl(t.g,t.g.C?e:null),0<t.O&&(t.F=new Qa(xs(t.Ca,t,t.a),t.O)),eu(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ks(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),cu(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function ju(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Au(t,n);if(i==Su){4==e&&(t.h=4,hu(14),r=!1),iu(t.c,t.f,null,"[Incomplete Response]");break}if(i==Iu){t.h=4,hu(15),iu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}iu(t.c,t.f,i,null),Lu(t,i)}4==e&&0==n.length&&(t.h=1,hu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wc(e),e.F=!0,hu(11))):(iu(t.c,t.f,n,"[Invalid Chunked Response]"),Ru(t),Du(t))}function Au(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Su:(n=Number(e.substring(n,r)),isNaN(n)?Iu:(r+=1)+n>e.length?Su:(e=e.substr(r,n),t.D=r+n,e))}function ku(t){t.T=As()+t.P,Nu(t,t.P)}function Nu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=du(xs(t.Va,t),e)}function Pu(t){t.o&&(ws.clearTimeout(t.o),t.o=null)}function Du(t){0==t.g.v||t.A||Yc(t.g,t)}function Ru(t){Pu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ja(t.R),nu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Lu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||gc(n.b,t)))if(n.I=t.N,!t.C&&gc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Vv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Zc(n),Fc(n)}$c(n),hu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=du(xs(n.Sa,n),6e3));if(1>=pc(n.b)&&n.ea){try{n.ea()}catch(Vv){}n.ea=void 0}}else Xc(n,11)}else if((t.C||n.a==t)&&Zc(n),!Ms(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Us(l,"spdy")||Us(l,"quic")||Us(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(mc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Wu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=As()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=el(u,u.C?u.ga:null,u.fa),d.C){bc(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Pu(p),ku(p)),u.a=d}else Gc(u);0<n.g.length&&Hc(n)}else"stop"!=i[0]&&"close"!=i[0]||Xc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Xc(n,7):Vc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);cu(4)}catch(Vv){}}function Mu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Os(t)||"string"==typeof t)Ds(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Os(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Os(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Vu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Vu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Fu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Uu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Uu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Uu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(bs=Eu.prototype).setTimeout=function(t){this.P=t},bs.Xa=function(t){t=t.target;var e=this.F;e&&3==Dc(t)?e.f():this.Ca(t)},bs.Ca=function(t){try{if(t==this.a)t:{var e=Dc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ta&&!this.a.$())){this.A||4!=e||7==n||cu(8==n||0>=r?3:2),Pu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ms(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,hu(12),Ru(this),Du(this);break t}iu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Lu(this,u)}this.I?(ju(this,e,o),ta&&this.b&&3==e&&(eu(this.J,this.R,"tick",this.Wa),this.R.start())):(iu(this.c,this.f,o,null),Lu(this,o)),4==e&&Ru(this),this.b&&!this.A&&(4==e?Yc(this.g,this):(this.b=!1,ku(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,hu(12)):(this.h=0,hu(13)),Ru(this),Du(this)}}}catch(c){}},bs.Wa=function(){if(this.a){var t=Dc(this.a),e=this.a.$();this.D<e.length&&(Pu(this),ju(this,t,e),this.b&&4!=t&&ku(this))}},bs.cancel=function(){this.A=!0,Ru(this)},bs.Va=function(){this.o=null;var t=As();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(cu(3),hu(17)),Ru(this),this.h=2,Du(this)):Nu(this,this.T-t)},(bs=Vu.prototype).K=function(){Fu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},bs.L=function(){return Fu(this),this.a.concat()},bs.get=function(t,e){return Uu(this.b,t)?this.b[t]:e},bs.set=function(t,e){Uu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},bs.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var qu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Hu){this.a=void 0!==e?e:t.a,Bu(this,t.f),this.j=t.j,Ku(this,t.c),Gu(this,t.h),this.g=t.g,e=t.b;var n=new ic;n.c=e.c,e.a&&(n.a=new Vu(e.a),n.b=e.b),$u(this,n),this.i=t.i}else t&&(n=String(t).match(qu))?(this.a=!!e,Bu(this,n[1]||"",!0),this.j=Zu(n[2]||""),Ku(this,n[3]||"",!0),Gu(this,n[4]),this.g=Zu(n[5]||"",!0),$u(this,n[6]||"",!0),this.i=Zu(n[7]||"")):(this.a=!!e,this.b=new ic(null,this.a))}function zu(t){return new Hu(t)}function Bu(t,e,n){t.f=n?Zu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ku(t,e,n){t.c=n?Zu(e,!0):e}function Gu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function $u(t,e,n){e instanceof ic?(t.b=e,function(t,e){e&&!t.f&&(oc(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(sc(this,e),uc(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Yu(e,nc)),t.b=new ic(e,t.a))}function Wu(t,e,n){t.b.set(e,n)}function Ju(t){return Wu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^As()).toString(36)),t}function Zu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Qu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Hu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Yu(e,Xu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Yu(e,Xu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Yu(n,"/"==n.charAt(0)?ec:tc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Yu(n,rc)),t.join("")};var Xu=/[#\/\?@]/g,tc=/[#\?:]/g,ec=/[#\?]/g,nc=/[#\?@]/g,rc=/#/g;function ic(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function oc(t){t.a||(t.a=new Vu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function sc(t,e){oc(t),e=cc(t,e),Uu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Uu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Fu(t)))}function ac(t,e){return oc(t),e=cc(t,e),Uu(t.a.b,e)}function uc(t,e,n){sc(t,e),0<n.length&&(t.c=null,t.a.set(cc(t,e),Ls(n)),t.b+=n.length)}function cc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(bs=ic.prototype).add=function(t,e){oc(this),this.c=null,t=cc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},bs.forEach=function(t,e){oc(this),this.a.forEach((function(n,r){Ds(n,(function(n){t.call(e,n,r,this)}),this)}),this)},bs.L=function(){oc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},bs.K=function(t){oc(this);var e=[];if("string"==typeof t)ac(this,t)&&(e=Rs(e,this.a.get(cc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Rs(e,t[n])}return e},bs.set=function(t,e){return oc(this),this.c=null,ac(this,t=cc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},bs.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},bs.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var lc=function(){return function(t,e){this.b=t,this.a=e}}();function hc(t){this.g=t||fc,t=ws.PerformanceNavigationTiming?0<(t=ws.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ws.ia&&ws.ia.ya&&ws.ia.ya()&&ws.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var fc=10;function dc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function pc(t){return t.b?1:t.a?t.a.size:0}function gc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function mc(t,e){t.a?t.a.add(e):t.b=e}function bc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function yc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ms(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ls(t.c)}function vc(){}function wc(){this.a=new vc}function _c(t,e,n){var r=n||"";try{Mu(t,(function(t,n){var i=t;Es(t)&&(i=Ma(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Iw){throw e.push(r+"type="+encodeURIComponent("_badmap")),Iw}}function Oc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}hc.prototype.cancel=function(){var t,e;if(this.c=yc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ms(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},vc.prototype.stringify=function(t){return ws.JSON.stringify(t,void 0)},vc.prototype.parse=function(t){return ws.JSON.parse(t,void 0)};var Ec=ws.JSON.parse;function Cc(t){Da.call(this),this.headers=new Vu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ic,this.D=this.F=!1}ks(Cc,Da);var Ic="",Sc=/^https?$/i,Tc=["POST","PUT"];function xc(t){return"content-type"==t.toLowerCase()}function jc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ac(t),Nc(t)}function Ac(t){t.u||(t.u=!0,Ra(t,"complete"),Ra(t,"error"))}function kc(t){if(t.b&&void 0!==vs&&(!t.s[1]||4!=Dc(t)||2!=t.W()))if(t.l&&4==Dc(t))Za(t.za,0,t);else if(Ra(t,"readystatechange"),4==Dc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(qu)[1]||null;if(!o&&ws.self&&ws.self.location){var s=ws.self.location.protocol;o=s.substr(0,s.length-1)}i=!Sc.test(o?o.toLowerCase():"")}e=i}if(e)Ra(t,"complete"),Ra(t,"success");else{t.h=6;try{var a=2<Dc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ac(t)}}finally{Nc(t)}}}function Nc(t,e){if(t.a){Pc(t);var n=t.a,r=t.s[0]?_s:null;t.a=null,t.s=null,e||Ra(t,"ready");try{n.onreadystatechange=r}catch(Iw){}}}function Pc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ws.clearTimeout(t.m),t.m=null)}function Dc(t){return t.a?t.a.readyState:0}function Rc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Bs(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Wu(t,e,n))}function Lc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Mc(t){this.pa=0,this.g=[],this.c=new ru,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Lc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Lc("baseRetryDelayMs",5e3,t),this.Ra=Lc("retryDelaySeedMs",1e4,t),this.Ma=Lc("forwardChannelMaxRetries",2,t),this.ma=Lc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new hc(t&&t.concurrentRequestLimit),this.ka=new wc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Vc(t){if(Uc(t),3==t.v){var e=t.R++,n=zu(t.B);Wu(n,"SID",t.J),Wu(n,"RID",e),Wu(n,"TYPE","terminate"),Bc(t,n),(e=new Eu(t,t.c,e,void 0)).H=2,e.i=Ju(zu(n)),n=!1,ws.navigator&&ws.navigator.sendBeacon&&(n=ws.navigator.sendBeacon(e.i.toString(),"")),!n&&ws.Image&&((new Image).src=e.i,n=!0),n||(e.a=nl(e.g,null),e.a.ba(e.i)),e.u=As(),ku(e)}tl(t)}function Fc(t){t.a&&(Wc(t),t.a.cancel(),t.a=null)}function Uc(t){Fc(t),t.j&&(ws.clearTimeout(t.j),t.j=null),Zc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ws.clearTimeout(t.h),t.h=null)}function qc(t,e){t.g.push(new lc(t.Oa++,e)),3==t.v&&Hc(t)}function Hc(t){dc(t.b)||t.h||(t.h=!0,Ba(t.Ba,t),t.u=0)}function zc(t,e){var n;n=e?e.f:t.R++;var r=zu(t.B);Wu(r,"SID",t.J),Wu(r,"RID",n),Wu(r,"AID",t.P),Bc(t,r),t.i&&t.l&&Rc(r,t.i,t.l),n=new Eu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Kc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),mc(t.b,n),Tu(n,r,e)}function Bc(t,e){t.f&&Mu({},(function(t,n){Wu(e,n,t)}))}function Kc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?xs(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{_c(l,s,"req"+c+"_")}catch(Vl){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Gc(t){t.a||t.j||(t.T=1,Ba(t.Aa,t),t.o=0)}function $c(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=du(xs(t.Aa,t),Qc(t,t.o)),t.o++,0))}function Wc(t){null!=t.s&&(ws.clearTimeout(t.s),t.s=null)}function Jc(t){t.a=new Eu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=zu(t.la);Wu(e,"RID","rpc"),Wu(e,"SID",t.J),Wu(e,"CI",t.H?"0":"1"),Wu(e,"AID",t.P),Bc(t,e),Wu(e,"TYPE","xmlhttp"),t.i&&t.l&&Rc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ju(zu(e)),n.j=null,n.I=!0,xu(n,t)}function Zc(t){null!=t.m&&(ws.clearTimeout(t.m),t.m=null)}function Yc(t,e){var n=null;if(t.a==e){Zc(t),Wc(t),t.a=null;var r=2}else{if(!gc(t.b,e))return;n=e.s,bc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=As()-e.u;var i=t.u;Ra(r=au(),new fu(r,n,e,i)),Hc(t)}else Gc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(pc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=du(xs(t.Ba,t,e),Qc(t,t.u)),t.u++,0)))}(t,e)||2==r&&$c(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Xc(t,5);break;case 4:Xc(t,10);break;case 3:Xc(t,6);break;default:Xc(t,2)}}function Qc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Xc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=xs(t.Ya,t);n||(n=new Hu("//www.google.com/images/cleardot.gif"),ws.location&&"http"==ws.location.protocol||Bu(n,"https"),Ju(n)),function(t,e){var n=new ru;if(ws.Image){var r=new Image;r.onload=js(Oc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=js(Oc,n,r,"TestLoadImage: error",!1,e),r.onabort=js(Oc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=js(Oc,n,r,"TestLoadImage: timeout",!1,e),ws.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else hu(2);t.v=0,t.f&&t.f.ra(e),tl(t),Uc(t)}function tl(t){t.v=0,t.I=-1,t.f&&(0==yc(t.b).length&&0==t.g.length||(t.b.c.length=0,Ls(t.g),t.g.length=0),t.f.qa())}function el(t,e,n){var r=function(t){return t instanceof Hu?zu(t):new Hu(t,void 0)}(n);if(""!=r.c)e&&Ku(r,e+"."+r.c),Gu(r,r.h);else{var i=ws.location;r=function(t,e,n,r){var i=new Hu(null,void 0);return t&&Bu(i,t),e&&Ku(i,e),n&&Gu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Bs(t.V,(function(t,e){Wu(r,e,t)})),n=t.na,(e=t.A)&&n&&Wu(r,e,n),Wu(r,"VER",t.ha),Bc(t,r),r}function nl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Cc(t.Na)).F=t.C,e}function rl(){}function il(){if(Qs&&!(10<=Number(ca)))throw Error("Environmental error: no available transport.")}function ol(t,e){Da.call(this),this.a=new Mc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ms(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ms(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ul(this)}function sl(t){wu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function al(){_u.call(this),this.status=1}function ul(t){this.a=t}(bs=Cc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:yu),this.a.onreadystatechange=xs(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void jc(this,o)}t=n||"";var i=new Vu(this.headers);r&&Mu(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=xc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ws.FormData&&t instanceof ws.FormData,!(0<=Ps(Tc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Pc(this),0<this.o&&((this.D=function(t){return Qs&&ua(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=xs(this.xa,this)):this.m=Za(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){jc(this,o)}},bs.xa=function(){void 0!==vs&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ra(this,"timeout"),this.abort(8))},bs.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ra(this,"complete"),Ra(this,"abort"),Nc(this))},bs.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nc(this,!0)),Cc.X.G.call(this)},bs.za=function(){this.j||(this.A||this.l||this.g?kc(this):this.Ua())},bs.Ua=function(){kc(this)},bs.W=function(){try{return 2<Dc(this)?this.a.status:-1}catch(Zs){return-1}},bs.$=function(){try{return this.a?this.a.responseText:""}catch(Zs){return""}},bs.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ec(e)}},bs.ua=function(){return this.h},bs.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(bs=Mc.prototype).ha=8,bs.v=1,bs.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Eu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?$s(r=Ks(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Kc(this,n,e),Wu(i=zu(this.B),"RID",t),Wu(i,"CVER",22),this.A&&Wu(i,"X-HTTP-Session-Id",this.A),Bc(this,i),this.i&&r&&Rc(i,this.i,r),mc(this.b,n),this.Ia&&Wu(i,"TYPE","init"),this.da?(Wu(i,"$req",e),Wu(i,"SID","null"),n.U=!0,Tu(n,i,null)):Tu(n,i,e),this.v=2}}else 3==this.v&&(t?zc(this,t):0==this.g.length||dc(this.b)||zc(this))},bs.Aa=function(){if(this.j=null,Jc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=du(xs(this.Ta,this),t)}},bs.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,hu(10),Fc(this),Jc(this))},bs.Sa=function(){null!=this.m&&(this.m=null,Fc(this),$c(this),hu(19))},bs.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),hu(2)):(this.c.info("Failed to ping google.com"),hu(1))},(bs=rl.prototype).ta=function(){},bs.sa=function(){},bs.ra=function(){},bs.qa=function(){},bs.Ja=function(){},il.prototype.a=function(t,e){return new ol(t,e)},ks(ol,Da),ol.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;hu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=el(t,null,t.fa),Hc(t)},ol.prototype.close=function(){Vc(this.a)},ol.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,qc(this.a,e)}else this.l?((e={}).__data__=Ma(t),qc(this.a,e)):qc(this.a,t)},ol.prototype.G=function(){this.a.f=null,delete this.f,Vc(this.a),delete this.a,ol.X.G.call(this)},ks(sl,wu),ks(al,_u),ks(ul,rl),ul.prototype.ta=function(){Ra(this.a,"a")},ul.prototype.sa=function(t){Ra(this.a,new sl(t))},ul.prototype.ra=function(t){Ra(this.a,new al(t))},ul.prototype.qa=function(){Ra(this.a,"b")},il.prototype.createWebChannel=il.prototype.a,ol.prototype.send=ol.prototype.h,ol.prototype.open=ol.prototype.g,ol.prototype.close=ol.prototype.close,pu.NO_ERROR=0,pu.TIMEOUT=8,pu.HTTP_ERROR=6,gu.COMPLETE="complete",bu.EventType=vu,vu.OPEN="a",vu.CLOSE="b",vu.ERROR="c",vu.MESSAGE="d",Da.prototype.listen=Da.prototype.va,Cc.prototype.listenOnce=Cc.prototype.wa,Cc.prototype.getLastError=Cc.prototype.Qa,Cc.prototype.getLastErrorCode=Cc.prototype.ua,Cc.prototype.getStatus=Cc.prototype.W,Cc.prototype.getResponseJson=Cc.prototype.Pa,Cc.prototype.getResponseText=Cc.prototype.$,Cc.prototype.send=Cc.prototype.ba;var cl=pu,ll=gu,hl=ou,fl=bu,dl=Cc,pl=n("30Go"),gl=new ds.b("@firebase/firestore");function ml(){return gl.logLevel}function bl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gl.logLevel<=ds.a.DEBUG){var r=e.map(wl);gl.debug.apply(gl,Object(pl.g)(["Firestore (8.2.1): "+t],r))}}function yl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gl.logLevel<=ds.a.ERROR){var r=e.map(wl);gl.error.apply(gl,Object(pl.g)(["Firestore (8.2.1): "+t],r))}}function vl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gl.logLevel<=ds.a.WARN){var r=e.map(wl);gl.warn.apply(gl,Object(pl.g)(["Firestore (8.2.1): "+t],r))}}function wl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Iw){return t}}function _l(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw yl(e),new Error(e)}function Ol(t,e){t||_l()}function El(t,e){return t}function Cl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Il=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Cl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Sl(t,e){return t<e?-1:t>e?1:0}function Tl(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function xl(t){return t+"\0"}var jl=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Sl(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();jl.h=new jl("");var Al={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},kl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(pl.c)(e,t),e}(Error),Nl=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(jl.fromBase64String(e))}catch(e){throw new kl(Al.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(jl.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Pl=function(t){this._=t};function Dl(){if("undefined"==typeof Uint8Array)throw new kl(Al.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Rl(){if("undefined"==typeof atob)throw new kl(Al.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.fromBase64String=function(t){return Rl(),new e(Nl.fromBase64String(t))},e.fromUint8Array=function(t){return Dl(),new e(Nl.fromUint8Array(t))},e.prototype.toBase64=function(){return Rl(),this._.toBase64()},e.prototype.toUint8Array=function(){return Dl(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Pl),Ml=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Vl=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Fl=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Fl.UNAUTHENTICATED=new Fl(null),Fl.P=new Fl("google-credentials-uid"),Fl.g=new Fl("first-party-uid");var Ul=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},ql=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Fl.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Hl=function(){function t(t){var e=this;this.C=null,this.currentUser=Fl.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.F!==e?(bl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ol("string"==typeof n.accessToken),new Ul(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return Ol(null===t||"string"==typeof t),new Fl(t)},t}(),zl=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Fl.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Bl=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new zl(this.k,this.M))},t.prototype.S=function(t){t(Fl.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Kl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Kl.U=-1;var Gl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new kl(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new kl(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new kl(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kl(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Sl(this.nanoseconds,t.nanoseconds):Sl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),$l=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new Gl(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Wl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&_l(),void 0===n?n=t.length-e:n>t.length-e&&_l(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Jl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new kl(Al.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(Wl),Zl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Zl.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new kl(Al.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new kl(Al.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new kl(Al.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new kl(Al.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Wl),Ql=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Jl.ct(e))},t.dt=function(e){return new t(Jl.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Jl.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Jl.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Jl(e.slice()))},t}();function Xl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function th(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var nh=function(){function t(t){this.fields=t,t.sort(Yl.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Tl(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),rh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ih(t){if(Ol(!!t),"string"==typeof t){var e=0,n=rh.exec(t);if(Ol(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:oh(t.seconds),nanos:oh(t.nanos)}}function oh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function sh(t){return"string"==typeof t?jl.fromBase64String(t):jl.fromUint8Array(t)}function ah(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function uh(t){var e=ih(t.mapValue.fields.__local_write_time__.timestampValue);return new Gl(e.seconds,e.nanos)}function ch(t){return null==t}function lh(t){return 0===t&&1/t==-1/0}function hh(t){return"number"==typeof t&&Number.isInteger(t)&&!lh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function fh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ah(t)?4:10:_l()}function dh(t,e){var n=fh(t);if(n!==fh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uh(t).isEqual(uh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ih(t.timestampValue),r=ih(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return sh(t.bytesValue).isEqual(sh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return oh(t.geoPointValue.latitude)===oh(e.geoPointValue.latitude)&&oh(t.geoPointValue.longitude)===oh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return oh(t.integerValue)===oh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=oh(t.doubleValue),r=oh(e.doubleValue);return n===r?lh(n)===lh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Tl(t.arrayValue.values||[],e.arrayValue.values||[],dh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Xl(n)!==Xl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dh(n[i],r[i])))return!1;return!0}(t,e);default:return _l()}}function ph(t,e){return void 0!==(t.values||[]).find((function(t){return dh(t,e)}))}function gh(t,e){var n=fh(t),r=fh(e);if(n!==r)return Sl(n,r);switch(n){case 0:return 0;case 1:return Sl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=oh(t.integerValue||t.doubleValue),r=oh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return mh(t.timestampValue,e.timestampValue);case 4:return mh(uh(t),uh(e));case 5:return Sl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=sh(t),r=sh(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Sl(n[i],r[i]);if(0!==o)return o}return Sl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Sl(oh(t.latitude),oh(e.latitude));return 0!==n?n:Sl(oh(t.longitude),oh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=gh(n[i],r[i]);if(o)return o}return Sl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Sl(r[s],o[s]);if(0!==a)return a;var u=gh(n[r[s]],i[o[s]]);if(0!==u)return u}return Sl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw _l()}}function mh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Sl(t,e);var n=ih(t),r=ih(e),i=Sl(n.seconds,r.seconds);return 0!==i?i:Sl(n.nanos,r.nanos)}function bh(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=ih(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?sh(e.bytesValue).toBase64():"referenceValue"in e?Ql.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):_l();var n}(t)}function yh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function vh(t){return!!t&&"integerValue"in t}function wh(t){return!!t&&"arrayValue"in t}function _h(t){return!!t&&"nullValue"in t}function Oh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eh(t){return!!t&&"mapValue"in t}var Ch=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Eh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return dh(this.proto,t.proto)},t}(),Ih=function(){function t(t){void 0===t&&(t=Ch.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===fh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Yl.at(),this.Rt);return null!=t?new Ch(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=Eh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Sh(t){var e=[];return th(t.fields||{},(function(t,n){var r=new Yl([t]);if(Eh(n)){var i=Sh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new nh(e)}var Th=function(t,e){this.key=t,this.version=e},xh=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(pl.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Th),jh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(pl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Th),Ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Th),kh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function Nh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new kh(t,e,n,r,i,o,s)}function Ph(t){var e=El(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+bh(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Gh(e.startAt)),e.endAt&&(n+="|ub:",n+=Gh(e.endAt)),e.St=n}return e.St}function Dh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Wh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!dh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zh(t.startAt,e.startAt)&&Zh(t.endAt,e.endAt)}function Rh(t){return Ql.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Lh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(pl.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Mh(t,n,r):"array-contains"===n?new qh(t,r):"in"===n?new Hh(t,r):"not-in"===n?new zh(t,r):"array-contains-any"===n?new Bh(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Vh(t,n):new Fh(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(gh(e,this.value)):null!==e&&fh(this.value)===fh(e)&&this.Ct(gh(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return _l()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Mh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ql.dt(r.referenceValue),i}return Object(pl.c)(e,t),e.prototype.matches=function(t){var e=Ql.J(t.key,this.key);return this.Ct(e)},e}(Lh),Vh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Uh(0,n),r}return Object(pl.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Lh),Fh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Uh(0,n),r}return Object(pl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Lh);function Uh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Ql.dt(t.referenceValue)}))}var qh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(pl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return wh(e)&&ph(e.arrayValue,this.value)},e}(Lh),Hh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(pl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ph(this.value.arrayValue,e)},e}(Lh),zh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(pl.c)(e,t),e.prototype.matches=function(t){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ph(this.value.arrayValue,e)},e}(Lh),Bh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(pl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!wh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ph(e.value.arrayValue,t)}))},e}(Lh),Kh=function(t,e){this.position=t,this.before=e};function Gh(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return bh(t)})).join(",")}var $h=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Wh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Jh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Ql.J(Ql.dt(s.referenceValue),n.key):gh(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Zh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!dh(t.position[n],e.position[n]))return!1;return!0}var Yh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ft=null,this.Ot=null};function Qh(t,e,n,r,i,o,s,a){return new Yh(t,e,n,r,i,o,s,a)}function Xh(t){return new Yh(t)}function tf(t){return!ch(t.limit)&&"F"===t.limitType}function ef(t){return!ch(t.limit)&&"L"===t.limitType}function nf(t){return t.Nt.length>0?t.Nt[0].field:null}function rf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function of(t){return null!==t.collectionGroup}function sf(t){var e=El(t);if(null===e.Ft){e.Ft=[];var n=rf(e),r=nf(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new $h(n)),e.Ft.push(new $h(Yl.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new $h(Yl.lt(),u))}}}return e.Ft}function af(t){var e=El(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Nh(e.path,e.collectionGroup,sf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=sf(e);r<i.length;r++){var o=i[r];n.push(new $h(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Kh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Kh(e.startAt.position,!e.startAt.before):null;e.Ot=Nh(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ot}function uf(t,e,n){return new Yh(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cf(t,e){return Dh(af(t),af(e))&&t.limitType===e.limitType}function lf(t){return Ph(af(t))+"|lt:"+t.limitType}function hf(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+bh(e.value);var e})).join(", ")+"]"),ch(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Gh(t.startAt)),t.endAt&&(e+=", endAt: "+Gh(t.endAt)),"Target("+e+")"}(af(t))+"; limitType="+t.limitType+")"}function ff(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Ql.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Jh(t.startAt,sf(t),e)||t.endAt&&Jh(t.endAt,sf(t),e))}(t,e)}function df(t){return function(e,n){for(var r=!1,i=0,o=sf(t);i<o.length;i++){var s=o[i],a=pf(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function pf(t,e,n){var r=t.field.ht()?Ql.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?gh(r,i):_l()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _l()}}var gf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=$l.min()),void 0===o&&(o=$l.min()),void 0===s&&(s=jl.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function mf(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function bf(t){return{integerValue:""+t}}function yf(t,e){return hh(e)?bf(e):mf(t,e)}var vf=function(){this.Ut=void 0};function wf(t,e,n){return t instanceof Ef?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Cf?If(t,e):t instanceof Sf?Tf(t,e):function(t,e){var n=Of(t,e),r=jf(n)+jf(t.Qt);return vh(n)&&vh(t.Qt)?bf(r):mf(t.Kt,r)}(t,e)}function _f(t,e,n){return t instanceof Cf?If(t,e):t instanceof Sf?Tf(t,e):n}function Of(t,e){return t instanceof xf?vh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ef=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e}(vf),Cf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(pl.c)(e,t),e}(vf);function If(t,e){for(var n=Af(e),r=function(t){n.some((function(e){return dh(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Sf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(pl.c)(e,t),e}(vf);function Tf(t,e){for(var n=Af(e),r=function(t){n=n.filter((function(e){return!dh(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(pl.c)(e,t),e}(vf);function jf(t){return oh(t.integerValue||t.doubleValue)}function Af(t){return wh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var kf=function(t,e){this.field=t,this.transform=e},Nf=function(t,e){this.version=t,this.transformResults=e},Pf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Df(t,e){return void 0!==t.updateTime?e instanceof xh&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof xh}var Rf=function(){};function Lf(t,e,n){return t instanceof qf?function(t,e,n){var r=t.value;if(n.transformResults){var i=Bf(t.fieldTransforms,e,n.transformResults);r=Gf(t.fieldTransforms,r,i)}return new xh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Hf?function(t,e,n){if(!Df(t.Gt,e))return new Ah(t.key,n.version);var r=zf(t,e,n.transformResults?Bf(t.fieldTransforms,e,n.transformResults):[]);return new xh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new jh(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Mf(t,e,n,r){return t instanceof qf?function(t,e,n,r){if(!Df(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var o=Kf(t.fieldTransforms,n,e,r);i=Gf(t.fieldTransforms,i,o)}var s=Uf(e);return new xh(t.key,s,i,{bt:!0})}(t,e,r,n):t instanceof Hf?function(t,e,n,r){if(!Df(t.Gt,e))return e;var i=Uf(e),o=zf(t,e,Kf(t.fieldTransforms,n,e,r));return new xh(t.key,i,o,{bt:!0})}(t,e,r,n):function(t,e){return Df(t.Gt,e)?new jh(t.key,$l.min()):e}(t,e)}function Vf(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof xh?e.field(o.field):void 0,a=Of(o.transform,s||null);null!=a&&(n=null==n?(new Ih).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function Ff(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Tl(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Cf&&e instanceof Cf||t instanceof Sf&&e instanceof Sf?Tl(t.elements,e.elements,dh):t instanceof xf&&e instanceof xf?dh(t.Qt,e.Qt):t instanceof Ef&&e instanceof Ef}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Uf(t){return t instanceof xh?t.version:$l.min()}var qf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(pl.c)(e,t),e}(Rf),Hf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(pl.c)(e,t),e}(Rf);function zf(t,e,n){var r;return r=function(t,e){var n=new Ih(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof xh?e.data():Ch.empty()),Gf(t.fieldTransforms,r,n)}function Bf(t,e,n){var r=[];Ol(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof xh&&(a=e.field(o.field)),r.push(_f(s,a,n[i]))}return r}function Kf(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof xh&&(c=n.field(a.field)),null===c&&r instanceof xh&&(c=r.field(a.field)),i.push(wf(u,c,e))}return i}function Gf(t,e,n){for(var r=new Ih(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var $f,Wf,Jf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(pl.c)(e,t),e}(Rf),Zf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(pl.c)(e,t),e}(Rf),Yf=function(t){this.count=t};function Qf(t){switch(t){case Al.OK:return _l();case Al.CANCELLED:case Al.UNKNOWN:case Al.DEADLINE_EXCEEDED:case Al.RESOURCE_EXHAUSTED:case Al.INTERNAL:case Al.UNAVAILABLE:case Al.UNAUTHENTICATED:return!1;case Al.INVALID_ARGUMENT:case Al.NOT_FOUND:case Al.ALREADY_EXISTS:case Al.PERMISSION_DENIED:case Al.FAILED_PRECONDITION:case Al.ABORTED:case Al.OUT_OF_RANGE:case Al.UNIMPLEMENTED:case Al.DATA_LOSS:return!0;default:return _l()}}function Xf(t){if(void 0===t)return yl("GRPC error has no .code"),Al.UNKNOWN;switch(t){case $f.OK:return Al.OK;case $f.CANCELLED:return Al.CANCELLED;case $f.UNKNOWN:return Al.UNKNOWN;case $f.DEADLINE_EXCEEDED:return Al.DEADLINE_EXCEEDED;case $f.RESOURCE_EXHAUSTED:return Al.RESOURCE_EXHAUSTED;case $f.INTERNAL:return Al.INTERNAL;case $f.UNAVAILABLE:return Al.UNAVAILABLE;case $f.UNAUTHENTICATED:return Al.UNAUTHENTICATED;case $f.INVALID_ARGUMENT:return Al.INVALID_ARGUMENT;case $f.NOT_FOUND:return Al.NOT_FOUND;case $f.ALREADY_EXISTS:return Al.ALREADY_EXISTS;case $f.PERMISSION_DENIED:return Al.PERMISSION_DENIED;case $f.FAILED_PRECONDITION:return Al.FAILED_PRECONDITION;case $f.ABORTED:return Al.ABORTED;case $f.OUT_OF_RANGE:return Al.OUT_OF_RANGE;case $f.UNIMPLEMENTED:return Al.UNIMPLEMENTED;case $f.DATA_LOSS:return Al.DATA_LOSS;default:return _l()}}(Wf=$f||($f={}))[Wf.OK=0]="OK",Wf[Wf.CANCELLED=1]="CANCELLED",Wf[Wf.UNKNOWN=2]="UNKNOWN",Wf[Wf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wf[Wf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wf[Wf.NOT_FOUND=5]="NOT_FOUND",Wf[Wf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wf[Wf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wf[Wf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wf[Wf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wf[Wf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wf[Wf.ABORTED=10]="ABORTED",Wf[Wf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wf[Wf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wf[Wf.INTERNAL=13]="INTERNAL",Wf[Wf.UNAVAILABLE=14]="UNAVAILABLE",Wf[Wf.DATA_LOSS=15]="DATA_LOSS";var td=function(){function t(t,e){this.J=t,this.root=e||nd.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,nd.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,nd.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new ed(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new ed(this.root,t,this.J,!1)},t.prototype.se=function(){return new ed(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new ed(this.root,t,this.J,!0)},t}(),ed=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),nd=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw _l();if(this.right._e())throw _l();var t=this.left.me();if(t!==this.right.me())throw _l();return t+(this._e()?0:1)},t}();nd.EMPTY=null,nd.RED=!0,nd.Jt=!1,nd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw _l()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw _l()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw _l()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw _l()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw _l()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new nd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var rd=function(){function t(t){this.J=t,this.data=new td(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new id(this.data.ee())},t.prototype.ne=function(t){return new id(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),id=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),od=new td(Ql.J);function sd(){return od}function ad(){return sd()}var ud=new td(Ql.J);function cd(){return ud}var ld=new td(Ql.J);function hd(){return ld}var fd=new rd(Ql.J);function dd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=fd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var pd=new rd(Sl);function gd(){return pd}var md=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Ql.J(e.key,n.key)}:function(t,e){return Ql.J(t.key,e.key)},this.Ve=cd(),this.pe=new td(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),bd=function(){function t(){this.ve=new td(Ql.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):_l():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),yd=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Fe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,md.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&cf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),vd=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,wd.Be(e,n)),new t($l.min(),r,gd(),sd(),dd())},t}(),wd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(jl.h,n,dd(),dd(),dd())},t}(),_d=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},Od=function(t,e){this.targetId=t,this.Ge=e},Ed=function(t,e,n,r){void 0===n&&(n=jl.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Cd=function(){function t(){this.ze=0,this.He=Td(),this.Je=jl.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=dd(),e=dd(),n=dd();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:_l()}})),new wd(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Td()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Id=function(){function t(t){this.hn=t,this.ln=new Map,this._n=sd(),this.fn=Sd(),this.dn=new rd(Sl)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof xh?this.En(r,t.je):t.je instanceof jh&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:_l()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Rh(i))if(0===n){var o=new Ql(i.path);this.Tn(e,o,new jh(o,$l.min()))}else Ol(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&Rh(o.target)){var s=new Ql(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new jh(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=dd();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new vd(t,n,this.dn,this._n,r);return this._n=sd(),this.fn=Sd(),this.dn=new rd(Sl),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Cd,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new rd(Sl),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||bl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Cd),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Sd(){return new td(Ql.J)}function Td(){return new td(Ql.J)}var xd={asc:"ASCENDING",desc:"DESCENDING"},jd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ad=function(t,e){this.T=t,this.qt=e};function kd(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nd(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Pd(t,e){return kd(t,e.G())}function Dd(t){return Ol(!!t),$l.W(function(t){var e=ih(t);return new Gl(e.seconds,e.nanos)}(t))}function Rd(t,e){return function(t){return new Jl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Ld(t){var e=Jl.ct(t);return Ol(op(e)),e}function Md(t,e){return Rd(t.T,e.path)}function Vd(t,e){var n=Ld(e);if(n.get(1)!==t.T.projectId)throw new kl(Al.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new kl(Al.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Ql(Hd(n))}function Fd(t,e){return Rd(t.T,e)}function Ud(t){var e=Ld(t);return 4===e.length?Jl.at():Hd(e)}function qd(t){return new Jl(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Hd(t){return Ol(t.length>4&&"documents"===t.get(4)),t.X(5)}function zd(t,e,n){return{name:Md(t,e),fields:n.proto.mapValue.fields}}function Bd(t,e,n){var r=Vd(t,e.name),i=Dd(e.updateTime),o=new Ch({mapValue:{fields:e.fields}});return new xh(r,i,o,{hasCommittedMutations:!!n})}function Kd(t,e){var n;if(e instanceof qf)n={update:zd(t,e.key,e.value)};else if(e instanceof Jf)n={delete:Md(t,e.key)};else if(e instanceof Hf)n={update:zd(t,e.key,e.data),updateMask:ip(e.zt)};else{if(!(e instanceof Zf))return _l();n={verify:Md(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ef)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cf)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Sf)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof xf)return{fieldPath:e.field.ot(),increment:n.Qt};throw _l()}(0,t)}))),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Pd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:_l()}(t,e.Gt)),n}function Gd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Pf.updateTime(Dd(t.updateTime)):void 0!==t.exists?Pf.exists(t.exists):Pf.Wt()}(e.currentDocument):Pf.Wt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ol("REQUEST_TIME"===e.setToServerValue),n=new Ef):"appendMissingElements"in e?n=new Cf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Sf(e.removeAllFromArray.values||[]):"increment"in e?n=new xf(t,e.increment):_l();var r=Yl._t(e.fieldPath);return new kf(r,n)}(t,e)})):[];if(e.update){var i=Vd(t,e.update.name),o=new Ch({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new nh((t.fieldPaths||[]).map((function(t){return Yl._t(t)})))}(e.updateMask);return new Hf(i,o,s,n,r)}return new qf(i,o,n,r)}if(e.delete){var a=Vd(t,e.delete);return new Jf(a,n)}if(e.verify){var u=Vd(t,e.verify);return new Zf(u,n)}return _l()}function $d(t,e){return{documents:[Fd(t,e.path)]}}function Wd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Fd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fd(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Oh(t.value))return{unaryFilter:{field:tp(t.field),op:"IS_NAN"}};if(_h(t.value))return{unaryFilter:{field:tp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Oh(t.value))return{unaryFilter:{field:tp(t.field),op:"IS_NOT_NAN"}};if(_h(t.value))return{unaryFilter:{field:tp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tp(t.field),op:Xd(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:tp(t.field),direction:Qd(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||ch(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Zd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Zd(e.endAt)),n}function Jd(t){var e=Ud(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ol(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[rp(e)]:void 0!==e.fieldFilter?[np(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):_l():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new $h(ep(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ch(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Yd(n.startAt));var l=null;return n.endAt&&(l=Yd(n.endAt)),Qh(e,i,a,s,u,"F",c,l)}function Zd(t){return{before:t.before,values:t.position}}function Yd(t){return new Kh(t.values||[],!!t.before)}function Qd(t){return xd[t]}function Xd(t){return jd[t]}function tp(t){return{fieldPath:t.ot()}}function ep(t){return Yl._t(t.fieldPath)}function np(t){return Lh.create(ep(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return _l()}}(t.fieldFilter.op),t.fieldFilter.value)}function rp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ep(t.unaryFilter.field);return Lh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ep(t.unaryFilter.field);return Lh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ep(t.unaryFilter.field);return Lh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ep(t.unaryFilter.field);return Lh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return _l()}}function ip(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function op(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var sp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},ap=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&_l(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),up=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new sp,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new hp(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=mp(e.target.error);n.qn.reject(new hp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new hp(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(bl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new dp(e)},t}(),cp=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(ps.g)())&&yl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return bl("SimpleDb","Removing database:",t),pp(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(ps.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(pl.b)(this,void 0,void 0,(function(){var e,n=this;return Object(pl.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(bl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new hp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new kl(Al.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new hp(t,n))},i.onupgradeneeded=function(t){bl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){bl("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(pl.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(pl.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(pl.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=up.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),ap.reject(t)})).Mn(),u={},s.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return bl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),lp=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return pp(this.ts.delete())},t}(),hp=function(t){function e(e,n){var r=this;return(r=t.call(this,Al.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(pl.c)(e,t),e}(kl);function fp(t){return"IndexedDbTransactionError"===t.name}var dp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(bl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(bl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),pp(n)},t.prototype.add=function(t){return bl("SimpleDb","ADD",this.store.name,t,t),pp(this.store.add(t))},t.prototype.get=function(t){var e=this;return pp(this.store.get(t)).next((function(n){return void 0===n&&(n=null),bl("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return bl("SimpleDb","DELETE",this.store.name,t),pp(this.store.delete(t))},t.prototype.count=function(){return bl("SimpleDb","COUNT",this.store.name),pp(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){bl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new ap((function(n,r){e.onerror=function(t){var e=mp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new ap((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new lp(i),s=e(i.primaryKey,i.value,o);if(s instanceof ap){var a=s.catch((function(t){return o.done(),ap.reject(t)}));n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return ap.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function pp(t){return new ap((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=mp(t.target.error);n(e)}}))}var gp=!1;function mp(t){var e=cp.Kn(Object(ps.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new kl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return gp||(gp=!0,setTimeout((function(){throw r}),0)),r}}return t}var bp=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new sp,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new kl(Al.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function yp(t,e){if(yl("AsyncQueue",e+": "+t),fp(t))return new kl(Al.UNAVAILABLE,e+": "+t);throw t}var vp=function(t,e){this.progress=t,this.gs=e},wp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_p=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach((function(t){return t()}))},t}();function Op(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Cp(e)),e=Ep(t.get(n),e);return Cp(e)}function Ep(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Cp(t){return t+"\x01\x01"}function Ip(t){var e=t.length;if(Ol(e>=2),2===e)return Ol("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Jl.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&_l(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:_l()}o=s+2}return new Jl(r)}var Sp=function(t,e){this.seconds=t,this.nanoseconds=e},Tp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Tp.store="owner",Tp.key="owner";var xp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};xp.store="mutationQueues",xp.keyPath="userId";var jp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};jp.store="mutations",jp.keyPath="batchId",jp.userMutationsIndex="userMutationsIndex",jp.userMutationsKeyPath=["userId","batchId"];var Ap=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Op(e)]},t.key=function(t,e,n){return[t,Op(e),n]},t}();Ap.store="documentMutations",Ap.PLACEHOLDER=new Ap;var kp=function(t,e){this.path=t,this.readTime=e},Np=function(t,e){this.path=t,this.version=e},Pp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Pp.store="remoteDocuments",Pp.readTimeIndex="readTimeIndex",Pp.readTimeIndexPath="readTime",Pp.collectionReadTimeIndex="collectionReadTimeIndex",Pp.collectionReadTimeIndexPath=["parentPath","readTime"];var Dp=function(t){this.byteSize=t};Dp.store="remoteDocumentGlobal",Dp.key="remoteDocumentGlobalKey";var Rp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Rp.store="targets",Rp.keyPath="targetId",Rp.queryTargetsIndexName="queryTargetsIndex",Rp.queryTargetsKeyPath=["canonicalId","targetId"];var Lp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Lp.store="targetDocuments",Lp.keyPath=["targetId","path"],Lp.documentTargetsIndex="documentTargetsIndex",Lp.documentTargetsKeyPath=["path","targetId"];var Mp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Mp.key="targetGlobalKey",Mp.store="targetGlobal";var Vp=function(t,e){this.collectionId=t,this.parent=e};Vp.store="collectionParents",Vp.keyPath=["collectionId","parent"];var Fp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Fp.store="clientMetadata",Fp.keyPath="clientId";var Up=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Up.store="bundles",Up.keyPath="bundleId";var qp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};qp.store="namedQueries",qp.keyPath="name";var Hp=Object(pl.g)(Object(pl.g)(Object(pl.g)(Object(pl.g)([xp.store,jp.store,Ap.store,Pp.store,Rp.store,Tp.store,Mp.store,Lp.store],[Fp.store]),[Dp.store]),[Vp.store]),[Up.store,qp.store]),zp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Object(pl.c)(e,t),e}(_p);function Bp(t,e){var n=El(t);return cp.Hn(n.vs,e)}var Kp=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Lf(o,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Mf(i,e,e,this.Ds))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Mf(u,e,o,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),dd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Tl(this.mutations,t.mutations,(function(t,e){return Ff(t,e)}))&&Tl(this.baseMutations,t.baseMutations,(function(t,e){return Ff(t,e)}))},t}(),Gp=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){Ol(e.mutations.length===r.length);for(var i=hd(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),$p=function(t){this.Ms=t};function Wp(t,e){if(e.document)return Bd(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ql.Tt(e.noDocument.path),r=Xp(e.noDocument.readTime);return new jh(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Ql.Tt(e.unknownDocument.path);return r=Xp(e.unknownDocument.version),new Ah(i,r)}return _l()}function Jp(t,e,n){var r=Zp(n),i=e.key.path.Z().rt();if(e instanceof xh){var o=function(t,e){return{name:Md(t,e.key),fields:e.vt().mapValue.fields,updateTime:kd(t,e.version.G())}}(t.Ms,e),s=e.hasCommittedMutations;return new Pp(null,null,o,s,r,i)}if(e instanceof jh){var a=e.key.path.rt(),u=Qp(e.version);return s=e.hasCommittedMutations,new Pp(null,new kp(a,u),null,s,r,i)}if(e instanceof Ah){var c=e.key.path.rt(),l=Qp(e.version);return new Pp(new Np(c,l),null,null,!0,r,i)}return _l()}function Zp(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Yp(t){var e=new Gl(t[0],t[1]);return $l.W(e)}function Qp(t){var e=t.G();return new Sp(e.seconds,e.nanoseconds)}function Xp(t){var e=new Gl(t.seconds,t.nanoseconds);return $l.W(e)}function tg(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Gd(t.Ms,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return Gd(t.Ms,e)})),s=Gl.fromMillis(e.localWriteTimeMs);return new Kp(e.batchId,s,n,o)}function eg(t){var e,n,r=Xp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Xp(t.lastLimboFreeSnapshotVersion):$l.min();return void 0!==t.query.documents?(Ol(1===(n=t.query).documents.length),e=af(Xh(Ud(n.documents[0])))):e=function(t){return af(Jd(t))}(t.query),new gf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,jl.fromBase64String(t.resumeToken))}function ng(t,e){var n,r=Qp(e.Mt),i=Qp(e.lastLimboFreeSnapshotVersion);n=Rh(e.target)?$d(t.Ms,e.target):Wd(t.Ms,e.target);var o=e.resumeToken.toBase64();return new Rp(e.targetId,Ph(e.target),r,o,e.sequenceNumber,i,n)}function rg(t){var e=Jd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?uf(e,e.limit,"L"):e}var ig=function(){function t(){}return t.prototype.Ls=function(t,e){return og(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Xp(e.createTime),version:e.version};var e}))},t.prototype.$s=function(t,e){return og(t).put({bundleId:(n=e).id,createTime:Qp(Dd(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return sg(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:rg(e.bundledQuery),readTime:Xp(e.readTime)};var e}))},t.prototype.qs=function(t,e){return sg(t).put(function(t){return{name:t.name,readTime:Qp(Dd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function og(t){return Bp(t,Up.store)}function sg(t){return Bp(t,qp.store)}var ag=function(){function t(){this.Us=new ug}return t.prototype.Qs=function(t,e){return this.Us.add(e),ap.resolve()},t.prototype.Ks=function(t,e){return ap.resolve(this.Us.getEntries(e))},t}(),ug=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new rd(Jl.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rd(Jl.J)).rt()},t}(),cg=function(){function t(){this.Ws=new ug}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps((function(){n.Ws.add(e)}));var o={collectionId:r,parent:Op(i)};return lg(t).put(o)}return ap.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[xl(e),""],!1,!0);return lg(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ip(o.parent))}return n}))},t}();function lg(t){return Bp(t,Vp.store)}var hg={js:!1,Gs:0,zs:0,Hs:0},fg=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function dg(t){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){if(t.code!==Al.FAILED_PRECONDITION||t.message!==wp)throw t;return bl("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}fg.ti=10,fg.ei=1e3,fg.ni=new fg(41943040,fg.ti,fg.ei),fg.si=new fg(-1,0,0);var pg=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ri(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){th(this.oi,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.nt=function(){return eh(this.oi)},t}(),gg=function(){function t(){this.ci=new pg((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:$l.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?ap.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function mg(t,e,n){var r=t.store(jp.store),i=t.store(Ap.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Ol(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Ap.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return ap.$n(o).next((function(){return c}))}function bg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _l();e=t.noDocument}return JSON.stringify(e).length}var yg=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return Ol(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wg(t).ls({index:jp.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.yi=function(t,e,n,r){var i=this,o=_g(t),s=wg(t);return s.add({}).next((function(a){Ol("number"==typeof a);for(var u=new Kp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Kd(t.Ms,e)})),i=n.mutations.map((function(e){return Kd(t.Ms,e)}));return new jp(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new rd((function(t,e){return Sl(t.ot(),e.ot())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Ap.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,Ap.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ii.Qs(t,e))})),t.ps((function(){i.Ai[a]=u.keys()})),ap.$n(l).next((function(){return u}))}))},t.prototype.gi=function(t,e){var n=this;return wg(t).get(e).next((function(t){return t?(Ol(t.userId===n.userId),tg(n.Kt,t)):null}))},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?ap.resolve(this.Ai[e]):this.gi(t,e).next((function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null}))},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return wg(t).ls({index:jp.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ol(e.batchId>=r),o=tg(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wg(t).ls({index:jp.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wg(t).os(jp.userMutationsIndex,n).next((function(t){return t.map((function(t){return tg(e.Kt,t)}))}))},t.prototype.Si=function(t,e){var n=this,r=Ap.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return _g(t).ls({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Ip(r[1]);if(a===n.userId&&e.path.isEqual(c))return wg(t).get(u).next((function(t){if(!t)throw _l();Ol(t.userId===n.userId),o.push(tg(n.Kt,t))}));s.done()})).next((function(){return o}))},t.prototype.Di=function(t,e){var n=this,r=new rd(Sl),i=[];return e.forEach((function(e){var o=Ap.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=_g(t).ls({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Ip(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),ap.$n(i).next((function(){return n.Ci(t,r)}))},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ap.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new rd(Sl);return _g(t).ls({range:s},(function(t,e,o){var s=t[0],u=t[2],c=Ip(t[1]);s===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Ci(t,a)}))},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(wg(t).get(e).next((function(t){if(null===t)throw _l();Ol(t.userId===n.userId),r.push(tg(n.Kt,t))})))})),ap.$n(i).next((function(){return r}))},t.prototype.Ni=function(t,e){var n=this;return mg(t.vs,this.userId,e).next((function(r){return t.ps((function(){n.Fi(e.batchId)})),ap.forEach(r,(function(e){return n.mi.Oi(t,e)}))}))},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next((function(n){if(!n)return ap.resolve();var r=IDBKeyRange.lowerBound(Ap.prefixForUser(e.userId)),i=[];return _g(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Ip(t[1]);i.push(o)}else r.done()})).next((function(){Ol(0===i.length)}))}))},t.prototype.Mi=function(t,e){return vg(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return Og(t).get(this.userId).next((function(t){return t||new xp(e.userId,-1,"")}))},t}();function vg(t,e,n){var r=Ap.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return _g(t).ls({range:o,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function wg(t){return Bp(t,jp.store)}function _g(t){return Bp(t,Ap.store)}function Og(t){return Bp(t,xp.store)}var Eg=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),Cg=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next((function(n){var r=new Eg(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Wi=function(t){return this.Qi(t).next((function(t){return $l.W(new Gl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)}))},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next((function(){return n.Qi(t).next((function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)}))}))},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next((function(){return Ig(t).delete(e.targetId)})).next((function(){return n.Qi(t)})).next((function(e){return Ol(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)}))},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return Ig(t).ls((function(s,a){var u=eg(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Xi(t,u)))})).next((function(){return ap.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return Ig(t).ls((function(t,n){var r=eg(n);e(r)}))},t.prototype.Qi=function(t){return Sg(t).get(Mp.key).next((function(t){return Ol(null!==t),t}))},t.prototype.Ki=function(t,e){return Sg(t).put(Mp.key,e)},t.prototype.Hi=function(t,e){return Ig(t).put(ng(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next((function(t){return t.targetCount}))},t.prototype.nr=function(t,e){var n=Ph(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ig(t).ls({range:r,index:Rp.queryTargetsIndexName},(function(t,n,r){var o=eg(n);Dh(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.sr=function(t,e,n){var r=this,i=[],o=Tg(t);return e.forEach((function(e){var s=Op(e.path);i.push(o.put(new Lp(n,s))),i.push(r.mi.ir(t,n,e))})),ap.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=Tg(t);return ap.forEach(e,(function(e){var o=Op(e.path);return ap.$n([i.delete([n,o]),r.mi.cr(t,n,e)])}))},t.prototype.Zi=function(t,e){var n=Tg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Tg(t),i=dd();return r.ls({range:n,hs:!0},(function(t,e,n){var r=Ip(t[1]),o=new Ql(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mi=function(t,e){var n=Op(e.path),r=IDBKeyRange.bound([n],[xl(n)],!1,!0),i=0;return Tg(t).ls({index:Lp.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return Ig(t).get(e).next((function(t){return t?eg(t):null}))},t}();function Ig(t){return Bp(t,Rp.store)}function Sg(t){return Bp(t,Mp.store)}function Tg(t){return Bp(t,Lp.store)}function xg(t,e){var n=t[1],r=e[1],i=Sl(t[0],e[0]);return 0===i?Sl(n,r):i}var jg=function(){function t(t){this.ur=t,this.buffer=new rd(xg),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();xg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ag=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;bl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,(function(){return Object(pl.b)(e,void 0,void 0,(function(){var e;return Object(pl.d)(this,(function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return fp(e=n.sent())?(bl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,dg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),kg=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.gr=function(t,e){var n=this;if(0===e)return ap.resolve(Kl.U);var r=new jg(e);return this.Rr.mn(t,(function(t){return r._r(t.sequenceNumber)})).next((function(){return n.Rr.Vr(t,(function(t){return r._r(t)}))})).next((function(){return r.maxValue}))},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(bl("LruGarbageCollector","Garbage collection skipped; disabled"),ap.resolve(hg)):this.vr(t).next((function(r){return r<n.params.Js?(bl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),hg):n.Sr(t,e)}))},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Pr(t,this.params.Ys).next((function(e){return e>c.params.Xs?(bl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,o=Date.now(),c.gr(t,r)})).next((function(r){return n=r,s=Date.now(),c.tr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.pr(t,n)})).next((function(t){return u=Date.now(),ml()<=ds.a.DEBUG&&bl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),ap.resolve({js:!0,Gs:r,zs:i,Hs:t})}))},t}(),Ng=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new kg(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Dr=function(t){var e=0;return this.Vr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,(function(t,n){return e(n)}))},t.prototype.ir=function(t,e,n){return Pg(t,n)},t.prototype.cr=function(t,e,n){return Pg(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return Pg(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return Og(t)._s((function(r){return vg(t,r,e).next((function(t){return t&&(n=!0),ap.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,(function(s,a){if(a<=e){var u=n.Fr(t,s).next((function(e){if(!e)return o++,r.di(t,s).next((function(){return r.fi(s),Tg(t).delete([0,Op(s.path)])}))}));i.push(u)}})).next((function(){return ap.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return Pg(t,e)},t.prototype.Nr=function(t,e){var n,r=Tg(t),i=Kl.U;return r.ls({index:Lp.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Kl.U&&e(new Ql(Ip(n)),i),i=s,n=o):i=Kl.U})).next((function(){i!==Kl.U&&e(new Ql(Ip(n)),i)}))},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function Pg(t,e){return Tg(t).put(function(t,e){return new Lp(0,Op(t.path),e)}(e,t.Ss))}var Dg=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return Mg(t).put(Vg(e),n)},t.prototype.fi=function(t,e){var n=Mg(t),r=Vg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.$r(t,r)}))},t.prototype.di=function(t,e){var n=this;return Mg(t).get(Vg(e)).next((function(t){return n.Br(t)}))},t.prototype.qr=function(t,e){var n=this;return Mg(t).get(Vg(e)).next((function(t){var e=n.Br(t);return e?{_i:e,size:bg(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ad();return this.Ur(t,e,(function(t,e){var i=n.Br(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this,r=ad(),i=new td(Ql.J);return this.Ur(t,e,(function(t,e){var o=n.Br(e);o?(r=r.Ht(t,o),i=i.Ht(t,bg(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Kr:r,Wr:i}}))},t.prototype.Ur=function(t,e,n){if(e.nt())return ap.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Mg(t).ls({range:r},(function(t,e,r){for(var s=Ql.Tt(t);o&&Ql.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=cd(),o=e.path.length+1,s={};if(n.isEqual($l.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=Zp(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Pp.collectionReadTimeIndex}return Mg(t).ls(s,(function(t,n,s){if(t.length===o){var a=Wp(r.Kt,n);e.path.st(a.key.path)?a instanceof xh&&ff(e,a)&&(i=i.Ht(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new Rg(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Lg(t).get(Dp.key).next((function(t){return Ol(!!t),t}))},t.prototype.$r=function(t,e){return Lg(t).put(Dp.key,e)},t.prototype.Br=function(t){if(t){var e=Wp(this.Kt,t);return e instanceof jh&&e.version.isEqual($l.min())?null:e}return null},t}(),Rg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new pg((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(pl.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new rd((function(t,e){return Sl(t.ot(),e.ot())}));return this.ci.forEach((function(o,s){var a=e.Hr.get(o);if(s._i){var u=Jp(e.zr.Kt,s._i,e.ui(o));i=i.add(o.path.Z());var c=bg(u);r+=c-a,n.push(e.zr.hi(t,o,u))}else if(r-=a,e.Gr){var l=Jp(e.zr.Kt,new jh(o,$l.min()),e.ui(o));n.push(e.zr.hi(t,o,l))}else n.push(e.zr.fi(t,o))})),i.forEach((function(r){n.push(e.zr.Ii.Qs(t,r))})),n.push(this.zr.updateMetadata(t,r)),ap.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next((function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)}))},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next((function(t){var e=t.Kr;return t.Wr.forEach((function(t,e){n.Hr.set(t,e)})),e}))},e}(gg);function Lg(t){return Bp(t,Dp.store)}function Mg(t){return Bp(t,Pp.store)}function Vg(t){return t.path.rt()}var Fg=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Ol(n<r&&n>=0&&r<=11);var o=new up("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Tp.store)}(t),function(t){t.createObjectStore(xp.store,{keyPath:xp.keyPath}),t.createObjectStore(jp.store,{keyPath:jp.keyPath,autoIncrement:!0}).createIndex(jp.userMutationsIndex,jp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ap.store)}(t),Ug(t),function(t){t.createObjectStore(Pp.store)}(t));var s=ap.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Lp.store),t.deleteObjectStore(Rp.store),t.deleteObjectStore(Mp.store)}(t),Ug(t)),s=s.next((function(){return function(t){var e=t.store(Mp.store),n=new Mp(0,0,$l.min().G(),0);return e.put(Mp.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(jp.store).os().next((function(n){t.deleteObjectStore(jp.store),t.createObjectStore(jp.store,{keyPath:jp.keyPath,autoIncrement:!0}).createIndex(jp.userMutationsIndex,jp.userMutationsKeyPath,{unique:!0});var r=e.store(jp.store),i=n.map((function(t){return r.put(t)}));return ap.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Fp.store,{keyPath:Fp.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Jr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Dp.store)}(t),i.Yr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Xr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Zr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Pp.store);e.createIndex(Pp.readTimeIndex,Pp.readTimeIndexPath,{unique:!1}),e.createIndex(Pp.collectionReadTimeIndex,Pp.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.eo(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Up.store,{keyPath:Up.keyPath})}(t),function(t){t.createObjectStore(qp.store,{keyPath:qp.keyPath})}(t)}))),s},t.prototype.Yr=function(t){var e=0;return t.store(Pp.store).ls((function(t,n){e+=bg(n)})).next((function(){var n=new Dp(e);return t.store(Dp.store).put(Dp.key,n)}))},t.prototype.Jr=function(t){var e=this,n=t.store(xp.store),r=t.store(jp.store);return n.os().next((function(n){return ap.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(jp.userMutationsIndex,i).next((function(r){return ap.forEach(r,(function(r){Ol(r.userId===n.userId);var i=tg(e.Kt,r);return mg(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Xr=function(t){var e=t.store(Lp.store),n=t.store(Pp.store);return t.store(Mp.store).get(Mp.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new Jl(n),s=function(t){return[0,Op(t)]}(o);r.push(e.get(s).next((function(n){return n?ap.resolve():function(n){return e.put(new Lp(0,Op(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return ap.$n(r)}))}))},t.prototype.Zr=function(t,e){t.createObjectStore(Vp.store,{keyPath:Vp.keyPath});var n=e.store(Vp.store),r=new ug,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Op(i)})}};return e.store(Pp.store).ls({hs:!0},(function(t,e){var n=new Jl(t);return i(n.Z())})).next((function(){return e.store(Ap.store).ls({hs:!0},(function(t,e){var n=Ip(t[1]);return i(n.Z())}))}))},t.prototype.eo=function(t){var e=this,n=t.store(Rp.store);return n.ls((function(t,r){var i=eg(r),o=ng(e.Kt,i);return n.put(o)}))},t}();function Ug(t){t.createObjectStore(Lp.store,{keyPath:Lp.keyPath}).createIndex(Lp.documentTargetsIndex,Lp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Rp.store,{keyPath:Rp.keyPath}).createIndex(Rp.queryTargetsIndexName,Rp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Mp.store)}var qg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Hg=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=o,this.window=s,this.document=a,this.so=c,this.io=l,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new kl(Al.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new Ng(this,i),this._o=n+"main",this.Kt=new $p(u),this.fo=new cp(this._o,11,new Fg(this.Kt)),this.wo=new Cg(this.mi,this.Kt),this.Ii=new cg,this.Eo=function(t,e){return new Dg(t,e)}(this.Kt,this.Ii),this.To=new ig,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===l&&yl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new kl(Al.FAILED_PRECONDITION,qg);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.wo.ji(e)}))})).then((function(e){t.ro=new Kl(e,t.so)})).then((function(){t.oo=!0})).catch((function(e){return t.fo&&t.fo.close(),Promise.reject(e)}))},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Object(pl.b)(e,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){return this.Ir?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn((function(n){return Object(pl.b)(e,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys((function(){return Object(pl.b)(e,void 0,void 0,(function(){return Object(pl.d)(this,(function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Bg(e).put(new Fp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.bo(e).next((function(e){e||(t.isPrimary=!1,t.no.vo((function(){return t.lo(!1)})))}))})).next((function(){return t.So(e)})).next((function(n){return t.isPrimary&&!n?t.Do(e).next((function(){return!1})):!!n&&t.Co(e).next((function(){return!0}))}))})).catch((function(e){if(fp(e))return bl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return bl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.no.vo((function(){return t.lo(e)})),t.isPrimary=e}))},t.prototype.bo=function(t){var e=this;return zg(t).get(Tp.key).next((function(t){return ap.resolve(e.xo(t))}))},t.prototype.No=function(t){return Bg(t).delete(this.clientId)},t.prototype.Fo=function(){return Object(pl.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(pl.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Bp(t,Fp.store);return e.os().next((function(t){var n=r.ko(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return ap.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Io)for(e=0,n=t;e<n.length;e++)this.Io.removeItem(this.Mo(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,(function(){return t.mo().then((function(){return t.Fo()})).then((function(){return t.Po()}))}))},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?ap.resolve(!0):zg(t).get(Tp.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new kl(Al.FAILED_PRECONDITION,qg);return!1}}return!(!e.networkEnabled||!e.inForeground)||Bg(t).os().next((function(t){return void 0===e.ko(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&bl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.$o=function(){return Object(pl.b)(this,void 0,void 0,(function(){var t=this;return Object(pl.d)(this,(function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[Tp.store,Fp.store],(function(e){var n=new zp(e,Kl.U);return t.Do(n).next((function(){return t.No(n)}))}))];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}}))}))},t.prototype.ko=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)}))},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Bg(e).os().next((function(e){return t.ko(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return yg.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r,i=this;return bl("IndexedDbPersistence","Starting transaction:",t),this.fo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Hp,(function(o){return r=new zp(o,i.ro?i.ro.next():Kl.U),"readwrite-primary"===e?i.bo(r).next((function(t){return!!t||i.So(r)})).next((function(e){if(!e)throw yl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.no.vo((function(){return i.lo(!1)})),new kl(Al.FAILED_PRECONDITION,wp);return n(r)})).next((function(t){return i.Co(r).next((function(){return t}))})):i.zo(r).next((function(){return n(r)}))})).then((function(t){return r.bs(),t}))},t.prototype.zo=function(t){var e=this;return zg(t).get(Tp.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new kl(Al.FAILED_PRECONDITION,qg)}))},t.prototype.Co=function(t){var e=new Tp(this.clientId,this.allowTabSynchronization,Date.now());return zg(t).put(Tp.key,e)},t.Wn=function(){return cp.Wn()},t.prototype.Do=function(t){var e=this,n=zg(t);return n.get(Tp.key).next((function(t){return e.xo(t)?(bl("IndexedDbPersistence","Releasing primary lease."),n.delete(Tp.key)):ap.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(yl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()}))},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys((function(){return e.$o()}))},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return bl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return yl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){yl("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function zg(t){return Bp(t,Tp.store)}function Bg(t){return Bp(t,Fp.store)}function Kg(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Gg=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=ad();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next((function(r){var i=n.Xo(t,e,r),o=sd();return i.forEach((function(t,e){e||(e=new jh(t,$l.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return Ql.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):of(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Ql(e)).next((function(t){var e=cd();return t instanceof xh&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=cd();return this.Ii.Ks(t,i).next((function(s){return ap.forEach(s,(function(s){var a=function(t,e){return new Yh(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next((function(n){return r=n,o.Ho.xi(t,e)})).next((function(e){return o.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=Mf(u,l,l,o.Ds);r=h instanceof xh?r.Ht(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){ff(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=dd(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Hf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof xh&&(c=c.Ht(t,e))})),c}))},t}(),$g=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=dd(),i=dd(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Wg=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual($l.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var s=i.lc(e,o);return(tf(e)||ef(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(ml()<=ds.a.DEBUG&&bl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),hf(e)),i.uc.jr(t,e,n).next((function(t){return s.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new rd(df(t));return e.forEach((function(e,r){r instanceof xh&&ff(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return ml()<=ds.a.DEBUG&&bl("QueryEngine","Using full collection scan to execute query:",hf(e)),this.uc.jr(t,e,$l.min())},t}(),Jg=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new td(Sl),this.wc=new pg((function(t){return Ph(t)}),Dh),this.Ec=$l.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new Gg(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.br(n,e.dc)}))},t}();function Zg(t,e,n,r){return new Jg(t,e,n,r)}function Yg(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(pl.d)(this,(function(s){switch(s.label){case 0:return n=El(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.vi(t).next((function(s){return o=s,r=n.persistence.Wo(e),i=new Gg(n.Tc,r,n.persistence.jo()),r.vi(t)})).next((function(e){for(var n=[],r=[],s=dd(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.Zo(t,s).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function Qg(t,e){var n=El(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=ap.resolve();return o.forEach((function(t){s=s.next((function(){return r.di(e,t)})).next((function(e){var o=e,s=n.ks.get(t);Ol(null!==s),(!o||o.version.u(s)<0)&&(o=i.Cs(t,o,n))&&r.hi(o,n.Os)}))})),s.next((function(){return t.Ho.Ni(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function Xg(t){var e=El(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.wo.Wi(t)}))}function tm(t,e){var n=El(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var s=[];e.Oe.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.wo.rr(t,e.Ke,o).next((function(){return n.wo.sr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.Ss);i=i.Ht(o,c),function(t,e,n){return Ol(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.wo.Yi(t,c))}}}));var a=sd();if(e.Me.forEach((function(r,i){e.Le.has(r)&&s.push(n.persistence.mi.Mr(t,r))})),s.push(em(t,o,e.Me,r,void 0).next((function(t){a=t}))),!r.isEqual($l.min())){var u=n.wo.Wi(t).next((function(e){return n.wo.Gi(t,t.Ss,r)}));s.push(u)}return ap.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=i,t}))}function em(t,e,n,r,i){var o=dd();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=sd();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof jh&&s.version.isEqual($l.min())?(e.fi(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.hi(s,u),o=o.Ht(n,s)):bl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function nm(t,e){var n=El(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)}))}function rm(t,e){var n=El(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.wo.nr(t,e).next((function(i){return i?ap.resolve(r=i):n.wo.Ui(t).next((function(i){return r=new gf(e,i,0,t.Ss),n.wo.zi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function im(t,e,n){return Object(pl.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(pl.d)(this,(function(a){switch(a.label){case 0:r=El(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.mi.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!fp(s=a.sent()))throw s;return bl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function om(t,e,n){var r=El(t),i=$l.min(),o=dd();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=El(t),i=r.wc.get(n);return void 0!==i?ap.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,af(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:$l.min(),n?o:dd())})).next((function(t){return{documents:t,Pc:o}}))}))}function sm(t,e){var n=El(t),r=El(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function am(t){var e=El(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=El(t),i=sd(),o=Zp(n),s=Mg(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Pp.readTimeIndex,range:a},(function(t,e){var n=Wp(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{gs:i,readTime:Yp(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.gs;return e.Ec=t.readTime,n}))}function um(t){return Object(pl.b)(this,void 0,void 0,(function(){var e;return Object(pl.d)(this,(function(n){return[2,(e=El(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Mg(t),n=$l.min();return e.ls({index:Pp.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Yp(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function cm(t,e,n,r){return Object(pl.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,d;return Object(pl.d)(this,(function(p){switch(p.label){case 0:for(i=El(t),o=dd(),s=sd(),a=hd(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Gr:!0}),[4,rm(i,function(t){return af(Xh(Jl.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return em(t,f,s,$l.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i.wo.Zi(t,d.targetId).next((function(){return i.wo.sr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function lm(t,e,n){return void 0===n&&(n=dd()),Object(pl.b)(this,void 0,void 0,(function(){var r,i;return Object(pl.d)(this,(function(o){switch(o.label){case 0:return[4,rm(t,af(rg(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=El(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Dd(e.readTime);if(r.Mt.u(o)>=0)return i.To.qs(t,e);var s=r.$t(jl.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.wo.Yi(t,s).next((function(){return i.wo.Zi(t,r.targetId)})).next((function(){return i.wo.sr(t,n,r.targetId)})).next((function(){return i.To.qs(t,e)}))}))]}}))}))}var hm=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return ap.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Dd(n.createTime)}),ap.resolve()},t.prototype.Bs=function(t,e){return ap.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:rg(t.bundledQuery),readTime:Dd(t.readTime)}}(e)),ap.resolve()},t}(),fm=function(){function t(){this.Sc=new rd(dm.Dc),this.Cc=new rd(dm.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new dm(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.cr=function(t,e){this.Fc(new dm(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach((function(t){return n.cr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Ql(new Jl([])),r=new dm(n,t),i=new dm(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Fc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Fc(e)}))},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Ql(new Jl([])),n=new dm(e,t),r=new dm(e,t+1),i=dd();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mi=function(t){var e=new dm(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),dm=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Ql.J(t.key,e.key)||Sl(t.$c,e.$c)},t.xc=function(t,e){return Sl(t.$c,e.$c)||Ql.J(t.key,e.key)},t}(),pm=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new rd(dm.Dc)}return t.prototype.Pi=function(t){return ap.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new Kp(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new dm(u.key,i)),this.Ii.Qs(t,u.key.path.Z())}return ap.resolve(o)},t.prototype.gi=function(t,e){return ap.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return ap.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.bi=function(){return ap.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return ap.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new dm(e,0),i=new dm(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),ap.resolve(o)},t.prototype.Di=function(t,e){var n=this,r=new rd(Sl);return e.forEach((function(t){var e=new dm(t,0),i=new dm(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),ap.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;Ql.Et(i)||(i=i.child(""));var o=new dm(new Ql(i),0),s=new rd(Sl);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)}),o),ap.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.Ni=function(t,e){var n=this;Ol(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return ap.forEach(e.mutations,(function(i){var o=new dm(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new dm(e,0),r=this.qc.Pe(n);return ap.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return ap.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),gm=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new td(Ql.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:s,readTime:n}),this.size+=s-o,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return ap.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=ad();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)})),ap.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=cd(),i=new Ql(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,u=a._i,c=a.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||u instanceof xh&&ff(e,u)&&(r=r.Ht(u.key,u))}return ap.resolve(r)},t.prototype.Gc=function(t,e){return ap.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new mm(this)},t.prototype.Lr=function(t){return ap.resolve(this.size)},t}(),mm=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Object(pl.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach((function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)})),ap.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(gg),bm=function(){function t(t){this.persistence=t,this.zc=new pg((function(t){return Ph(t)}),Dh),this.lastRemoteSnapshotVersion=$l.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new fm,this.targetCount=0,this.Yc=Eg.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),ap.resolve()},t.prototype.Wi=function(t){return ap.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return ap.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),ap.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),ap.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Eg(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,ap.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),ap.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,ap.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Zi(t,a.targetId)),i++)})),ap.$n(o).next((function(){return i}))},t.prototype.er=function(t){return ap.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return ap.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),ap.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),ap.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),ap.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return ap.resolve(n)},t.prototype.Mi=function(t,e){return ap.resolve(this.Jc.Mi(e))},t}(),ym=function(){function t(t,e){var n=this;this.Xc={},this.ro=new Kl(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new bm(this),this.Ii=new ag,this.Eo=function(t,e){return new gm(t,(function(t){return n.mi.Zc(t)}))}(this.Ii),this.Kt=new $p(e),this.To=new hm(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new pm(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;bl("MemoryPersistence","Starting transaction:",t);var i=new vm(this.ro.next());return this.mi.ta(),n(i).next((function(t){return r.mi.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.bs(),t}))},t.prototype.na=function(t,e){return ap.Bn(Object.values(this.Xc).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),vm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Object(pl.c)(e,t),e}(_p),wm=function(){function t(t){this.persistence=t,this.sa=new fm,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw _l()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),ap.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),ap.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),ap.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Cr();return r.ar(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Xi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return ap.forEach(this.oa,(function(r){var i=Ql.ft(r);return e.ca(t,i).next((function(t){t||n.fi(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return ap.Bn([function(){return ap.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function _m(t,e){return"firestore_clients_"+t+"_"+e}function Om(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Em(t,e){return"firestore_targets_"+t+"_"+e}var Cm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new kl(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(yl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Im=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new kl(r.error.code,r.error.message)),i?new t(e,r.state,o):(yl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Sm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=gd(),s=0;i&&s<r.activeTargetIds.length;++s)i=hh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(yl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Tm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(yl("SharedClientState","Failed to parse online state: "+e),null)},t}(),xm=function(){function t(){this.activeTargetIds=gd()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),jm=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new td(Sl),this.Ir=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=_m(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new xm),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(pl.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(pl.d)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Ko()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(_m(this.persistenceKey,r)))&&(o=Sm.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.$o()})),this.Ir=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Em(this.persistenceKey,t));if(n){var r=Im.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Em(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Oa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return bl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){bl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){bl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(bl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void yl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo((function(){return Object(pl.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(pl.d)(this,(function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=Kl.U;if(null!=t)try{var n=JSON.parse(t);Ol("number"==typeof n),e=n}catch(t){yl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Kl.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Cm(this.currentUser,t,e,n),i=Om(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=Om(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Em(this.persistenceKey,t),i=new Im(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Sm.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Cm.aa(new Fl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Im.aa(r,e)},t.prototype.ba=function(t){return Tm.aa(t)},t.prototype.Xa=function(t){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(bl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fa.iu(s,a).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=gd();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),Am=function(){function t(){this.ru=new xm,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new xm,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),km=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),Nm=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){bl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){bl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Pm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Dm=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Rm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(pl.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var s=new dl;s.listenOnce(ll.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case cl.NO_ERROR:var e=s.getResponseJson();bl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case cl.TIMEOUT:bl("Connection",'RPC "'+t+'" timed out'),o(new kl(Al.DEADLINE_EXCEEDED,"Request time out"));break;case cl.HTTP_ERROR:var n=s.getStatus();if(bl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Al).indexOf(e)>=0?e:Al.UNKNOWN}(r.status);o(new kl(a,r.message))}else o(new kl(Al.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new kl(Al.UNAVAILABLE,"Connection failed."));break;default:_l()}}finally{bl("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new il,i=au(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(ps.l)()||Object(ps.n)()||Object(ps.j)()||Object(ps.k)()||Object(ps.o)()||Object(ps.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");bl("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Dm({du:function(t){c?bl("Connection","Not sending because WebChannel is closed:",t):(u||(bl("Connection","Opening WebChannel transport."),a.open(),u=!0),bl("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,fl.EventType.OPEN,(function(){c||bl("Connection","WebChannel transport opened.")})),h(a,fl.EventType.CLOSE,(function(){c||(c=!0,bl("Connection","WebChannel transport closed"),l.Pu())})),h(a,fl.EventType.ERROR,(function(t){c||(c=!0,vl("Connection","WebChannel transport errored:",t),l.Pu(new kl(Al.UNAVAILABLE,"The operation could not be completed")))})),h(a,fl.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Ol(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){bl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=$f[t];if(void 0!==e)return Xf(e)}(i),s=r.message;void 0===o&&(o=Al.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new kl(o,s)),a.close()}else bl("Connection","WebChannel received:",n),l.yu(n)}})),h(i,hl.STAT_EVENT,(function(t){10===t.stat?bl("Connection","Detected buffering proxy"):11===t.stat&&bl("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);bl("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return bl("RestConnection","Received: ",t),t}),(function(e){throw vl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Pm[t]},t}());function Lm(){return"undefined"!=typeof window?window:null}function Mm(){return"undefined"!=typeof document?document:null}function Vm(t){return new Ad(t,!0)}var Fm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&bl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Um=function(){function t(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new Fm(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Al.RESOURCE_EXHAUSTED?(yl(e.toString()),yl("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Al.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then((function(e){t.ju===n&&t.rh(e)}),(function(n){e((function(){var e=new kl(Al.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(pl.b)(t,void 0,void 0,(function(){return Object(pl.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return bl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys((function(){return e.ju===t?n():(bl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),qm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(pl.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:_l()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(Ol(void 0===e||"string"==typeof e),jl.fromBase64String(e||"")):(Ol(void 0===e||e instanceof Uint8Array),jl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Al.UNKNOWN:Xf(t.code);return new kl(e,t.message||"")}(a);n=new Ed(r,i,o,s||null)}else if("documentChange"in e){i=Vd(t,(r=e.documentChange).document.name),o=Dd(r.document.updateTime);var a=new Ch({mapValue:{fields:r.document.fields}}),u=(s=new xh(i,o,a,{}),r.targetIds||[]);n=new _d(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Vd(t,(r=e.documentDelete).document),o=r.readTime?Dd(r.readTime):$l.min(),a=new jh(i,o),n=new _d([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Vd(t,(r=e.documentRemove).document),n=new _d([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return _l();var c=e.filter;i=new Yf(r=c.count||0),n=new Od(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return $l.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?$l.min():e.readTime?Dd(e.readTime):$l.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=qd(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Rh(r)?{documents:$d(t,r)}:{query:Wd(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Nd(t,e.resumeToken):e.Mt.u($l.min())>0&&(n.readTime=kd(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _l()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=qd(this.Kt),e.removeTarget=t,this.eh(e)},e}(Um),Hm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Ol(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Ol(void 0!==e),t.map((function(t){return function(t,e){var n=Dd(t.updateTime?t.updateTime:e);n.isEqual($l.min())&&(n=Dd(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Nf(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Dd(t.commitTime);return this.listener.wh(n,e)}return Ol(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=qd(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Kd(e.Kt,t)}))};this.eh(n)},e}(Um),zm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(pl.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new kl(Al.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Al.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Al.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),Bm=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(yl(e),this.Ph=!1):bl("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Km=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(pl.b)(o,void 0,void 0,(function(){return Object(pl.d)(this,(function(t){switch(t.label){case 0:return tb(this)?(bl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(pl.b)(this,void 0,void 0,(function(){var e;return Object(pl.d)(this,(function(n){switch(n.label){case 0:return(e=El(t)).Fh.add(4),[4,$m(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Gm(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new Bm(n,r)};function Gm(t){return Object(pl.b)(this,void 0,void 0,(function(){var e,n;return Object(pl.d)(this,(function(r){switch(r.label){case 0:if(!tb(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function $m(t){return Object(pl.b)(this,void 0,void 0,(function(){var e,n;return Object(pl.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Wm(t,e){var n=El(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Xm(n)?Qm(n):gb(n).Ju()&&Zm(n,e))}function Jm(t,e){var n=El(t),r=gb(n);n.Nh.delete(e),r.Ju()&&Ym(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():tb(n)&&n.Mh.set("Unknown"))}function Zm(t,e){t.Lh.cn(e.targetId),gb(t).hh(e)}function Ym(t,e){t.Lh.cn(e),gb(t).lh(e)}function Qm(t){t.Lh=new Id({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),gb(t).start(),t.Mh.yh()}function Xm(t){return tb(t)&&!gb(t).Hu()&&t.Nh.size>0}function tb(t){return 0===El(t).Fh.size}function eb(t){t.Lh=void 0}function nb(t){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){return t.Nh.forEach((function(e,n){Zm(t,e)})),[2]}))}))}function rb(t,e){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(n){return eb(t),Xm(t)?(t.Mh.ph(e),Qm(t)):t.Mh.set("Unknown"),[2]}))}))}function ib(t,e,n){return Object(pl.b)(this,void 0,void 0,(function(){var r,i,o;return Object(pl.d)(this,(function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof Ed&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(pl.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),bl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ob(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof _d?t.Lh.wn(e):e instanceof Od?t.Lh.yn(e):t.Lh.In(e),n.isEqual($l.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Xg(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(jl.h,n.Mt)),Ym(t,e);var r=new gf(n.target,e,1,n.sequenceNumber);Zm(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return bl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ob(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function ob(t,e,n){return Object(pl.b)(this,void 0,void 0,(function(){var r=this;return Object(pl.d)(this,(function(i){switch(i.label){case 0:if(!fp(e))throw e;return t.Fh.add(1),[4,$m(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Xg(t.Sh)}),t.fs.vo((function(){return Object(pl.b)(r,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){switch(e.label){case 0:return bl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,Gm(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function sb(t,e){return e().catch((function(n){return ob(t,n,e)}))}function ab(t){return Object(pl.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(pl.d)(this,(function(s){switch(s.label){case 0:e=El(t),n=mb(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return tb(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,nm(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=mb(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,ob(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return ub(e)&&cb(e),[2]}}))}))}function ub(t){return tb(t)&&!mb(t).Hu()&&t.xh.length>0}function cb(t){mb(t).start()}function lb(t){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){return mb(t).Th(),[2]}))}))}function hb(t){return Object(pl.b)(this,void 0,void 0,(function(){var e,n,r;return Object(pl.d)(this,(function(i){for(e=mb(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function fb(t,e,n){return Object(pl.b)(this,void 0,void 0,(function(){var r,i;return Object(pl.d)(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Gp.from(r,e,n),[4,sb(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,ab(t)];case 2:return o.sent(),[2]}}))}))}function db(t,e){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(n){switch(n.label){case 0:return e&&mb(t).fh?[4,function(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r;return Object(pl.d)(this,(function(i){switch(i.label){case 0:return Qf(r=e.code)&&r!==Al.ABORTED?(n=t.xh.shift(),mb(t).Xu(),[4,sb(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,ab(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ub(t)&&cb(t),[2]}}))}))}function pb(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n;return Object(pl.d)(this,(function(r){switch(r.label){case 0:return n=El(t),e?(n.Fh.delete(2),[4,Gm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,$m(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function gb(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=El(t);return r.mh(),new qm(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:nb.bind(null,t),Iu:rb.bind(null,t),uh:ib.bind(null,t)}),t.Oh.push((function(n){return Object(pl.b)(e,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Xm(t)?Qm(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),eb(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function mb(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=El(t);return r.mh(),new Hm(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:lb.bind(null,t),Iu:db.bind(null,t),Eh:hb.bind(null,t),wh:fb.bind(null,t)}),t.Oh.push((function(n){return Object(pl.b)(e,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,ab(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(bl("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var bb=function(){this.Wh=void 0,this.listeners=[]},yb=function(){this.queries=new pg((function(t){return lf(t)}),cf),this.onlineState="Unknown",this.jh=new Set};function vb(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(pl.d)(this,(function(c){switch(c.label){case 0:if(n=El(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new bb),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=yp(a,"Initialization of query '"+hf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&Eb(n),[2]}}))}))}function wb(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(pl.d)(this,(function(a){return n=El(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function _b(t,e){for(var n=El(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.Wh=s}}r&&Eb(n)}function Ob(t,e,n){var r=El(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Eb(t){t.jh.forEach((function(t){t.next()}))}var Cb=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new yd(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=yd.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Ib=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Sb=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Vd(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Bd(this.Kt,t.document,!1):new jh(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Dd(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Sb(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||dd()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(pl.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(pl.d)(this,(function(o){switch(o.label){case 0:return[4,cm(this.Sh,new Sb(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,lm(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new vp(Object.assign({},this.progress),t))]}}))}))}}();var Tb=function(t){this.key=t},xb=function(t){this.key=t},jb=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=dd(),this.Ce=dd(),this.ll=df(t),this._l=new md(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new bd,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=tf(this.query)&&i.size===this.query.limit?i.last():null,c=ef(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=e instanceof xh?e:null;h&&(h=ff(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),tf(this.query)||ef(this.query))for(;s.size>this.query.limit;){var l=tf(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _l()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new yd(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new bd,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=dd(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new xb(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new Tb(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=dd();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return yd.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Ab=function(t,e,n){this.query=t,this.targetId=e,this.view=n},kb=function(t){this.key=t,this.yl=!1},Nb=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new pg((function(t){return lf(t)}),cf),this.Dl=new Map,this.Cl=[],this.xl=new td(Ql.J),this.Nl=new Map,this.Fl=new fm,this.Ol={},this.kl=new Map,this.Ml=Eg.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Pb(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(pl.d)(this,(function(a){switch(a.label){case 0:return n=uy(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,rm(n.Sh,af(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,Db(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&Wm(n.gl,o),a.label=4;case 4:return[2,r]}}))}))}function Db(t,e,n,r){return Object(pl.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(pl.d)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(pl.b)(this,void 0,void 0,(function(){var i,o,s;return Object(pl.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,om(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ti(i,t.$l,o),[2,($b(t,e.targetId,s.ml),s.snapshot)]}}))}))}(t,e,n,r)},[4,om(t.Sh,e,!0)];case 1:return i=l.sent(),o=new jb(e,i.Pc),s=o.dl(i.documents),a=wd.Be(n,r&&"Offline"!==t.onlineState),u=o.Ti(s,t.$l,a),$b(t,n,u.ml),c=new Ab(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function Rb(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(pl.d)(this,(function(o){switch(o.label){case 0:return n=El(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!cf(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,im(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),Jm(n.gl,r.targetId),Kb(n,r.targetId)})).catch(dg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Kb(n,r.targetId),[4,im(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Lb(t,e,n){return Object(pl.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(pl.d)(this,(function(a){switch(a.label){case 0:r=cy(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=El(t),i=Gl.now(),o=e.reduce((function(t,e){return t.add(e.key)}),dd());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Vf(c,n.get(c.key));null!=l&&s.push(new Hf(c.key,l,Sh(l.proto.mapValue),Pf.exists(!0)))}return r.Ho.yi(t,i,s,e)}))})).then((function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new td(Sl)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Zb(r,i.ci)];case 3:return a.sent(),[4,ab(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=yp(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Mb(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r;return Object(pl.d)(this,(function(i){switch(i.label){case 0:n=El(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,tm(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach((function(t,e){var r=n.Nl.get(e);r&&(Ol(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Ol(r.yl):t.Ke.size>0&&(Ol(r.yl),r.yl=!1))})),[4,Zb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,dg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Vb(t,e,n){var r=El(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=El(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&Eb(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Fb(t,e,n){return Object(pl.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(pl.d)(this,(function(c){switch(c.label){case 0:return(r=El(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new td(Ql.J)).Ht(o,new jh(o,$l.min())),a=dd().add(o),u=new vd($l.min(),new Map,new rd(Sl),s,a),[4,Mb(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Jb(r),[3,4];case 2:return[4,im(r.Sh,e,!1).then((function(){return Kb(r,e,n)})).catch(dg)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Ub(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(pl.d)(this,(function(o){switch(o.label){case 0:n=El(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Qg(n.Sh,e)];case 2:return i=o.sent(),Bb(n,r,null),zb(n,r),n.pl.Fa(r,"acknowledged"),[4,Zb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,dg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function qb(t,e,n){return Object(pl.b)(this,void 0,void 0,(function(){var r,i;return Object(pl.d)(this,(function(o){switch(o.label){case 0:r=El(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=El(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.gi(t,e).next((function(e){return Ol(null!==e),r=e.keys(),n.Ho.Ni(t,e)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),Bb(r,e,n),zb(r,e),r.pl.Fa(e,"rejected",n),[4,Zb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,dg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Hb(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(pl.d)(this,(function(a){switch(a.label){case 0:tb((n=El(t)).gl)||bl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=El(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.bi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=yp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function zb(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function Bb(t,e,n){var r=El(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function Kb(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach((function(e){t.Fl.Mi(e)||Gb(t,e)}))}function Gb(t,e){var n=t.xl.get(e);null!==n&&(Jm(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Jb(t))}function $b(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Tb?(t.Fl.ir(o.key,e),Wb(t,o)):o instanceof xb?(bl("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||Gb(t,o.key)):_l()}}function Wb(t,e){var n=e.key;t.xl.get(n)||(bl("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Jb(t))}function Jb(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new kb(e)),t.xl=t.xl.Ht(e,n),Wm(t.gl,new gf(af(Xh(e.path)),n,2,Kl.U))}}function Zb(t,e,n){return Object(pl.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(pl.d)(this,(function(a){switch(a.label){case 0:return r=El(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){s.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=$g.cc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(pl.d)(this,(function(l){switch(l.label){case 0:n=El(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return ap.forEach(e,(function(e){return ap.forEach(e.rc,(function(r){return n.persistence.mi.ir(t,e.targetId,r)})).next((function(){return ap.forEach(e.oc,(function(r){return n.persistence.mi.cr(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!fp(r=l.sent()))throw r;return bl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}}))}))}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Yb(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r;return Object(pl.d)(this,(function(i){switch(i.label){case 0:return(n=El(t)).currentUser.isEqual(e)?[3,3]:(bl("SyncEngine","User change. New user:",e.R()),[4,Yg(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new kl(Al.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Zb(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Qb(t,e){var n=El(t),r=n.Nl.get(e);if(r&&r.yl)return dd().add(r.key);var i=dd(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Sl.get(a[s]);i=i.ye(u.view.fl)}return i}function Xb(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(pl.d)(this,(function(o){switch(o.label){case 0:return[4,om((n=El(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&$b(n,e.targetId,i.ml),i)]}}))}))}function ty(t){return Object(pl.b)(this,void 0,void 0,(function(){var e;return Object(pl.d)(this,(function(n){return[2,am((e=El(t)).Sh).then((function(t){return Zb(e,t)}))]}))}))}function ey(t,e,n,r){return Object(pl.b)(this,void 0,void 0,(function(){var i,o;return Object(pl.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=El(t),r=El(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Vi(t,e).next((function(e){return e?n.Ic.Zo(t,e):ap.resolve(null)}))}))}((i=El(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,ab(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Bb(i,e,r||null),zb(i,e),function(t,e){El(El(t).Ho).Fi(e)}(i.Sh,e)):_l(),s.label=4;case 4:return[4,Zb(i,o)];case 5:return s.sent(),[3,7];case 6:bl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function ny(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(pl.d)(this,(function(c){switch(c.label){case 0:return uy(n=El(t)),cy(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,ry(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,pb(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Wm(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?a.push(e):u=u.then((function(){return Kb(n,e),im(n.Sh,e,!0)})),Jm(n.gl,e)})),[4,u]);case 4:return c.sent(),[4,ry(n,a)];case 5:return c.sent(),function(t){var e=El(t);e.Nl.forEach((function(t,n){Jm(e.gl,n)})),e.Fl.Mc(),e.Nl=new Map,e.xl=new td(Ql.J)}(n),n.Ll=!1,[4,pb(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function ry(t,e,n){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(pl.d)(this,(function(g){switch(g.label){case 0:n=El(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Dl.get(a=s[o]))&&0!==c.length?[4,rm(n.Sh,af(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,Xb(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,sm(n.Sh,a)];case 8:return p=g.sent(),[4,rm(n.Sh,p)];case 9:return u=g.sent(),[4,Db(n,iy(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function iy(t){return Qh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function oy(t){var e=El(t);return El(El(e.Sh).persistence).Ko()}function sy(t,e,n,r){return Object(pl.b)(this,void 0,void 0,(function(){var i,o,s;return Object(pl.d)(this,(function(a){switch(a.label){case 0:return(i=El(t)).Ll?(bl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,am(i.Sh)];case 3:return o=a.sent(),s=vd.$e(e,"current"===n),[4,Zb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,im(i.Sh,e,!0)];case 6:return a.sent(),Kb(i,e,r),[3,8];case 7:_l(),a.label=8;case 8:return[2]}}))}))}function ay(t,e,n){return Object(pl.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Object(pl.d)(this,(function(f){switch(f.label){case 0:if(!(r=uy(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(bl("SyncEngine","Adding an already active target "+s),[3,5]):[4,sm(r.Sh,s)]:[3,6];case 2:return a=f.sent(),[4,rm(r.Sh,a)];case 3:return u=f.sent(),[4,Db(r,iy(a),u.targetId,!1)];case 4:f.sent(),Wm(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(pl.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,im(r.Sh,t,!1).then((function(){Jm(r.gl,t),Kb(r,t)})).catch(dg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function uy(t){var e=El(t);return e.gl.Ch.Bh=Mb.bind(null,e),e.gl.Ch.Sn=Qb.bind(null,e),e.gl.Ch.$h=Fb.bind(null,e),e.vl.uh=_b.bind(null,e.Vl),e.vl.ql=Ob.bind(null,e.Vl),e}function cy(t){var e=El(t);return e.gl.Ch.qh=Ub.bind(null,e),e.gl.Ch.Uh=qb.bind(null,e),e}var ly=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){switch(e.label){case 0:return this.Kt=Vm(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Zg(this.persistence,new Wg,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new ym(wm.ra,this.Kt)},t.prototype.jl=function(t){return new Am},t.prototype.terminate=function(){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}}))}))},t}(),hy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(pl.c)(e,t),e.prototype.initialize=function(e){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,um(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,cy(this.Xl.fa)];case 4:return n.sent(),[4,ab(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Zg(this.persistence,new Wg,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Ag(this.persistence.mi.dr,t.fs)},e.prototype.Gl=function(t){var e=Kg(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?fg.Zs(this.cacheSizeBytes):fg.ni;return new Hg(this.synchronizeTabs,e,t.clientId,n,t.fs,Lm(),Mm(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Am},e}(ly),fy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(pl.c)(e,t),e.prototype.initialize=function(e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r=this;return Object(pl.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof jm?(this.pl.fa={nu:ey.bind(null,n),su:sy.bind(null,n),iu:ay.bind(null,n),Ko:oy.bind(null,n),eu:ty.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo((function(t){return Object(pl.b)(r,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){switch(e.label){case 0:return[4,ny(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Lm();if(!jm.Wn(e))throw new kl(Al.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Kg(t.gu.T,t.gu.persistenceKey);return new jm(e,t.fs,n,t.clientId,t.Yl)},e}(hy),dy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n=this;return Object(pl.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Vb(n.fa,t,1)},this.gl.Ch.s_=Yb.bind(null,this.fa),[4,pb(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new yb},t.prototype.Zl=function(t){var e=Vm(t.gu.T),n=new Rm(t.gu);return function(t,e,n){return new zm(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Vb(s.fa,t,0)},o=Nm.Wn()?new Nm:new km,new Km(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Nb(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(pl.b)(this,void 0,void 0,(function(){var e;return Object(pl.d)(this,(function(n){switch(n.label){case 0:return e=El(t),bl("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,$m(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),py=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),gy=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new sp,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(pl.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(pl.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Ib(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(pl.b)(this,void 0,void 0,(function(){var t,e;return Object(pl.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(pl.b)(this,void 0,void 0,(function(){var e;return Object(pl.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(pl.b)(this,void 0,void 0,(function(){var t,e;return Object(pl.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new kl(Al.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Yl(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),my=function(t){this._methodName=t};function by(t,e,n){if(!n)throw new kl(Al.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function yy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new kl(Al.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function vy(t,e,n,r){if(!0===e&&!0===r)throw new kl(Al.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function wy(t){if(!Ql.Et(t))throw new kl(Al.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function _y(t){if(Ql.Et(t))throw new kl(Al.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Oy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":_l()}function Ey(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new kl(Al.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Oy(t);throw new kl(Al.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Cy(t,e){if(e<=0)throw new kl(Al.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Iy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new kl(Al.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new kl(Al.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,vy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Sy=new Map,Ty=function(){function t(t,e){this.w_="(lite)",this.E_=new Iy({}),this.T_=!1,t instanceof Vl?(this.I_=t,this.m_=new ql):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new kl(Al.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(t.options.projectId)}(t),this.m_=new Hl(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new kl(Al.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new kl(Al.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Iy(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new ql;switch(t.type){case"gapi":var e=t.client;return Ol(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Bl(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new kl(Al.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Sy.get(this))&&(bl("ComponentProvider","Removing Datastore"),Sy.delete(this),t.terminate()),Promise.resolve();var t},t}(),xy=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ay(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),jy=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Ay=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Xh(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new xy(this.firestore,null,new Ql(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(jy);function ky(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Pl&&(t=t._),by("collection","path",e),t instanceof Ty)return _y(n=Jl.ct.apply(Jl,Object(pl.g)([e],r))),new Ay(t,null,n);if(!(t instanceof xy||t instanceof Ay))throw new kl(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _y(n=Jl.ct.apply(Jl,Object(pl.g)([t.path],r)).child(Jl.ct(e))),new Ay(t.firestore,null,n)}function Ny(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Pl&&(t=t._),1===arguments.length&&(e=Il.t()),by("doc","path",e),t instanceof Ty)return wy(n=Jl.ct.apply(Jl,Object(pl.g)([e],r))),new xy(t,null,new Ql(n));if(!(t instanceof xy||t instanceof Ay))throw new kl(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wy(n=t.D_.child(Jl.ct.apply(Jl,Object(pl.g)([e],r)))),new xy(t.firestore,t instanceof Ay?t.v_:null,new Ql(n))}function Py(t,e){return t instanceof Pl&&(t=t._),e instanceof Pl&&(e=e._),(t instanceof xy||t instanceof Ay)&&(e instanceof xy||e instanceof Ay)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Dy(t,e){return t instanceof Pl&&(t=t._),e instanceof Pl&&(e=e._),t instanceof jy&&e instanceof jy&&t.firestore===e.firestore&&cf(t.C_,e.C_)&&t.v_===e.v_}var Ry=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new kl(Al.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new kl(Al.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Sl(this.x_,t.x_)||Sl(this.N_,t.N_)},t}(),Ly=/^__.*__$/,My=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Hf(t,this.data,this.zt,e,this.fieldTransforms):new qf(t,this.data,e,this.fieldTransforms)},t}(),Vy=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Hf(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Fy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _l()}}var Uy=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return sv(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Fy(this.k_)&&Ly.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),qy=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Vm(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Uy({k_:t,methodName:e,j_:n,path:Yl.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Hy(t){var e=t.p_(),n=Vm(t.I_);return new qy(t.I_,!!e.ignoreUndefinedProperties,n)}function zy(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);nv("Data must be an object, but it was:",s,r);var a,u,c=tv(r,s);if(o.merge)a=new nh(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=rv(e,f[h],n);if(!s.contains(d))throw new kl(Al.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");av(l,d)||l.push(d)}a=new nh(l),u=s.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,u=s.fieldTransforms;return new My(new Ch(c),a,u)}var By=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(my);function Ky(t,e,n){return new Uy({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Gy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.z_=function(t){return new kf(t.path,new Ef)},e.prototype.isEqual=function(t){return t instanceof e},e}(my),$y=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(pl.c)(e,t),e.prototype.z_=function(t){var e=Ky(this,t,!0),n=this.H_.map((function(t){return Xy(t,e)})),r=new Cf(n);return new kf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(my),Wy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(pl.c)(e,t),e.prototype.z_=function(t){var e=Ky(this,t,!0),n=this.H_.map((function(t){return Xy(t,e)})),r=new Sf(n);return new kf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(my),Jy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(pl.c)(e,t),e.prototype.z_=function(t){var e=new xf(t.Kt,yf(t.Kt,this.J_));return new kf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(my);function Zy(t,e,n,r){var i=t.G_(1,e,n);nv("Data must be an object, but it was:",i,r);var o=[],s=new Ih;th(r,(function(t,r){var a=ov(e,t,n);r instanceof Pl&&(r=r._);var u=i.U_(a);if(r instanceof By)o.push(a);else{var c=Xy(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new nh(o);return new Vy(s.yt(),a,i.fieldTransforms)}function Yy(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[rv(e,r,n)],u=[i];if(o.length%2!=0)throw new kl(Al.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(rv(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Ih,f=a.length-1;f>=0;--f)if(!av(l,a[f])){var d=a[f],p=u[f];p instanceof Pl&&(p=p._);var g=s.U_(d);if(p instanceof By)l.push(d);else{var m=Xy(p,g);null!=m&&(l.push(d),h.set(d,m))}}var b=new nh(l);return new Vy(h.yt(),b,s.fieldTransforms)}function Qy(t,e,n,r){return void 0===r&&(r=!1),Xy(n,t.G_(r?4:3,e))}function Xy(t,e){if(t instanceof Pl&&(t=t._),ev(t))return nv("Unsupported field value:",e,t),tv(t,e);if(t instanceof my)return function(t,e){if(!Fy(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Xy(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Pl&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yf(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Gl.fromDate(t);return{timestampValue:kd(e.Kt,n)}}if(t instanceof Gl)return n=new Gl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:kd(e.Kt,n)};if(t instanceof Ry)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nl)return{bytesValue:Nd(e.Kt,t.l)};if(t instanceof xy){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Rd(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Oy(t))}(t,e)}function tv(t,e){var n={};return eh(t)?e.path&&e.path.length>0&&e.zt.push(e.path):th(t,(function(t,r){var i=Xy(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function ev(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Gl||t instanceof Ry||t instanceof Nl||t instanceof xy||t instanceof my)}function nv(t,e,n){if(!ev(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Oy(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function rv(t,e,n){if(e instanceof Pl&&(e=e._),e instanceof gy)return e.d_;if("string"==typeof e)return ov(t,e);throw sv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var iv=new RegExp("[~\\*/\\[\\]]");function ov(t,e,n){if(e.search(iv)>=0)throw sv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(gy.bind.apply(gy,Object(pl.g)([void 0],e.split("."))))).d_}catch(r){throw sv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function sv(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new kl(Al.INVALID_ARGUMENT,(a+=". ")+t+u)}function av(t,e){return t.some((function(t){return t.isEqual(e)}))}var uv=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(pl.b)(this,void 0,void 0,(function(){var e,n=this;return Object(pl.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new kl(Al.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(pl.d)(this,(function(u){switch(u.label){case 0:return n=El(t),r=qd(n.Kt)+"/documents",i={documents:e.map((function(t){return Md(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Ol(!!e.found);var n=Vd(t,e.found.name),r=Dd(e.found.updateTime),i=new Ch({mapValue:{fields:e.found.fields}});return new xh(n,r,i,{})}(t,e):"missing"in e?function(t,e){Ol(!!e.missing),Ol(!!e.readTime);var n=Vd(t,e.missing),r=Dd(e.readTime);return new jh(n,r)}(t,e):_l()}(n.Kt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Ol(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof jh||t instanceof xh?n.sf(t):_l()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Jf(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(pl.b)(this,void 0,void 0,(function(){var t,e=this;return Object(pl.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Ql.ft(n);e.mutations.push(new Zf(r,e.Gt(r)))})),[4,function(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(pl.d)(this,(function(o){switch(o.label){case 0:return n=El(t),r=qd(n.Kt)+"/documents",i={writes:e.map((function(t){return Kd(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof xh)e=t.version;else{if(!(t instanceof jh))throw _l();e=$l.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new kl(Al.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Pf.updateTime(e):Pf.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual($l.min()))throw new kl(Al.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pf.updateTime(e)}return Pf.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),cv=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Fm(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(pl.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(pl.d)(this,(function(r){return t=new uv(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!ch(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Qf(e)}return!1},t}(),lv=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Fl.UNAUTHENTICATED,this.clientId=Il.t(),this._f=function(){},this.N=new sp,this.credentials.S((function(t){bl("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new kl(Al.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new sp;return this.fs.Tf((function(){return Object(pl.b)(t,void 0,void 0,(function(){var t,n;return Object(pl.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=yp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function hv(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(pl.d)(this,(function(o){switch(o.label){case 0:return t.fs.Af(),bl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.vo((function(){return Object(pl.b)(i,void 0,void 0,(function(){return Object(pl.d)(this,(function(t){switch(t.label){case 0:return[4,Yg(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Vo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function fv(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r;return Object(pl.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,dv(t)];case 1:return n=i.sent(),bl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.vo((function(){return function(t,e){return Object(pl.b)(this,void 0,void 0,(function(){var n,r;return Object(pl.d)(this,(function(i){switch(i.label){case 0:return(n=El(t)).fs.Af(),bl("RemoteStore","RemoteStore received new credentials"),r=tb(n),n.Fh.add(3),[4,$m(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,Gm(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function dv(t){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(bl("FirestoreClient","Using default OfflineComponentProvider"),[4,hv(t,new ly)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function pv(t){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(bl("FirestoreClient","Using default OnlineComponentProvider"),[4,fv(t,new dy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function gv(t){return dv(t).then((function(t){return t.persistence}))}function mv(t){return dv(t).then((function(t){return t.Sh}))}function bv(t){return pv(t).then((function(t){return t.gl}))}function yv(t){return pv(t).then((function(t){return t.fa}))}function vv(t){return Object(pl.b)(this,void 0,void 0,(function(){var e,n;return Object(pl.d)(this,(function(r){switch(r.label){case 0:return[4,pv(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Pb.bind(null,e.fa),n.Jh=Rb.bind(null,e.fa),n)]}}))}))}function wv(t,e,n){var r=this;void 0===n&&(n={});var i=new sp;return t.fs.ys((function(){return Object(pl.b)(r,void 0,void 0,(function(){var r;return Object(pl.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new py({next:function(o){e.ys((function(){return wb(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new kl(Al.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new kl(Al.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Cb(Xh(n.path),o,{includeMetadataChanges:!0,sl:!0});return vb(t,s)},[4,vv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function _v(t,e,n){var r=this;void 0===n&&(n={});var i=new sp;return t.fs.ys((function(){return Object(pl.b)(r,void 0,void 0,(function(){var r;return Object(pl.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new py({next:function(n){e.ys((function(){return wb(t,s)})),n.fromCache&&"server"===r.source?i.reject(new kl(Al.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Cb(n,o,{includeMetadataChanges:!0,sl:!0});return vb(t,s)},[4,vv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var Ov=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Fm(this,"async_queue_retry"),this.vf=function(){var e=Mm();e&&bl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Mm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Mm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(pl.b)(this,void 0,void 0,(function(){var t,e=this;return Object(pl.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!fp(t=n.sent()))throw t;return bl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,yl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=bp.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&_l()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(pl.b)(this,void 0,void 0,(function(){var t;return Object(pl.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Ev=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Ov,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(pl.c)(e,t),e.prototype.b_=function(){return this.Lf||Iv(this),this.Lf.terminate()},e}(Ty);function Cv(t){return t.Lf||Iv(t),t.Lf.df(),t.Lf}function Iv(t){var e=t.p_(),n=function(t,e,n){return new Ml(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new lv(t.m_,t.Mf,n)}function Sv(t,e,n){var r=this,i=new sp;return t.fs.enqueue((function(){return Object(pl.b)(r,void 0,void 0,(function(){var r;return Object(pl.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,hv(t,n)];case 1:return o.sent(),[4,fv(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Al.FAILED_PRECONDITION||t.code===Al.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Tv(t){if(t.R_||t.P_)throw new kl(Al.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var xv=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),fh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return oh(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(sh(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw _l()}},t.prototype.jf=function(t,e){var n=this,r={};return th(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new Ry(oh(t.latitude),oh(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return ah(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(uh(t));default:return null}},t.prototype.Bf=function(t){var e=ih(t);return new Gl(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Jl.ct(t);Ol(op(n));var r=new Vl(n.get(1),n.get(3)),i=new Ql(n.X(5));return r.isEqual(e)||yl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),jv=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xy(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Av(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(kv("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Av=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(jv);function kv(t,e){return"string"==typeof e?ov(t,e):e instanceof Pl?e._.d_:e.d_}function Nv(t){if(ef(t)&&0===t.Nt.length)throw new kl(Al.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pv=function(){};function Dv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Rv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(pl.c)(e,t),e.prototype.Yf=function(t){var e=Hy(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new kl(Al.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Hv(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(qv(r,t,l[c]));a={arrayValue:{values:u}}}else a=qv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Hv(s,o),a=Qy(n,"where",s,"in"===o||"not-in"===o);var h=Lh.create(i,o,a);return function(t,e){if(e.xt()){var n=rf(t);if(null!==n&&!n.isEqual(e.field))throw new kl(Al.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=nf(t);null!==r&&zv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new kl(Al.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new jy(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Yh(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Pv),Lv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(pl.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new kl(Al.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new kl(Al.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new $h(e,n);return function(t,e){if(null===nf(t)){var n=rf(t);null!==n&&zv(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new jy(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Yh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Pv),Mv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(pl.c)(e,t),e.prototype.Yf=function(t){return new jy(t.firestore,t.v_,uf(t.C_,this.nd,this.sd))},e}(Pv),Vv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(pl.c)(e,t),e.prototype.Yf=function(t){var e=Uv(t,this.type,this.rd,this.od);return new jy(t.firestore,t.v_,function(t,e){return new Yh(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Pv),Fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(pl.c)(e,t),e.prototype.Yf=function(t){var e=Uv(t,this.type,this.rd,this.od);return new jy(t.firestore,t.v_,function(t,e){return new Yh(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Pv);function Uv(t,e,n,r){if(n[0]instanceof Pl&&(n[0]=n[0]._),n[0]instanceof jv)return function(t,e,n,r,i){if(!r)throw new kl(Al.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=sf(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(yh(e,r.key));else{var c=r.field(u.field);if(ah(c))throw new kl(Al.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new kl(Al.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Kh(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Hy(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new kl(Al.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new kl(Al.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!of(t)&&-1!==c.indexOf("/"))throw new kl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Jl.ct(c));if(!Ql.Et(l))throw new kl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ql(l);a.push(yh(e,h))}else{var f=Qy(n,r,c);a.push(f)}}return new Kh(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function qv(t,e,n){if(n instanceof Pl&&(n=n._),"string"==typeof n){if(""===n)throw new kl(Al.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!of(e)&&-1!==n.indexOf("/"))throw new kl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Jl.ct(n));if(!Ql.Et(r))throw new kl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return yh(t,new Ql(r))}if(n instanceof xy)return yh(t,n.S_);throw new kl(Al.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Oy(n)+".")}function Hv(t,e){if(!Array.isArray(t)||0===t.length)throw new kl(Al.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new kl(Al.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function zv(t,e,n){if(!n.isEqual(e))throw new kl(Al.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Bv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function Kv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Gv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(pl.c)(e,t),e.prototype.Uf=function(t){return new Nl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new xy(this.firestore,null,e)},e}(xv),$v=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Wv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(pl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Jv(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(kv("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(jv),Jv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Wv),Zv=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new $v(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new Jv(n.zf,n.Hf,r.key,r,new $v(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new kl(Al.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new Jv(t.zf,t.Hf,e.doc.key,e.doc,new $v(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Jv(t.zf,t.Hf,e.doc.key,e.doc,new $v(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Yv(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function Yv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _l()}}function Qv(t,e){return t instanceof Wv&&e instanceof Wv?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Zv&&e instanceof Zv&&t.zf===e.zf&&Dy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Xv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(pl.c)(e,t),e.prototype.Uf=function(t){return new Nl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new xy(this.firestore,null,e)},e}(xv);function tw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ey(t,xy);var o=Ey(t.firestore,Ev),s=Hy(o);return e instanceof Pl&&(e=e._),nw(o,[("string"==typeof e||e instanceof gy?Yy(s,"updateDoc",t.S_,e,n,r):Zy(s,"updateDoc",t.S_,e)).F_(t.S_,Pf.exists(!0))])}function ew(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Pl&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Bv(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Bv(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof xy)c=Ey(t.firestore,Ev),l=Xh(t.S_.path),u={next:function(e){i[a]&&i[a](rw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Ey(t,jy);c=Ey(d.firestore,Ev),l=d.C_;var p=new Xv(c);u={next:function(t){i[a]&&i[a](new Zv(c,p,d,t))},error:i[a+1],complete:i[a+2]},Nv(t.C_)}return function(t,e,n,r){var i=this,o=new py(r),s=new Cb(e,o,n);return t.fs.ys((function(){return Object(pl.b)(i,void 0,void 0,(function(){var e;return Object(pl.d)(this,(function(n){switch(n.label){case 0:return e=vb,[4,vv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Object(pl.b)(i,void 0,void 0,(function(){var e;return Object(pl.d)(this,(function(n){switch(n.label){case 0:return e=wb,[4,vv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Cv(c),l,h,u)}function nw(t,e){return function(t,e){var n=this,r=new sp;return t.fs.ys((function(){return Object(pl.b)(n,void 0,void 0,(function(){var n;return Object(pl.d)(this,(function(i){switch(i.label){case 0:return n=Lb,[4,yv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Cv(t),e)}function rw(t,e,n){var r=n.docs.get(e.S_),i=new Xv(t);return new Wv(t,i,e.S_,r,new $v(n.hasPendingWrites,n.fromCache),e.v_)}var iw=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Hy(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=ow(t,this.zf),i=Kv(r.v_,e,n),o=zy(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Pf.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=ow(t,this.zf);return e instanceof Pl&&(e=e._),o="string"==typeof e||e instanceof gy?Yy(this.wd,"WriteBatch.update",s.S_,e,n,r):Zy(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,Pf.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=ow(t,this.zf);return this.fd=this.fd.concat(new Jf(e.S_,Pf.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new kl(Al.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ow(t,e){if(t instanceof Pl&&(t=t._),t.firestore!==e)throw new kl(Al.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var sw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(pl.c)(e,t),e.prototype.get=function(e){var n=this,r=ow(e,this.zf),i=new Xv(this.zf);return t.prototype.get.call(this,e).then((function(t){return new Wv(n.zf,i,r.S_,t.Jf,new $v(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Hy(t)}return t.prototype.get=function(t){var e=this,n=ow(t,this.zf),r=new Gv(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return _l();var i=t[0];if(i instanceof jh)return new jv(e.zf,r,n.S_,null,n.v_);if(i instanceof xh)return new jv(e.zf,r,i.key,i,n.v_);throw _l()}))},t.prototype.set=function(t,e,n){var r=ow(t,this.zf),i=Kv(r.v_,e,n),o=zy(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=ow(t,this.zf);return e instanceof Pl&&(e=e._),o="string"==typeof e||e instanceof gy?Yy(this.wd,"Transaction.update",s.S_,e,n,r):Zy(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=ow(t,this.zf);return this.Td.delete(e.S_),this},t}()),aw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Tv(t=Ey(t,Ev));var n=Cv(t),r=t.p_(),i=new dy;return Sv(n,i,new hy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Tv(t=Ey(t,Ev));var e=Cv(t),n=t.p_(),r=new dy;return Sv(e,r,new fy(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new kl(Al.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new sp;return t.Mf.Tf((function(){return Object(pl.b)(e,void 0,void 0,(function(){var e;return Object(pl.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(pl.b)(this,void 0,void 0,(function(){return Object(pl.d)(this,(function(e){switch(e.label){case 0:return cp.Wn()?[4,cp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Kg(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),uw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Vl||(i.md=e),i}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&vl("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(pl.b)(e,void 0,void 0,(function(){var e,n;return Object(pl.d)(this,(function(r){switch(r.label){case 0:return[4,gv(t)];case 1:return e=r.sent(),[4,bv(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=El(t);return e.Fh.delete(0),Gm(e)}(n))]}}))}))}))}(Cv(Ey(this._,Ev)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(pl.b)(e,void 0,void 0,(function(){var e,n;return Object(pl.d)(this,(function(r){switch(r.label){case 0:return[4,gv(t)];case 1:return e=r.sent(),[4,bv(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Object(pl.b)(this,void 0,void 0,(function(){var e;return Object(pl.d)(this,(function(n){switch(n.label){case 0:return(e=El(t)).Fh.add(0),[4,$m(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Cv(Ey(this._,Ev)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&vy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new sp;return t.fs.ys((function(){return Object(pl.b)(e,void 0,void 0,(function(){var e;return Object(pl.d)(this,(function(r){switch(r.label){case 0:return e=Hb,[4,yv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Cv(Ey(this._,Ev)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new py(e);return t.fs.ys((function(){return Object(pl.b)(n,void 0,void 0,(function(){var e;return Object(pl.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){El(t).jh.add(e),e.next()},[4,vv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(pl.b)(n,void 0,void 0,(function(){var e;return Object(pl.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){El(t).jh.delete(e)},[4,vv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Cv(t=Ey(t,Ev)),Bv(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new kl(Al.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new _w(this,ky(this._,t))}catch(t){throw dw(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new fw(this,Ny(this._,t))}catch(t){throw dw(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new yw(this,function(t,e){if(t=Ey(t,Ty),by("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new kl(Al.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new jy(t,null,function(t){return new Yh(Jl.at(),t)}(e))}(this._,t))}catch(t){throw dw(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new sp;return t.fs.ys((function(){return Object(pl.b)(n,void 0,void 0,(function(){var n;return Object(pl.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return pv(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new cv(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Cv(t),(function(n){return e(new sw(t,n))}))}(this._,(function(n){return t(new lw(e,n))}))},e.prototype.batch=function(){var t=this;return Cv(this._),new hw(new iw(this._,(function(e){return nw(t._,e)})))},e.prototype.loadBundle=function(t){throw new kl(Al.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new kl(Al.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Pl),cw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(pl.c)(e,t),e.prototype.Uf=function(t){return new Ll(new Nl(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return fw.Ad(e,this.firestore,null)},e}(xv),lw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(pl.c)(e,t),e.prototype.get=function(t){var e=this,n=Ow(t);return this._.get(n).then((function(t){return new mw(e.zf,t)}))},e.prototype.set=function(t,e,n){var r=Ow(t);return n?(yy("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Ow(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(pl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Ow(t);return this._.delete(e),this},e}(Pl),hw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.set=function(t,e,n){var r=Ow(t);return n?(yy("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Ow(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(pl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Ow(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Pl),fw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new cw(e),r}return Object(pl.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new kl(Al.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new xy(n._,r,new Ql(t)))},e.Ad=function(t,n,r){return new e(n,new xy(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new _w(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new _w(this.firestore,ky(this._,t))}catch(t){throw dw(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Pl&&(t=t._),t instanceof xy&&Py(this._,t)},e.prototype.set=function(t,e){e=yy("DocumentReference.set",e);try{return function(t,e,n){t=Ey(t,xy);var r=Ey(t.firestore,Ev),i=Kv(t.v_,e,n);return nw(r,[zy(Hy(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Pf.Wt())])}(this._,t,e)}catch(t){throw dw(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?tw(this._,t):tw.apply(void 0,Object(pl.g)([this._,t,e],n))}catch(t){throw dw(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return nw(Ey((t=this._).firestore,Ev),[new Jf(t.S_,Pf.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=pw(e),i=gw(e,(function(e){return new mw(t.firestore,new Wv(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return ew(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ey(t,xy);var e=Ey(t.firestore,Ev),n=Cv(e),r=new Xv(e);return function(t,e){var n=this,r=new sp;return t.fs.ys((function(){return Object(pl.b)(n,void 0,void 0,(function(){var n;return Object(pl.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(pl.b)(this,void 0,void 0,(function(){var r,i;return Object(pl.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=El(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof xh?n.resolve(i):i instanceof jh?n.resolve(null):n.reject(new kl(Al.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=yp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,mv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new Wv(e,r,t.S_,n,new $v(n instanceof xh&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Ey(t,xy);var e=Ey(t.firestore,Ev);return wv(Cv(e),t.S_,{source:"server"}).then((function(n){return rw(e,t,n)}))}(this._):function(t){t=Ey(t,xy);var e=Ey(t.firestore,Ev);return wv(Cv(e),t.S_).then((function(n){return rw(e,t,n)}))}(this._)).then((function(t){return new mw(e.firestore,new Wv(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Pl);function dw(t,e,n){return t.message=t.message.replace(e,n),t}function pw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Bv(r))return r}return{}}function gw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Bv(t[0])?t[0]:Bv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var mw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new fw(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Qv(this._,t._)},e}(Pl),bw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(mw),yw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new cw(e),r}return Object(pl.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Dv(this._,function(t,e,n){var r=e,i=kv("where",t);return new Rv(i,r,n)}(t,n,r)))}catch(t){throw dw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Dv(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=kv("orderBy",t);return new Lv(r,n)}(t,n)))}catch(t){throw dw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Dv(this._,function(t){return Cy("limit",t),new Mv("limit",t,"F")}(t)))}catch(t){throw dw(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Dv(this._,function(t){return Cy("limitToLast",t),new Mv("limitToLast",t,"L")}(t)))}catch(t){throw dw(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vv("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw dw(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vv("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw dw(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fv("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw dw(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fv("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw dw(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Dy(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ey(t,jy);var e=Ey(t.firestore,Ev),n=Cv(e),r=new Xv(e);return function(t,e){var n=this,r=new sp;return t.fs.ys((function(){return Object(pl.b)(n,void 0,void 0,(function(){var n;return Object(pl.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(pl.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(pl.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,om(t,e,!0)];case 1:return a=u.sent(),r=new jb(e,a.Pc),i=r.dl(a.documents),o=r.Ti(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=yp(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,mv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Zv(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Ey(t,jy);var e=Ey(t.firestore,Ev),n=Cv(e),r=new Xv(e);return _v(n,t.C_,{source:"server"}).then((function(n){return new Zv(e,r,t,n)}))}(this._):function(t){t=Ey(t,jy);var e=Ey(t.firestore,Ev),n=Cv(e),r=new Xv(e);return Nv(t.C_),_v(n,t.C_).then((function(n){return new Zv(e,r,t,n)}))}(this._)).then((function(t){return new ww(e.firestore,new Zv(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=pw(e),i=gw(e,(function(e){return new ww(t.firestore,new Zv(t.firestore._,t.Hf,t._,e.ud))}));return ew(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Pl),vw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new bw(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Pl),ww=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new yw(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new bw(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new vw(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new bw(n.zf,r))}))},e.prototype.isEqual=function(t){return Qv(this._,t._)},e}(Pl),_w=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(pl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new fw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new fw(this.firestore,void 0===t?Ny(this._):Ny(this._,t))}catch(t){throw dw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ey(t.firestore,Ev),r=Ny(t),i=Kv(t.v_,e);return nw(n,[zy(Hy(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Pf.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new fw(e.firestore,t)}))},e.prototype.isEqual=function(t){return Py(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(yw);function Ow(t){return t instanceof Pl&&(t=t._),Ey(t,xy)}var Ew=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(gy.bind.apply(gy,Object(pl.g)([void 0],e))))||this}return Object(pl.c)(e,t),e.documentId=function(){return new e(Yl.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Pl&&(t=t._),t instanceof gy&&this._.d_.isEqual(t.d_)},e}(Pl),Cw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pl.c)(e,t),e.serverTimestamp=function(){var t=new Gy("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new By("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $y("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wy("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Jy("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Pl);!function(){function t(){this.Pd={},this.yd=new sp,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Iw,Sw=n("/6Yf"),Tw={Firestore:uw,GeoPoint:Ry,Timestamp:Gl,Blob:Ll,Transaction:lw,WriteBatch:hw,DocumentReference:fw,DocumentSnapshot:mw,Query:yw,QueryDocumentSnapshot:bw,QuerySnapshot:ww,CollectionReference:_w,FieldPath:Ew,FieldValue:Cw,setLogLevel:function(t){gl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Sw.a("firestore",(function(t){return function(t,e){return new uw(t,new Ev(t,e),new aw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Tw)))})(Iw=fs.a),Iw.registerVersion("@firebase/firestore","2.1.1");var xw=n("VRyK"),jw=n("qgXg"),Aw=n("Ylt2");class kw extends te.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Nw(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new ee.a;if(this.isStopped||this.hasError?o=en.a.EMPTY:(this.observers.push(t),o=new Aw.a(this,t)),r&&t.add(t=new cs.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||jw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Nw{constructor(t,e){this.time=t,this.value=e}}function Pw(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new kw(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Dw(t,e){return e?Me(()=>t,e):Me(()=>t)}var Rw=n("tf+s");const Lw=new r.q("angularfire2.auth.use-emulator"),Mw=new r.q("angularfire2.auth.settings"),Vw=new r.q("angularfire2.auth.tenant-id"),Fw=new r.q("angularfire2.auth.langugage-code"),Uw=new r.q("angularfire2.auth.use-device-language"),qw=new r.q("angularfire.auth.persistence");let Hw=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new ls.d(i),f=Object(ls.h)(h),d=new te.a,p=Object(Qt.a)(void 0).pipe(Object(cs.b)(h.outsideAngular),Me(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(ye.a)(()=>Object(ls.g)(t,i,e)),Object(ye.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(ls.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Pw({bufferSize:1,refCount:!1}));if(bt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Qt.a)(null);else{p.pipe(Xe()).subscribe();const t=p.pipe(Me(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Pw({bufferSize:1,refCount:!1})),e=t=>new ce.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Me(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Me(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Dw(n),Object(Rw.a)(h.outsideAngular),Object(cs.b)(h.insideAngular)),this.user=t.pipe(Dw(r),Object(Rw.a)(h.outsideAngular),Object(cs.b)(h.insideAngular)),this.idToken=this.user.pipe(Me(t=>t?Object(Xt.a)(t.getIdToken()):Object(Qt.a)(null))),this.idTokenResult=this.user.pipe(Me(t=>t?Object(Xt.a)(t.getIdTokenResult()):Object(Qt.a)(null))),this.credential=Object(xw.a)(t,d,this.authState.pipe(_e(t=>!t))).pipe(Object(ye.a)(t=>(null==t?void 0:t.user)?t:null),Object(Rw.a)(h.outsideAngular),Object(cs.b)(h.insideAngular))}return Object(ls.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ls.c),r.Pb(ls.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Lw,8),r.Pb(Mw,8),r.Pb(Vw,8),r.Pb(Fw,8),r.Pb(Uw,8),r.Pb(qw,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(ls.c),Object(r.Pb)(ls.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Lw,8),Object(r.Pb)(Mw,8),Object(r.Pb)(Vw,8),Object(r.Pb)(Fw,8),Object(r.Pb)(Uw,8),Object(r.Pb)(qw,8))},token:t,providedIn:"any"}),t})();function zw(t,e){return function(t,e=rs.b){return new ce.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Bw(t,e){return zw(t,e).pipe(Object(ye.a)(t=>({payload:t,type:"query"})))}function Kw(t,e){return Bw(t,e).pipe(Be(void 0),is(),Object(ye.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Gw(t,e,n){return Kw(t,n).pipe(Ke((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return $w(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return $w(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $w(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new as(void 0,void 0)),Object(ye.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function $w(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Ww(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Jw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Kw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(ye.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Be(void 0),is(),_e(([t,e])=>e.length>0||!t),Object(ye.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ke((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ww(t);return Gw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Bw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Xt.a)(this.query.get(t)).pipe(Object(cs.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Zw(this.ref.doc(t),this.afs)}}class Zw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=n_(n,e);return new Jw(r,i,this.afs)}snapshotChanges(){return zw(this.ref,this.afs.schedulers.outsideAngular).pipe(Be(void 0),is(),Object(ye.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(ye.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Xt.a)(this.ref.get(t)).pipe(Object(cs.b)(this.afs.schedulers.insideAngular))}}class Yw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Kw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),_e(t=>t.length>0),this.afs.keepUnstableUntilFirst):Kw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ke((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ww(t);return Gw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Bw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Xt.a)(this.query.get(t)).pipe(Object(cs.b)(this.afs.schedulers.insideAngular))}}const Qw=new r.q("angularfire2.enableFirestorePersistence"),Xw=new r.q("angularfire2.firestore.persistenceSettings"),t_=new r.q("angularfire2.firestore.settings"),e_=new r.q("angularfire2.firestore.use-emulator");function n_(t,e=(t=>t)){return{query:e(t),ref:t}}let r_=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new ls.d(o),this.keepUnstableUntilFirst=Object(ls.h)(this.schedulers);const c=Object(ls.g)(t,o,e);!hs.a.auth&&u&&Object(ls.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(ls.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!bt(i)){const e=()=>{try{return Object(Xt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Iw){return"undefined"!=typeof console&&console.warn(Iw),Object(Qt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Qt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=n_(n,e),o=this.schedulers.ngZone.run(()=>r);return new Jw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Yw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Zw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ls.c),r.Pb(ls.b,8),r.Pb(Qw,8),r.Pb(t_,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Xw,8),r.Pb(e_,8),r.Pb(Lw,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(ls.c),Object(r.Pb)(ls.b,8),Object(r.Pb)(Qw,8),Object(r.Pb)(t_,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Xw,8),Object(r.Pb)(e_,8),Object(r.Pb)(Lw,8))},token:t,providedIn:"any"}),t})();function i_(t,e){1&t&&(r.Lb(0,"span"),r.jc(1,"* Preenchimento obrigat\xf3rio"),r.Kb())}function o_(t,e){1&t&&(r.Lb(0,"span"),r.jc(1,"* Valor inv\xe1lido"),r.Kb())}function s_(t,e){if(1&t&&(r.Lb(0,"small",15),r.hc(1,i_,2,0,"span",2),r.hc(2,o_,2,0,"span",2),r.Kb()),2&t){const t=r.Ub(2);r.yb(1),r.Yb("ngIf",t.contactForm.controls.name.errors.required),r.yb(1),r.Yb("ngIf",t.contactForm.controls.name.errors.minlength)}}function a_(t,e){1&t&&(r.Lb(0,"span"),r.jc(1,"* Preenchimento obrigat\xf3rio"),r.Kb())}function u_(t,e){1&t&&(r.Lb(0,"span"),r.jc(1,"* Valor inv\xe1lido"),r.Kb())}function c_(t,e){if(1&t&&(r.Lb(0,"small",15),r.hc(1,a_,2,0,"span",2),r.hc(2,u_,2,0,"span",2),r.Kb()),2&t){const t=r.Ub(2);r.yb(1),r.Yb("ngIf",t.contactForm.controls.email.errors.required),r.yb(1),r.Yb("ngIf",t.contactForm.controls.email.errors.email)}}function l_(t,e){1&t&&(r.Lb(0,"span"),r.jc(1,"* Preenchimento obrigat\xf3rio"),r.Kb())}function h_(t,e){1&t&&(r.Lb(0,"span"),r.jc(1,"* Valor inv\xe1lido"),r.Kb())}function f_(t,e){if(1&t&&(r.Lb(0,"small",15),r.hc(1,l_,2,0,"span",2),r.hc(2,h_,2,0,"span",2),r.Kb()),2&t){const t=r.Ub(2);r.yb(1),r.Yb("ngIf",t.contactForm.controls.subject.errors.required),r.yb(1),r.Yb("ngIf",t.contactForm.controls.subject.errors.minlength)}}function d_(t,e){1&t&&(r.Lb(0,"span"),r.jc(1,"* Preenchimento obrigat\xf3rio"),r.Kb())}function p_(t,e){1&t&&(r.Lb(0,"span"),r.jc(1,"* Valor inv\xe1lido"),r.Kb())}function g_(t,e){if(1&t&&(r.Lb(0,"small",15),r.hc(1,d_,2,0,"span",2),r.hc(2,p_,2,0,"span",2),r.Kb()),2&t){const t=r.Ub(2);r.yb(1),r.Yb("ngIf",t.contactForm.controls.message.errors.required),r.yb(1),r.Yb("ngIf",t.contactForm.controls.message.errors.minlength)}}function m_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div"),r.Lb(1,"p"),r.jc(2,"Preencha o formul\xe1rio abaixo para entrar em contato conosco."),r.Kb(),r.Lb(3,"form",4),r.Sb("ngSubmit",(function(){return r.dc(t),r.Ub().contactSend()})),r.Lb(4,"p"),r.Lb(5,"label",5),r.jc(6," Nome: "),r.hc(7,s_,3,2,"small",6),r.Kb(),r.Jb(8,"input",7),r.Kb(),r.Lb(9,"p"),r.Lb(10,"label",8),r.jc(11," E-mail: "),r.hc(12,c_,3,2,"small",6),r.Kb(),r.Jb(13,"input",9),r.Kb(),r.Lb(14,"p"),r.Lb(15,"label",10),r.jc(16," Assunto: "),r.hc(17,f_,3,2,"small",6),r.Kb(),r.Jb(18,"input",11),r.Kb(),r.Lb(19,"p"),r.Lb(20,"label",12),r.jc(21," Mensagem: "),r.hc(22,g_,3,2,"small",6),r.Kb(),r.Jb(23,"textarea",13),r.Kb(),r.Lb(24,"p"),r.Lb(25,"button",14),r.jc(26,"Enviar contato"),r.Kb(),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.Ub();r.yb(3),r.Yb("formGroup",t.contactForm),r.yb(4),r.Yb("ngIf",t.contactForm.controls.name.errors),r.yb(1),r.Yb("className",t.contactForm.controls.name.errors?"field-error":"field-valid"),r.yb(4),r.Yb("ngIf",t.contactForm.controls.email.errors),r.yb(1),r.Yb("className",t.contactForm.controls.email.errors?"field-error":"field-valid"),r.yb(4),r.Yb("ngIf",t.contactForm.controls.subject.errors),r.yb(1),r.Yb("className",t.contactForm.controls.subject.errors?"field-error":"field-valid"),r.yb(4),r.Yb("ngIf",t.contactForm.controls.message.errors),r.yb(1),r.Yb("className",t.contactForm.controls.message.errors?"field-error":"field-valid"),r.yb(2),r.Yb("disabled",!t.contactForm.valid)}}function b_(t,e){if(1&t&&(r.Lb(0,"div"),r.Lb(1,"h4"),r.jc(2),r.Kb(),r.Lb(3,"p"),r.jc(4,"Seu contato foi enviado para a equipe do site..."),r.Kb(),r.Lb(5,"p"),r.Lb(6,"em"),r.jc(7,"Obrigado!"),r.Kb(),r.Kb(),r.Lb(8,"button",16),r.Jb(9,"i",17),r.jc(10," P\xe1gina inicial"),r.Kb(),r.Kb()),2&t){const t=r.Ub();r.yb(2),r.lc("Ol\xe1 ",t.contactForm.controls.name.value,"!")}}let y_=(()=>{class t{constructor(t,e,n){this.form=t,this.fbStore=e,this.fbAuth=n,this.pipe=new pt("en_US"),this.feedback=!1}ngOnInit(){this.contactFormCreate(),this.contactForm&&this.fbAuth.onAuthStateChanged(t=>{this.contactForm.controls.name.setValue(t.displayName.trim()),this.contactForm.controls.email.setValue(t.email.trim())})}contactFormCreate(){this.contactForm=this.form.group({date:[""],name:["",ho.compose([ho.required,ho.minLength(3)])],email:["",ho.compose([ho.required,ho.email])],subject:["",ho.compose([ho.required,ho.minLength(4)])],message:["",ho.compose([ho.required,ho.minLength(5)])],status:["enviado"]})}contactSend(){this.contactForm.controls.date.setValue(this.pipe.transform(Date.now(),"yyyy-MM-dd hh:mm:ss").trim()),this.fbStore.collection("contacts").add(this.contactForm.value).then(()=>{this.feedback=!0,this.contactForm.reset({date:"",name:this.contactForm.value.name.trim(),email:this.contactForm.value.email.trim(),subject:"",message:"",status:"enviado"})}).catch(t=>{console.error("Erro ao salvar no Db:",t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(es),r.Ib(r_),r.Ib(Hw))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-contacts"]],decls:9,vars:2,consts:[[1,"row"],[1,"col-left"],[4,"ngIf"],[1,"col-right"],[1,"contact",3,"formGroup","ngSubmit"],["for","name"],["class","danger",4,"ngIf"],["type","text","formControlName","name",3,"className"],["for","email"],["type","email","formControlName","email",3,"className"],["for","subject"],["type","text","formControlName","subject",3,"className"],["for","message"],["formControlName","message",3,"className"],[1,"primary",3,"disabled"],[1,"danger"],["routerLink","/",1,"primary","center"],[1,"fas","fa-home","fa-fw"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"article",1),r.Lb(2,"h2"),r.jc(3,"Fa\xe7a contato"),r.Kb(),r.hc(4,m_,27,10,"div",2),r.hc(5,b_,11,1,"div",2),r.Kb(),r.Lb(6,"aside",3),r.Lb(7,"h3"),r.jc(8,"Sidebar"),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(4),r.Yb("ngIf",!e.feedback),r.yb(1),r.Yb("ngIf",e.feedback))},directives:[ot,Wo,oo,Yo,Qi,io,Xo,Ei],styles:[".contact[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.contact[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;font-size:inherit;font-family:inherit}.contact[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:6rem}.field-error[_ngcontent-%COMP%]{border:none;border-bottom:3px solid #ff4500}.field-valid[_ngcontent-%COMP%]{border:none;border-bottom:3px solid #0f0}"]}),t})();function v_(t,e){if(1&t&&(r.Lb(0,"div",5),r.Jb(1,"img",6),r.Lb(2,"h4"),r.Lb(3,"a",7),r.jc(4),r.Kb(),r.Kb(),r.Lb(5,"small"),r.jc(6),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.Zb("src",t.img,r.fc),r.Zb("alt",t.title),r.yb(2),r.ac("routerLink","/view/",t.artId,""),r.yb(1),r.kc(t.title),r.yb(2),r.kc(t.intro)}}let w_=(()=>{class t{constructor(t){this.afs=t,this.itemsCollection=t.collection("articles",t=>t.where("status","==","ativo").orderBy("date","desc")),this.items=this.itemsCollection.valueChanges({idField:"artId"})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:12,vars:3,consts:[[1,"row"],[1,"col-left"],[1,"articles"],["class","article",4,"ngFor","ngForOf"],[1,"col-right"],[1,"article"],[3,"src","alt"],[3,"routerLink"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"article",1),r.Lb(2,"h2"),r.jc(3,"Artigos Recentes"),r.Kb(),r.Lb(4,"div",2),r.hc(5,v_,7,5,"div",3),r.Vb(6,"async"),r.Kb(),r.Kb(),r.Lb(7,"aside",4),r.Lb(8,"h3"),r.jc(9,"Sidebar"),r.Kb(),r.Lb(10,"p"),r.jc(11,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus doloribus incidunt soluta, sequi ab maxime iure veritatis a possimus ut numquam nisi, cumque cupiditate eos. Iusto corporis pariatur ex unde."),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(5),r.Yb("ngForOf",r.Wb(6,1,e.items)))},directives:[rt,Ci],pipes:[dt],styles:[".article[_ngcontent-%COMP%]{margin-top:1rem;overflow:auto}.article[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}.article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:1rem;margin-bottom:.5rem;float:left}.user-data[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.user-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:50%;margin-right:1rem}.user-data[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;flex:1;text-align:center}.col-right[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-top:1px dotted grey}"]}),t})();class __{}class O_{}class E_{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof E_?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new E_;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof E_?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class C_{encodeKey(t){return I_(t)}encodeValue(t){return I_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function I_(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class S_{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new C_,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new S_({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function T_(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function x_(t){return"undefined"!=typeof Blob&&t instanceof Blob}function j_(t){return"undefined"!=typeof FormData&&t instanceof FormData}class A_{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new E_),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new S_,this.urlWithParams=e}serializeBody(){return null===this.body?null:T_(this.body)||x_(this.body)||j_(this.body)||"string"==typeof this.body?this.body:this.body instanceof S_?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||j_(this.body)?null:x_(this.body)?this.body.type||null:T_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof S_?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new A_(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var k_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class N_{constructor(t,e=200,n="OK"){this.headers=t.headers||new E_,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class P_ extends N_{constructor(t={}){super(t),this.type=k_.ResponseHeader}clone(t={}){return new P_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class D_ extends N_{constructor(t={}){super(t),this.type=k_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new D_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class R_ extends N_{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function L_(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let M_=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof A_)r=t;else{let i=void 0;i=n.headers instanceof E_?n.headers:new E_(n.headers);let o=void 0;n.params&&(o=n.params instanceof S_?n.params:new S_({fromObject:n.params})),r=new A_(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Qt.a)(r).pipe(Qe(t=>this.handler.handle(t)));if(t instanceof A_||"events"===n.observe)return i;const o=i.pipe(_e(t=>t instanceof D_));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(ye.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(ye.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(ye.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(ye.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new S_).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,L_(n,e))}post(t,e,n={}){return this.request("POST",t,L_(n,e))}put(t,e,n={}){return this.request("PUT",t,L_(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(__))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class V_{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const F_=new r.q("HTTP_INTERCEPTORS");let U_=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const q_=/^\)\]\}',?\n/;class H_{}let z_=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),B_=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ce.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new E_(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new P_({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(q_,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new D_({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new R_({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new R_({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:k_.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:k_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:k_.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(H_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const K_=new r.q("XSRF_COOKIE_NAME"),G_=new r.q("XSRF_HEADER_NAME");class $_{}let W_=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=et(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(r.B),r.Pb(K_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),J_=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb($_),r.Pb(G_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Z_=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(F_,[]);this.chain=t.reduceRight((t,e)=>new V_(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(O_),r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Y_=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:J_,useClass:U_}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:K_,useValue:e.cookieName}:[],e.headerName?{provide:G_,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[J_,{provide:F_,useExisting:J_,multi:!0},{provide:$_,useClass:W_},{provide:K_,useValue:"XSRF-TOKEN"},{provide:G_,useValue:"X-XSRF-TOKEN"}]}),t})(),Q_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[M_,{provide:__,useClass:Z_},B_,{provide:O_,useExisting:B_},z_,{provide:H_,useExisting:z_}],imports:[[Y_.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function X_(t,e){if(1&t&&(r.Lb(0,"small"),r.jc(1),r.Kb()),2&t){const t=r.Ub().$implicit;r.yb(1),r.kc(t.content)}}function tO(t,e){if(1&t&&(r.Lb(0,"small"),r.jc(1),r.Kb()),2&t){const t=r.Ub().$implicit;r.yb(1),r.kc(t.description)}}function eO(t,e){if(1&t&&(r.Lb(0,"div",6),r.Jb(1,"img",7),r.Lb(2,"div"),r.Lb(3,"h4"),r.Lb(4,"a",8),r.jc(5),r.Kb(),r.Kb(),r.hc(6,X_,2,1,"small",9),r.hc(7,tO,2,1,"small",9),r.Lb(8,"small"),r.jc(9," \u2192 "),r.Lb(10,"a",8),r.jc(11),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.Zb("src",t.urlToImage,r.fc),r.Zb("title",t.title),r.yb(3),r.Zb("href",t.url,r.fc),r.yb(1),r.kc(t.title),r.yb(1),r.Yb("ngIf",""===t.description),r.yb(1),r.Yb("ngIf",""!==t.description),r.yb(3),r.ac("href","http://www.",t.source.name,"/",r.fc),r.yb(1),r.kc(t.source.name)}}function nO(t,e){if(1&t&&(r.Lb(0,"div",4),r.hc(1,eO,12,8,"div",5),r.Kb()),2&t){const t=r.Ub();r.yb(1),r.Yb("ngForOf",t.newsList)}}let rO=(()=>{class t{constructor(t){this.http=t,this.apiKey="7c836b47084e46ed9468cecf44d420ba",this.apiQuery="cachorros",this.apiItens=10,this.apiURL=`https://newsapi.org/v2/everything?apiKey=${this.apiKey}&source=google-news-br&language=pt&q=${this.apiQuery}`}ngOnInit(){this.http.get(this.apiURL).subscribe(t=>{this.newsList=t.articles.slice(0,this.apiItens)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(M_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-news"]],decls:10,vars:1,consts:[[1,"row"],[1,"col-left"],["class","news-list",4,"ngIf"],[1,"col-right"],[1,"news-list"],["class","news-item",4,"ngFor","ngForOf"],[1,"news-item"],["alt","N\xe3o dispon\xedvel",3,"src","title"],["target","_blank",3,"href"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"article",1),r.Lb(2,"h2"),r.jc(3,"Not\xedcias Recentes"),r.Kb(),r.hc(4,nO,2,1,"div",2),r.Kb(),r.Lb(5,"aside",3),r.Lb(6,"h3"),r.jc(7,"Sidebar"),r.Kb(),r.Lb(8,"p"),r.jc(9,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus doloribus incidunt soluta, sequi ab maxime iure veritatis a possimus ut numquam nisi, cumque cupiditate eos. Iusto corporis pariatur ex unde."),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(4),r.Yb("ngIf",e.newsList))},directives:[ot,rt],styles:[".news-item[_ngcontent-%COMP%]{display:flex;margin-bottom:1rem}.news-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;display:block}.news-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .3rem}.news-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:.5rem .5rem .5rem 1rem}.news-item[_ngcontent-%COMP%]:nth-child(odd){background:hsla(0,0%,100%,.1)}.news-item[_ngcontent-%COMP%]:nth-child(2n){background:hsla(0,0%,100%,.05)}.news-item[_ngcontent-%COMP%]:hover{background:hsla(0,0%,100%,.15)}"]}),t})(),iO=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-about"]],decls:21,vars:0,consts:[[1,"row"],[1,"col-left"],["href","https://github.com/huldson2/DogWorld_Angular"],["routerLink","/news"],[1,"col-right"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"article",1),r.Lb(2,"h2"),r.jc(3,"Sobre"),r.Kb(),r.Lb(4,"p"),r.jc(5,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Vel dolore neque cumque doloremque quibusdam maiores modi veniam accusantium cupiditate magnam quis, labore quidem debitis optio itaque id, praesentium blanditiis reiciendis?"),r.Kb(),r.Lb(6,"h4"),r.jc(7,"Links:"),r.Kb(),r.Lb(8,"ul"),r.Lb(9,"li"),r.Lb(10,"a",2),r.jc(11,"Site do Projeto Final"),r.Kb(),r.Kb(),r.Kb(),r.Lb(12,"p"),r.jc(13,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nesciunt earum nobis labore tenetur eveniet hic quasi eaque blanditiis architecto. Sapiente modi cumque iste libero impedit consequuntur nobis reiciendis nisi illo!"),r.Kb(),r.Lb(14,"button",3),r.jc(15,"Leia as not\xedcias"),r.Kb(),r.Kb(),r.Lb(16,"aside",4),r.Lb(17,"h3"),r.jc(18,"Sidebar"),r.Kb(),r.Lb(19,"p"),r.jc(20,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus doloribus incidunt soluta, sequi ab maxime iure veritatis a possimus ut numquam nisi, cumque cupiditate eos. Iusto corporis pariatur ex unde."),r.Kb(),r.Kb(),r.Kb())},directives:[Ei],styles:[""]}),t})(),oO=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-e404"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Lb(0,"p"),r.jc(1,"N\xe3o foi poss\xedvel carregar a p\xe1gina. ERROR 404"),r.Kb())},styles:[""]}),t})();function sO(t,e){if(1&t&&(r.Lb(0,"div"),r.Lb(1,"h2"),r.jc(2),r.Kb(),r.Lb(3,"small"),r.jc(4),r.Vb(5,"date"),r.Kb(),r.Jb(6,"div",1),r.Lb(7,"p"),r.Lb(8,"button",2),r.jc(9,"Lista de Artigos"),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.ngIf;r.yb(2),r.kc(t.title),r.yb(2),r.lc("Em ",r.Xb(5,3,t.date,"dd/MM/yyyy, hh:mm"),"."),r.yb(2),r.Yb("innerHTML",t.text,r.ec)}}let aO=(()=>{class t{constructor(t,e){this.route=t,this.afs=e}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.item=this.afs.doc("articles/"+t.id).valueChanges())})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ar),r.Ib(r_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-view"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"innerHTML"],["routerLink","/",1,"center","primary"]],template:function(t,e){1&t&&(r.hc(0,sO,10,6,"div",0),r.Vb(1,"async")),2&t&&r.Yb("ngIf",r.Wb(1,1,e.item))},directives:[ot,Ei],pipes:[dt,pt],styles:["small[_ngcontent-%COMP%]{display:block;margin:-.5rem 0 1rem;padding:.2rem .5rem;text-align:right;border-top:1px dotted grey;border-bottom:1px dotted grey}"]}),t})(),uO=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}ngOnInit(){}login(t){switch(t){case"google":this.auth.signInWithPopup(new hs.a.auth.GoogleAuthProvider).then(()=>{this.router.navigate(["/"])});break;case"facebook":this.auth.signInWithPopup(new hs.a.auth.FacebookAuthProvider).then(()=>{this.router.navigate(["/"])})}}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Hw),r.Ib(Oi))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-login"]],decls:11,vars:0,consts:[[1,"primary","block",3,"click"],[1,"fab","fa-google","fa-fw"],[1,"fab","fa-facebook-square","fa-fw"]],template:function(t,e){1&t&&(r.Lb(0,"h2"),r.jc(1,"Fa\xe7a login"),r.Kb(),r.Lb(2,"p"),r.jc(3,"Logue-se usando uma rede social para ter acesso exclusivo ao nosso conte\xfado personalizado."),r.Kb(),r.Lb(4,"button",0),r.Sb("click",(function(){return e.login("google")})),r.Jb(5,"i",1),r.jc(6,"\xa0 Logue-se com o Google"),r.Kb(),r.jc(7,"\n\xa0\n"),r.Lb(8,"button",0),r.Sb("click",(function(){return e.login("facebook")})),r.Jb(9,"i",2),r.jc(10,"\xa0 Logue-se com o FaceBook"),r.Kb())},styles:[""]}),t})();var cO=n("mCNh");const lO=t=>!!t,hO=Object(ye.a)(lO);let fO=(()=>{class t{constructor(t,e){this.router=t,this.auth=e,this.canActivate=(t,e)=>{const n=t.data.authGuardPipe||(()=>hO);return this.auth.user.pipe(Ue(1),n(t,e),Object(ye.a)(t=>"boolean"==typeof t?t:Array.isArray(t)?this.router.createUrlTree(t):this.router.parseUrl(t)))}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Oi),r.Pb(Hw))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Oi),Object(r.Pb)(Hw))},token:t,providedIn:"any"}),t})();function dO(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div"),r.Lb(1,"h2"),r.jc(2),r.Kb(),r.Lb(3,"p"),r.jc(4),r.Kb(),r.Lb(5,"div",4),r.Jb(6,"img",5),r.Lb(7,"ul"),r.Lb(8,"li"),r.Lb(9,"strong"),r.jc(10,"ID de usu\xe1rio:"),r.Kb(),r.jc(11),r.Kb(),r.Lb(12,"li"),r.Lb(13,"strong"),r.jc(14,"E-mail:"),r.Kb(),r.jc(15),r.Kb(),r.Lb(16,"li"),r.Lb(17,"strong"),r.jc(18,"Telefone:"),r.Kb(),r.jc(19),r.Kb(),r.Lb(20,"li"),r.Lb(21,"strong"),r.jc(22,"Provedor de login:"),r.Kb(),r.jc(23),r.Kb(),r.Lb(24,"li"),r.Lb(25,"strong"),r.jc(26,"Cadastrado em:"),r.Kb(),r.jc(27),r.Vb(28,"date"),r.Kb(),r.Lb(29,"li"),r.Lb(30,"strong"),r.jc(31,"\xdaltimo acesso em:"),r.Kb(),r.jc(32),r.Vb(33,"date"),r.Kb(),r.Kb(),r.Kb(),r.Lb(34,"button",6),r.Sb("click",(function(){r.dc(t);const n=e.ngIf;return r.Ub().editProfile(n.providerData[0].providerId)})),r.Jb(35,"i",7),r.jc(36,"\xa0 Editar perfil"),r.Kb(),r.Lb(37,"small"),r.jc(38),r.Kb(),r.Lb(39,"button",8),r.Jb(40,"i",9),r.jc(41,"\xa0 Logout / Sair"),r.Kb(),r.Kb()}if(2&t){const t=e.ngIf;r.yb(2),r.lc("Ol\xe1 ",t.displayName,"!"),r.yb(2),r.lc("Esses s\xe3o seus dados de cadastro fornecidos pelo '",t.providerData[0].providerId,"'. Nenhuma informa\xe7\xe3o sens\xedvel \xe9 armazenada em nosso site."),r.yb(2),r.Zb("src",t.photoURL,r.fc),r.Zb("alt",t.displayName),r.Zb("title",t.displayName),r.yb(5),r.lc(" ",t.uid,""),r.yb(4),r.lc(" ",t.email,""),r.yb(4),r.lc(" ",t.phoneNumber,""),r.yb(4),r.lc(" ",t.providerData[0].providerId,""),r.yb(4),r.lc(" ",r.Xb(28,12,t.metadata.creationTime,"dd/MM/yyyy, hh:mm"),""),r.yb(5),r.lc(" ",r.Xb(33,15,t.metadata.lastSignInTime,"dd/MM/yyyy, hh:mm"),""),r.yb(6),r.lc("Perfil editado no '",t.providerData[0].providerId,"'.")}}const pO=()=>{return t=["/login"],Object(cO.a)(hO,Object(ye.a)(e=>e||t));var t},gO=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:w_,data:{title:""}},{path:"news",component:rO,canActivate:[fO],data:{title:"Not\xedcias",authGuardPipe:pO}},{path:"contacts",component:y_,data:{title:"Fa\xe7a contato"}},{path:"about",component:iO,data:{title:"Sobre"}},{path:"view/:id",component:aO,canActivate:[fO],data:{title:"Artigo",authGuardPipe:pO}},{path:"login",component:uO,canActivate:[fO],data:{title:"Fa\xe7a login",authGuardPipe:()=>{return t=["/"],Object(cO.a)(hO,Object(ye.a)(e=>e&&t||!0));var t}}},{path:"profile",component:(()=>{class t{constructor(t){this.auth=t}ngOnInit(){}editProfile(t){switch(t){case"google.com":this.profileURL="https://google.com/account";break;case"facebook.com":this.profileURL="https://facebook.com/profile";break;default:return!1}window.open(this.profileURL)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Hw))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-profile"]],decls:9,vars:3,consts:[[1,"row"],[1,"col-left"],[4,"ngIf"],[1,"col-right"],[1,"profile"],[3,"src","alt","title"],[1,"primary","center",3,"click"],[1,"fas","fa-address-card","fa-fw"],["routerLink","/logout",1,"primary","center"],[1,"fas","fa-sign-out-alt","fa-fw"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"article",1),r.hc(2,dO,42,18,"div",2),r.Vb(3,"async"),r.Kb(),r.Lb(4,"aside",3),r.Lb(5,"h3"),r.jc(6,"Sidebar"),r.Kb(),r.Lb(7,"p"),r.jc(8,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus doloribus incidunt soluta, sequi ab maxime iure veritatis a possimus ut numquam nisi, cumque cupiditate eos. Iusto corporis pariatur ex unde."),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(2),r.Yb("ngIf",r.Wb(3,1,e.auth.user)))},directives:[ot,Ei],pipes:[dt,pt],styles:[".profile[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;flex-direction:column}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100px;height:100px;border-radius:.4rem}.profile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:0;margin-right:0;font-size:small}.col-left[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;text-align:center;margin-top:-.8rem}@media (min-width:800px){.profile[_ngcontent-%COMP%]{flex-direction:row;justify-content:center}}"]}),t})(),canActivate:[fO],data:{title:"Seu perfil",authGuardPipe:pO}},{path:"logout",component:(()=>{class t{constructor(t,e){this.auth=t,this.router=e}ngOnInit(){}logout(){this.auth.signOut().then(()=>{this.router.navigate(["/"])})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Hw),r.Ib(Oi))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-logout"]],decls:14,vars:0,consts:[[1,"row"],[1,"col-left"],[1,"primary","center",3,"click"],[1,"fas","fa-sign-out-alt","fa-fw"],[1,"col-right"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"article",1),r.Lb(2,"h2"),r.jc(3,"Sair do site"),r.Kb(),r.Lb(4,"p"),r.jc(5,"Ao sair voc\xea n\xe3o ter\xe1 acesso ao conte\xfado exclusivo, mas, voc\xea pode fazer login novamente a qualquer momento."),r.Kb(),r.Lb(6,"button",2),r.Sb("click",(function(){return e.logout()})),r.Jb(7,"i",3),r.jc(8,"\xa0 Logout / Sair"),r.Kb(),r.Kb(),r.Lb(9,"aside",4),r.Lb(10,"h3"),r.jc(11,"Sidebar"),r.Kb(),r.Lb(12,"p"),r.jc(13,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus doloribus incidunt soluta, sequi ab maxime iure veritatis a possimus ut numquam nisi, cumque cupiditate eos. Iusto corporis pariatur ex unde."),r.Kb(),r.Kb(),r.Kb())},styles:[""]}),t})(),data:{title:"Logout / Sair"}},{path:"**",component:oO,data:{title:"Erro 404"}}];let mO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[Li.forRoot(gO,{anchorScrolling:"enabled"})],Li]}),t})();function bO(t,e){if(1&t&&(r.Lb(0,"div"),r.Jb(1,"img",18),r.Kb()),2&t){const t=e.ngIf;r.yb(1),r.Zb("src",t.photoURL,r.fc),r.Zb("alt",t.displayName),r.ac("title","Perfil de ",t.displayName,".")}}function yO(t,e){1&t&&(r.Lb(0,"button",19),r.Jb(1,"i",20),r.jc(2," Login "),r.Kb())}let vO=(()=>{class t{constructor(t,e,n,r,i){this.titleService=t,this.router=e,this.activatedRoute=n,this.viewportScroller=r,this.auth=i}ngOnInit(){const t=this.titleService.getTitle();this.router.events.pipe(_e(t=>t instanceof an),Object(ye.a)(()=>{const e=this.activatedRoute.firstChild;return e.snapshot.data.title?t+" ~ "+e.snapshot.data.title:t})).subscribe(t=>{this.titleService.setTitle(t)})}anchorLink(t){this.viewportScroller.scrollToAnchor(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Yt),r.Ib(Oi),r.Ib(ar),r.Ib(yt),r.Ib(Hw))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:33,vars:4,consts:[[1,"wrap"],[1,"header"],["title","P\xe1gina inicial","routerLink","/",1,"fas","fa-dog","fa-fw","fa-3x"],[4,"ngIf","ngIfElse"],["showLogin",""],[1,"nav"],["routerLink","/"],[1,"fas","fa-home","fa-fw"],["routerLink","/news"],[1,"fas","fa-newspaper","fa-fw"],["routerLink","/contacts"],[1,"fas","fa-comments","fa-fw"],["routerLink","/about"],[1,"fas","fa-info-circle","fa-fw"],[1,"main"],[1,"footer"],[3,"click"],[1,"far","fa-arrow-alt-circle-up","fa-fw"],["routerLink","/profile",3,"src","alt","title"],["routerLink","/login",1,"center","primary"],[1,"fas","fa-sign-in-alt","fa-fw"]],template:function(t,e){if(1&t&&(r.Lb(0,"div",0),r.Lb(1,"header",1),r.Jb(2,"i",2),r.Lb(3,"h1"),r.jc(4," Dog World "),r.Lb(5,"small"),r.jc(6,"Entre Faros e pegadas"),r.Kb(),r.Kb(),r.hc(7,bO,2,3,"div",3),r.Vb(8,"async"),r.hc(9,yO,3,0,"ng-template",null,4,r.ic),r.Kb(),r.Lb(11,"nav",5),r.Lb(12,"a",6),r.Jb(13,"i",7),r.jc(14," In\xedcio "),r.Kb(),r.Lb(15,"a",8),r.Jb(16,"i",9),r.jc(17," Not\xedcias "),r.Kb(),r.Lb(18,"a",10),r.Jb(19,"i",11),r.jc(20," Contatos "),r.Kb(),r.Lb(21,"a",12),r.Jb(22,"i",13),r.jc(23," Sobre "),r.Kb(),r.Kb(),r.Lb(24,"main",14),r.Jb(25,"router-outlet"),r.Kb(),r.Lb(26,"footer",15),r.Lb(27,"a",6),r.Jb(28,"i",7),r.Kb(),r.Lb(29,"small"),r.jc(30,"\xa9 Copyright 2020 Huldson Rodrigues"),r.Kb(),r.Lb(31,"a",16),r.Sb("click",(function(){return e.anchorLink("top")})),r.Jb(32,"i",17),r.Kb(),r.Kb(),r.Kb()),2&t){const t=r.cc(10);r.yb(7),r.Yb("ngIf",r.Wb(8,2,e.auth.user))("ngIfElse",t)}},directives:[Ei,ot,Ci,Si],pipes:[dt],styles:[".wrap[_ngcontent-%COMP%]{max-width:1024px;min-width:280px;position:relative;margin:auto;width:100%;height:100%;display:flex;flex-direction:column}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;background:rgba(1,204,255,.5)}.header[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#000;display:block;margin:1rem;-webkit-text-stroke:1px #fff;cursor:pointer}.header[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]:hover{color:red}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.4rem;flex-grow:1}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem;display:block;font-weight:400;letter-spacing:.07rem;margin-top:.2rem}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:auto}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:3rem;height:3rem;border-radius:50%;margin:.5rem 1rem .5rem .5rem;cursor:pointer}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:small;padding:.4rem;margin:.5rem 1rem .5rem .5rem}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;font-size:1.2rem;margin-bottom:.3rem}.nav[_ngcontent-%COMP%]{background:#ddd}.nav[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem;flex-direction:column;justify-content:center;align-items:center;color:#444;font-size:.95rem}.nav[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2rem;display:block;text-align:center}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{margin-right:auto}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background:#444;color:#ddd}.main[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;flex:1;background:hsla(0,0%,50.2%,.2)}.footer[_ngcontent-%COMP%]{background:#000;text-align:center;display:flex;justify-content:space-between;align-items:center}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem;color:#ddd}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ddd;color:#333}@media (min-width:575px){.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex-direction:row}.nav[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding-right:.5rem}}"]}),t})();var wO=n("z6cu"),_O=n("n6bG");function OO(t,e,n,r){return Object(_O.a)(n)&&(r=n,n=void 0),r?OO(t,e,n).pipe(Object(ye.a)(t=>Object(ie.a)(t)?r(...t):r(t))):new ce.a(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}var EO=n("KqfI");const CO=new ce.a(EO.a);var IO=n("oB13"),SO=n("WMd4");class TO{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new xO(t,this.delay,this.scheduler))}}class xO extends oe.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(xO.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new jO(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(SO.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(SO.a.createComplete()),this.unsubscribe()}}class jO{constructor(t,e){this.time=t,this.notification=e}}const AO="Service workers are disabled or not supported by this browser";class kO{constructor(t){if(this.serviceWorker=t,t){const e=OO(t,"controllerchange").pipe(Object(ye.a)(()=>t.controller)),n=ze(be(()=>Object(Qt.a)(t.controller)),e);this.worker=n.pipe(_e(t=>!!t)),this.registration=this.worker.pipe(Me(()=>t.getRegistration()));const r=OO(t,"message").pipe(Object(ye.a)(t=>t.data)).pipe(_e(t=>t&&t.type)).pipe(Object(IO.a)(new te.a));r.connect(),this.events=r}else this.worker=this.events=this.registration=be(()=>Object(wO.a)(new Error("Service workers are disabled or not supported by this browser")))}postMessage(t,e){return this.worker.pipe(Ue(1),Object(tn.a)(n=>{n.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>{})}postMessageWithStatus(t,e,n){const r=this.waitForStatus(n),i=this.postMessage(t,e);return Promise.all([r,i]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){return this.events.pipe(_e(e=>e.type===t))}nextEventOfType(t){return this.eventsOfType(t).pipe(Ue(1))}waitForStatus(t){return this.eventsOfType("STATUS").pipe(_e(e=>e.nonce===t),Ue(1),Object(ye.a)(t=>{if(!t.status)throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let NO=(()=>{class t{constructor(t){if(this.sw=t,this.subscriptionChanges=new te.a,!t.isEnabled)return this.messages=CO,this.notificationClicks=CO,void(this.subscription=CO);this.messages=this.sw.eventsOfType("PUSH").pipe(Object(ye.a)(t=>t.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Object(ye.a)(t=>t.data)),this.pushManager=this.sw.registration.pipe(Object(ye.a)(t=>t.pushManager));const e=this.pushManager.pipe(Me(t=>t.getSubscription()));this.subscription=Object(xw.a)(e,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(AO));const e={userVisibleOnly:!0};let n=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return e.applicationServerKey=r,this.pushManager.pipe(Me(t=>t.subscribe(e)),Ue(1)).toPromise().then(t=>(this.subscriptionChanges.next(t),t))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Ue(1),Me(t=>{if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(t=>{if(!t)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(AO))}decodeBase64(t){return atob(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(kO))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),PO=(()=>{class t{constructor(t){if(this.sw=t,!t.isEnabled)return this.available=CO,void(this.activated=CO);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(AO));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(AO));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(kO))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class DO{}const RO=new r.q("NGSW_REGISTER_SCRIPT");function LO(t,e,n,i){return()=>{if(!mt(i)||!("serviceWorker"in navigator)||!1===n.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)o=n.registrationStrategy();else{const[e,...r]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(e){case"registerImmediately":o=Object(Qt.a)(null);break;case"registerWithDelay":o=MO(+r[0]||0);break;case"registerWhenStable":o=r[0]?Object(xw.a)(VO(t),MO(+r[0])):VO(t);break;default:throw new Error("Unknown ServiceWorker registration strategy: "+n.registrationStrategy)}}t.get(r.z).runOutsideAngular(()=>o.pipe(Ue(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(t=>console.error("Service worker registration failed with:",t))))}}function MO(t){return Object(Qt.a)(null).pipe(function(t,e=rs.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new TO(r,e))}(t))}function VO(t){return t.get(r.g).isStable.pipe(_e(t=>t))}function FO(t,e){return new kO(mt(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let UO=(()=>{class t{static register(e,n={}){return{ngModule:t,providers:[{provide:RO,useValue:e},{provide:DO,useValue:n},{provide:kO,useFactory:FO,deps:[DO,r.B]},{provide:r.d,useFactory:LO,deps:[r.r,RO,DO,r.B],multi:!0}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[NO,PO]}),t})(),qO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[vO]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Yt],imports:[[Jt,mO,UO.register("ngsw-worker.js",{enabled:!0}),ls.a.initializeApp(i),Q_,ns]]}),t})();Object(r.S)(),$t().bootstrapModule(qO).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);